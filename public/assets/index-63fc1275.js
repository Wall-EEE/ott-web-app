var Go=Object.defineProperty;var Qo=(e,t,n)=>t in e?Go(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var At=(e,t,n)=>(Qo(e,typeof t!="symbol"?t+"":t,n),n);import{j as mr,r as f,R as fe,a as ks}from"./react-e4305997.js";import{Q as Ko,a as Zo,m as er,p as hr,c as A,s as Xo,b as ea,d as X,H as at,u as ze,e as I,I as Ss,N as Ns,i as ot,o as Ps,f as ta,g as ee,h as ce,j as qt,k as pn,B as na,l as ra,V as Jr,L as fr,n as oe,q as R,r as jt,t as wt,v as _r,w as sa,x as tr,y as oa,z as aa,A as ia,R as $s,C as Ie,D as ca,E as la,F as Yr,G as da,J as ua,K as pa,M as ma,O as ha,P as Is,S as Gr,T as fa,U as _a,W as Tn,X as ga,Y as ya,Z as Ts,_ as wa,$ as ba,a0 as va,a1 as Qr,a2 as Ca,a3 as xa,a4 as ka}from"./vendor-3b093dc1.js";import{I as H}from"./inplayer-bab15c1e.js";import"./index-63fc1275.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var Vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const Sa="modulepreload",Na=function(e){return"/"+e},Kr={},Pa=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=Na(a),a in Kr)return;Kr[a]=!0;const i=a.endsWith(".css"),c=i?'[rel="stylesheet"]':"";if(!!r)for(let p=o.length-1;p>=0;p--){const u=o[p];if(u.href===a&&(!i||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${c}`))return;const d=document.createElement("link");if(d.rel=i?"stylesheet":Sa,i||(d.as="script",d.crossOrigin=""),d.href=a,document.head.appendChild(d),i)return new Promise((p,u)=>{d.addEventListener("load",p),d.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t())};function $a(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:o,onRegisteredSW:a,onRegisterError:i}=e;let c,l,d,p;const u=async(y=!0)=>{await d,await(p==null?void 0:p())};async function g(){if("serviceWorker"in navigator){const{Workbox:y}=await Pa(()=>import("./vendor-3b093dc1.js").then(h=>h.a5),["assets/vendor-3b093dc1.js","assets/react-e4305997.js"]);c=new y("/sw.js",{scope:"/",type:"classic"}),p=async()=>{l&&l.waiting&&await(c==null?void 0:c.messageSkipWaiting())},c.addEventListener("activated",h=>{!h.isUpdate&&h.isExternal?window.location.reload():h.isUpdate||r==null||r()});{const h=()=>{c==null||c.addEventListener("controlling",v=>{v.isUpdate&&window.location.reload()}),n==null||n()};c.addEventListener("waiting",h),c.addEventListener("externalwaiting",h)}c.register({immediate:t}).then(h=>{l=h,a?a("/sw.js",h):o==null||o(h)}).catch(h=>{i==null||i(h)})}}return d=g(),u}const s=mr.exports.jsx,_=mr.exports.jsxs,ae=mr.exports.Fragment,fn=new Ko({defaultOptions:{queries:{staleTime:60*60*1e3,refetchOnWindowFocus:!1,retryOnMount:!1}}});function Ia({children:e}){return s(Zo,{client:fn,children:e})}const Ta="_mediaStaticPage_v6zr1_1",Ea={mediaStaticPage:Ta},La="_markdown_xtbld_1",Aa={markdown:La},Ma={link(e,t,n){const r=/^(https?|www\.|\/\/)/.test(e||""),o=r?'target="_blank"':void 0,a=r?'rel="noopener"':void 0,i=t?`title="${t}"`:void 0,c=[o,a,i].filter(Boolean);return`<a href="${e}" ${c.join(" ")}>${n}</a>`}};er.use({renderer:Ma});const gr=({markdownString:e,className:t,inline:n=!1})=>{const r=f.exports.useMemo(()=>{const a=(n?er.parseInline:er.parse)(e);return hr.sanitize(a,{ADD_ATTR:["target"]})},[n,e]);return s("div",{className:A(Aa.markdown,t),dangerouslySetInnerHTML:{__html:r}})},Da={inplayerAuth:{id:"https://web-ott.s3.eu-west-1.amazonaws.com/apps/configs/daily-avod.json",label:"InPlayer AUTHVOD"},inplayerSvod:{id:"https://web-ott.s3.eu-west-1.amazonaws.com/apps/configs/demo.json",label:"InPlayer SVOD"},inplayerHosted:{id:"a2kbjdv0",label:"InPlayer Hosted"},basicNoAuth:{id:"gnnuzabk",label:"Demo App (No Auth)"},noStyling:{id:"kujzeu1b",label:"No Styling (No Auth)"},inlinePlayer:{id:"ata6ucb8",label:"Inline Player"},cleengAuthvod:{id:"nvqkufhy",label:"Cleeng Authvod"},cleengAuthvodNoWatchlist:{id:"7weyqrua",label:"Cleeng Authvod (No WL)"},svod:{id:"ozylzc5m",label:"SVOD"}};function Oa(e,t=200){let n;return(...r)=>{n&&clearTimeout(n),n=setTimeout(()=>e(...r),t)}}function Fa(e){if(e.indexOf("#")===0&&(e=e.slice(1)),e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),e.length===6)return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)}}function En(e){const t=Fa(e);return t?t.r*.299+t.g*.587+t.b*.114>186?"#000000":"#FFFFFF":""}const nr=!1;function mn(e,...t){}const Es=e=>{var t;return["true","1","yes"].includes((t=String(e))==null?void 0:t.toLowerCase())},Ba=e=>{var t;return["false","0","no"].includes((t=String(e))==null?void 0:t.toLowerCase())};const it=(e,t)=>{const n=Xo(t);return ea(n)};var Je=(e=>(e.ContinueWatching="continue_watching",e.Favorites="favorites",e))(Je||{});const Ra=["favorites","continue_watching"],j=it("ConfigStore",(e,t)=>({config:{id:"",siteName:"",description:"",player:"",assets:{},content:[],menu:[],integrations:{cleeng:{useSandbox:!0},inplayer:{clientId:null,assetId:null,useSandbox:!0}},styling:{footerText:""}},accessModel:"SVOD",adScheduleData:null,getCleengData:()=>{var c,l;const n=(l=(c=t().config)==null?void 0:c.integrations)==null?void 0:l.cleeng,r=n==null?void 0:n.id,o=!!(n!=null&&n.useSandbox),a=(n==null?void 0:n.monthlyOffer)||"",i=(n==null?void 0:n.yearlyOffer)||"";return{cleengId:r,cleengSandbox:o,monthlyOfferId:a,yearlyOfferId:i}}})),yr=e=>e?`${Math.ceil(e/60)} min`:null,Wa=e=>{if(!e)return null;const t=Math.floor(e/3600),n=Math.round((e-t*3600)/60),r=t?`${t}h `:"",o=n?`${n}m `:"";return`${r}${o}`},he=(e,t)=>{const n=e.indexOf("?"),r=n>-1?e.slice(0,n):e,o=new URLSearchParams(n>-1?e.slice(n):void 0);Object.keys(t).forEach(i=>{const c=t[i];if(c==null||typeof c=="object"&&!(c!=null&&c.length))return;const l=Array.isArray(c)?c.join(","):c;o.set(i,String(l))});const a=o.toString();return`${r}${a?`?${a}`:""}`},Ls=(e,t="-")=>e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"").replace(/-/g,t),Oe=(e,t,n=!1)=>he(`/m/${e.mediaid}/${Ls(e.title)}`,{r:t,play:n?"1":null}),bt=(e,t,n=!1)=>he(`/p/${e}`,{channel:t,play:n?"1":null}),st=(e,t,n=!1,r)=>he(Oe(e,r,n),{seriesId:t}),xt=e=>e?new Date(e*1e3).toLocaleDateString():"",We=(e,t,n)=>new Intl.NumberFormat(n||void 0,{style:"currency",currency:t}).format(e),As=(e,t)=>{const n=[];return e.pubdate&&n.push(new Date(e.pubdate*1e3).getFullYear()),!t&&e.duration&&n.push(Wa(e.duration)),t&&n.push(t),e.genre&&n.push(e.genre),e.rating&&n.push(e.rating),n.join(" â€¢ ")},wr=(e,t)=>!e&&!t?"":e&&e!=="0"?`S${e}:E${t}`:`E${t}`,Va=({data:e})=>{const{config:t}=j(({config:a})=>({config:a}),X),{siteName:n}=t,r=`${e.title} - ${n}`,o=e?`${window.location.origin}${Oe(e)}`:window.location.href;return _(ae,{children:[_(at,{children:[s("title",{children:r}),s("link",{rel:"canonical",href:o}),s("meta",{property:"og:title",content:r}),s("meta",{name:"twitter:title",content:r})]}),s("div",{className:Ea.mediaStaticPage,children:s(gr,{markdownString:e.description})})]})},Ms=async(e,t={},n)=>await(await fetch(e,{method:"POST",headers:{Authorization:n?`Bearer ${n}`:""},body:JSON.stringify(t)})).json(),qa=async(e,t,n,r,o)=>{const a=await Ms(`${e}/media/${t}/sign${o?`/drm/${o}`:""}`,r,n);if(!a.entitled)throw new Error("Unauthorized");return a.token},ja=async(e,t,n,r,o,a)=>{const i=await Ms(`${e}/${t}/${n}/sign_public${a?`/drm/${a}`:""}`,o,r);if(!i.entitled)throw new Error("Unauthorized");return i.token},Ds=(e,t,n,r={},o=!0,a)=>{const i=j(h=>h.config.contentSigningService),c=i==null?void 0:i.host,l=i==null?void 0:i.drmPolicyId,d=!!l,p=!!c&&d,{data:u,isLoading:g}=ze(["token",e,t,r],()=>{if(!!t&&!!c&&d){const{host:h,drmPolicyId:v}=i;return ja(h,e,t,void 0,r,v)}},{enabled:p&&o&&!!t,keepPreviousData:!1,staleTime:15*60*1e3}),y=ze([e,t,r,u],async()=>n(u,l),{enabled:!!t&&o&&(!p||!!u),placeholderData:t?a:void 0,retry:e==="media"?2:!1,retryDelay:1e3,keepPreviousData:!0});return{...y,isLoading:g||y.isLoading}};class Ha extends Error{constructor(n="",r){super(n);At(this,"code");At(this,"message");this.name="ApiError",this.message=n,this.code=r}}const ct=async e=>{const t=await e.json();if(!e.ok){const n=`Request '${e.url}' failed with ${e.status}`;throw new Ha((t==null?void 0:t.message)||n,e.status||500)}return t},St=(e,t,n,r)=>{const o=Ba(r==null?void 0:r.requiresSubscription)||Es(r==null?void 0:r.free),a=r==null?void 0:r.mediaOffers;return!(o||e==="AVOD"&&!a||e==="AUTHVOD"&&t&&!a||e==="SVOD"&&n&&!(a!=null&&a.some(i=>i.premier)))},Ua=(e,t)=>t?t.replace(/\s/g,"").split(",").reduce((n,r)=>r.indexOf(`${e}:`)===0||r.indexOf(`!${e}:`)===0?[...n,{offerId:r.slice(r.indexOf(":")+1),premier:r[0]==="!"}]:n,[]):null,za="_card_1wg2e_1",Ja="_poster_1wg2e_15",Ya="_featured_1wg2e_19",Ga="_title_1wg2e_19",Qa="_tag_1wg2e_35",Ka="_meta_1wg2e_44",Za="_disabled_1wg2e_52",Xa="_current_1wg2e_72",ei="_posterImage_1wg2e_81",ti="_visible_1wg2e_90",ni="_currentLabel_1wg2e_94",ri="_aspect11_1wg2e_110",si="_aspect21_1wg2e_114",oi="_aspect23_1wg2e_118",ai="_aspect43_1wg2e_122",ii="_aspect53_1wg2e_126",ci="_aspect169_1wg2e_130",li="_aspect916_1wg2e_134",di="_aspect913_1wg2e_138",ui="_titleContainer_1wg2e_142",pi="_loading_1wg2e_161",mi="_tags_1wg2e_185",hi="_lock_1wg2e_207",fi="_live_1wg2e_216",_i="_progressContainer_1wg2e_220",gi="_progressBar_1wg2e_230",Z={card:za,poster:Ja,featured:Ya,title:Ga,tag:Qa,meta:Ka,disabled:Za,current:Xa,posterImage:ei,visible:ti,currentLabel:ni,aspect11:ri,aspect21:si,aspect23:oi,aspect43:ai,aspect53:ii,aspect169:ci,aspect916:li,aspect913:di,titleContainer:ui,loading:pi,tags:mi,lock:hi,live:fi,progressContainer:_i,progressBar:gi},yi="_icon_23h0x_1",wi={icon:yi},re=(e,t)=>({className:n,...r})=>s("svg",{className:A(wi.icon,n),viewBox:e,...r,focusable:"false","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",children:t}),br=re("0 0 24 24",s("path",{fill:"currentColor",d:"M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z"})),bi="_image_f8aiq_1",vi={image:bi},Ci=(e,t)=>he(e,{width:t}),xi=({className:e,image:t,onLoad:n,alt:r="",width:o=640})=>{const[a,i]=f.exports.useState(t==null?void 0:t.image),c=()=>{n&&n()},l=()=>{(t==null?void 0:t.fallbackImage)&&t.fallbackImage!==t.image&&i(t==null?void 0:t.fallbackImage)};return f.exports.useEffect(()=>{i(t==null?void 0:t.image)},[t]),a?s("img",{className:A(e,vi.image),src:Ci(a,o),onLoad:c,onError:l,alt:r}):null},Nt=fe.memo(xi),ki=["2:1","16:9","5:3","4:3","1:1","9:13","2:3","9:16"];function Si({onClick:e,onHover:t,title:n,duration:r,image:o,seriesId:a,seasonNumber:i,episodeNumber:c,progress:l,posterAspect:d="16:9",featured:p=!1,disabled:u=!1,loading:g=!1,isCurrent:y=!1,isLocked:h=!0,currentLabel:v}){const{t:k}=I("common"),[b,m]=f.exports.useState(!1),x=A(Z.card,{[Z.featured]:p,[Z.disabled]:u}),C=A(Z.poster,Z[`aspect${d.replace(":","")}`],{[Z.current]:y}),N=A(Z.posterImage,{[Z.visible]:b}),S=()=>{if(g||u||!n)return null;if(a)return s("div",{className:Z.tag,children:"Series"});if(c)return s("div",{className:Z.tag,children:wr(i,c)});if(r)return s("div",{className:Z.tag,children:yr(r)});if(r===0)return s("div",{className:A(Z.tag,Z.live),children:k("live")})};return _("div",{className:x,onClick:e,onMouseEnter:t,tabIndex:u?-1:0,onKeyDown:w=>(w.key==="Enter"||w.key===" ")&&!u&&e&&e(),role:"button","aria-label":k("play_item",{title:n}),children:[_("div",{className:C,children:[s(Nt,{className:N,image:o,width:p?640:320,onLoad:()=>m(!0),alt:n}),y&&s("div",{className:Z.currentLabel,children:v}),!g&&_("div",{className:Z.meta,children:[p&&!u&&s("div",{className:A(Z.title,{[Z.loading]:g}),children:n}),_("div",{className:Z.tags,children:[h&&s("div",{className:A(Z.tag,Z.lock),"aria-label":k("card_lock"),role:"status",children:s(br,{})}),S()]})]}),l?s("div",{className:Z.progressContainer,children:s("div",{className:Z.progressBar,style:{width:`${Math.round(l*100)}%`}})}):null]}),!p&&!u&&s("div",{className:Z.titleContainer,children:s("div",{className:A(Z.title,{[Z.loading]:g}),children:n})})]})}const Os=f.exports.memo(Si),Ni=(e,t)=>{var o;const n=e.menu.find(a=>a.contentId===t);return((o=n==null?void 0:n.filterTags)==null?void 0:o.split(",").filter(Boolean))||[]},Pi=(e,t)=>t?{...e,playlist:e.playlist.filter(({tags:n})=>n?n.split(",").includes(t):!1)}:e,$i=(e,t)=>{var n;return((n=e.images.find(r=>r.width===t))==null?void 0:n.src)||e.image},Ii=(e=15)=>({title:"",playlist:new Array(e).fill({}).map((t,n)=>({description:"",duration:0,feedid:"",image:"",images:[],shelfImage:{image:"",fallbackImage:""},backgroundImage:{image:"",fallbackImage:""},channelLogoImage:{image:"",fallbackImage:""},link:"",genre:"",mediaid:`placeholder_${n}`,pubdate:0,rating:"",sources:[],tags:"",title:"",tracks:[]}))}),Ti=(e=[],t=[])=>{if(!e||!t)return{};const n={};return e==null||e.forEach(r=>{t!=null&&t.find(o=>o.name===r.name&&o.state==="accepted")&&(n[r.name]=!0)}),n},Ei=e=>{const t={};return e&&(e==null||e.forEach(n=>{t[n.name]=n.enabledByDefault})),t},Li=(e,t)=>{const n=[];return!e||!t||e.forEach(r=>{n.push({name:r.name,version:r.version,state:t.consents[r.name]?"accepted":"declined"})}),n},Ai=(e,t)=>{const n=[],r=[];return!e||!t?{customerConsents:n,consentsErrors:r}:(e.forEach(o=>{o.required&&!t[o.name]&&r.push(o.name),n.push({name:o.name,version:o.version,state:t[o.name]?"accepted":"declined"})}),{customerConsents:n,consentsErrors:r})},Zr=e=>Array.isArray(e)||typeof e=="object"&&e!==null?JSON.parse(JSON.stringify(e)):e,Fs=e=>{if(typeof e=="string"&&ki.includes(e))return e},Bs=e=>{if(!e)return 0;const t=e.split(":");return t.length===2?Math.floor(parseInt(t[1])/parseInt(t[0])):0},Mi=(e,t,n)=>`https://img.jwplayer.com/v1/media/${e}/images/${t}.webp?width=${n}`,Ln=(e,t,n,r,o=640)=>{var d;const a=$i(n,o),i=r?r[t]:n[t],c=(d=e.custom)==null?void 0:d[t],l=i||c;return{image:typeof l=="string"?Mi(n.mediaid,l,o):a,fallbackImage:l?a:void 0}},vr=(e,t)=>{const n=j.getState().config;return{...e,shelfImage:Ln(n,"shelfImage",e,t),backgroundImage:Ln(n,"backgroundImage",e),channelLogoImage:Ln(n,"channelLogoImage",e),mediaOffers:e.productIds?Ua("cleeng",e.productIds):void 0}},Di=(e,t)=>(e.playlist=e.playlist.map(n=>vr(n,e)),t&&e.playlist.filter(n=>n.mediaid!==t),e),Oi=async(e,t={},n)=>{if(!e)return;const r=n?`/v2/playlists/${e}/drm/${n}`:`/v2/playlists/${e}`,o=he(`https://cdn.jwplayer.com${r}`,t),a=await fetch(o),i=await ct(a);return Di(i,t.related_media_id)},Fi=async(e,t,n)=>{if(!(t!=null&&t.length))return[];const r=`/apps/watchlists/${e}`,o=he(`https://cdn.jwplayer.com${r}`,{token:n,media_ids:t}),a=await fetch(o),i=await ct(a);if(!i)throw new Error(`The data was not found using the watchlist ${e}`);return(i.playlist||[]).map(c=>vr(c,i))},Cr=async(e,t,n)=>{const r=n?`/v2/media/${e}/drm/${n}`:`/v2/media/${e}`,o=he(`https://cdn.jwplayer.com${r}`,{token:t}),a=await fetch(o),c=(await ct(a)).playlist[0];if(!c)throw new Error("MediaItem not found");return vr(c)},Bi=async(e,t,n)=>{const r=await Promise.allSettled(e.map(a=>Cr(a,t==null?void 0:t[a],n)));function o(a){return a!=null}return r.map(a=>a.status==="fulfilled"?a.value:null).filter(o)},Ri=async(e,t={})=>{if(!e)throw new Error("Series ID is required");const n=`/apps/series/${e}`,r=he(`https://cdn.jwplayer.com${n}`,t),o=await fetch(r);return await ct(o)},Wi=async e=>{const n=he("https://cdn.jwplayer.com/apps/series",{media_ids:e.join(",")}),r=await fetch(n);return await ct(r)},Vi=async e=>{if(!e)throw new Error("Ad Schedule ID is required");const t=`https://cdn.jwplayer.com/v2/advertising/schedules/${e}.json`,n=await fetch(t);return await ct(n)};function xr(e,t=!0){return Ds("media",e,(r,o)=>Cr(e,r,o),{},t)}const qi="_loading_8gk2b_1",ji={loading:qi},Hi="_buffer_56s5k_1",Ui="_small_56s5k_20",Xr={buffer:Hi,small:Ui},Pt=({size:e="medium",className:t=""})=>_("div",{className:A(Xr.buffer,t,{[Xr.small]:e==="small"}),children:[s("div",{}),s("div",{}),s("div",{}),s("div",{})]}),lt=()=>s("div",{className:ji.loading,children:s(Pt,{})}),zi="_errorPage_ncb7j_1",Ji="_box_ncb7j_14",Yi="_title_ncb7j_19",Gi="_main_ncb7j_26",Qi="_logo_ncb7j_40",Ki="_links_ncb7j_44",Zi="_stack_ncb7j_48",Xi="_image_ncb7j_53",Mt={errorPage:zi,box:Ji,title:Yi,main:Gi,logo:Qi,links:Ki,stack:Zi,image:Xi};function De(e){if(e.startsWith("http"))return e;const t="ott-web-app",n=r=>r.replace(/^\/+|\/+$/g,"");return"/"+[t,e].map(n).join("/")}const we=({title:e,message:t,learnMoreLabel:n,...r})=>{const{t:o}=I("error");return s(Rs,{title:e||o("generic_error_heading"),message:t||o("generic_error_description"),learnMoreLabel:n||o("learn_more"),...r})},Rs=({title:e,children:t,message:n,learnMoreLabel:r,error:o,helpLink:a})=>{const i=j(c=>{var l,d;return(d=(l=c.config)==null?void 0:l.assets)==null?void 0:d.banner});return s("div",{className:Mt.errorPage,children:_("div",{className:Mt.box,children:[s("img",{className:Mt.image,src:De(i||"/images/logo.png"),alt:"Logo"}),s("header",{children:s("h1",{className:Mt.title,children:e||"An error occurred"})}),s("main",{className:Mt.main,children:_(ae,{children:[t||s("p",{children:n||"Try refreshing this page or come back later."}),nr]})})]})})},Ws=e=>{if(!!e)return e.seriesPlayListId||e.seriesPlaylistId||e.seriesId},ec=e=>typeof Ws(e)<"u",Vs=e=>e&&typeof e.episodeNumber<"u",tc=e=>e.contentType==="LiveChannel"&&!!e.liveChannelsId,nc=e=>{if(!e||!Vs(e))return null;const n=(e.tags?e.tags.split(","):[]).find(function(r){return/seriesid_([\w\d]+)/i.test(r)});return n?n.split("_")[1]:e.seriesId?e.seriesId:null},rc="_videoInlineLayout_1j37c_1",sc="_player_1j37c_34",oc="_videoDetailsInline_1j37c_58",ac="_relatedVideosList_1j37c_63",ic="_relatedVideos_1j37c_63",cc="_relatedVideosGrid_1j37c_93",lc="_inlineLayout_1j37c_100",dc="_relatedVideosGridTitle_1j37c_116",uc="_relatedVideosListTitle_1j37c_125",pc="_filters_1j37c_134",mc="_filtersInline_1j37c_140",hc="_filterMetadata_1j37c_146",Ce={videoInlineLayout:rc,player:sc,videoDetailsInline:oc,relatedVideosList:ac,relatedVideos:ic,relatedVideosGrid:cc,inlineLayout:lc,relatedVideosGridTitle:dc,relatedVideosListTitle:uc,filters:pc,filtersInline:mc,filterMetadata:hc},fc="_cell_1k7g3_1",_c="_container_1k7g3_6",An={cell:fc,container:_c,"cols-1":"_cols-1_1k7g3_10","cols-2":"_cols-2_1k7g3_13","cols-3":"_cols-3_1k7g3_16","cols-4":"_cols-4_1k7g3_19","cols-5":"_cols-5_1k7g3_22","cols-6":"_cols-6_1k7g3_25","cols-7":"_cols-7_1k7g3_28","cols-8":"_cols-8_1k7g3_31","cols-9":"_cols-9_1k7g3_34","cols-10":"_cols-10_1k7g3_37"},Jt=(e,t)=>{typeof e.addEventListener>"u"?e.addListener(t):e.addEventListener("change",t)},Yt=(e,t)=>{typeof e.removeEventListener>"u"?e.removeListener(t):e.removeEventListener("change",t)},rr=matchMedia("screen and (max-width: 479px)"),sr=matchMedia("screen and (min-width: 480px) and (max-width: 767px)"),or=matchMedia("screen and (min-width: 768px) and (max-width: 1023px)"),ar=matchMedia("screen and (min-width: 1024px) and (max-width: 1199px)");var q=(e=>(e[e.xs=0]="xs",e[e.sm=1]="sm",e[e.md=2]="md",e[e.lg=3]="lg",e[e.xl=4]="xl",e))(q||{});const es=()=>rr.matches?0:sr.matches?1:or.matches?2:ar.matches?3:4,be=()=>{const[e,t]=f.exports.useState(()=>es());return f.exports.useEffect(()=>{const n=()=>t(es());return Jt(rr,n),Jt(sr,n),Jt(or,n),Jt(ar,n),()=>{Yt(rr,n),Yt(sr,n),Yt(or,n),Yt(ar,n)}},[]),e},gc="_infiniteScrollLoader_6rn4e_1",yc={infiniteScrollLoader:gc},qs=()=>s("div",{className:yc.infiniteScrollLoader,children:s(Pt,{})}),ts=6,wc=4,bc={[q.xs]:2,[q.sm]:2,[q.md]:3,[q.lg]:4,[q.xl]:5};function _n({playlist:e,onCardClick:t,onCardHover:n,watchHistory:r,isLoading:o=!1,cols:a=bc,currentCardItem:i,currentCardLabel:c,accessModel:l,isLoggedIn:d,hasSubscription:p}){const u=be(),g=Fs(e.shelfImageAspectRatio),y=a[u]+Bs(g),[h,v]=f.exports.useState(ts);f.exports.useEffect(()=>{v(ts)},[e.feedid]);const k=b=>{const{mediaid:m,title:x,duration:C,seriesId:N,episodeNumber:S,seasonNumber:w,shelfImage:P}=b;return s("div",{className:An.cell,role:"row",children:s("div",{role:"cell",children:s(Os,{title:x,duration:C,image:P,progress:r?r[m]:void 0,seriesId:N,episodeNumber:S,seasonNumber:w,onClick:()=>t(b,b.feedid),onHover:typeof n=="function"?()=>n(b):void 0,loading:o,isCurrent:i&&i.mediaid===m,currentLabel:c,isLocked:St(l,d,p,b),posterAspect:g})})},m)};return s(Ss,{pageStart:0,loadMore:()=>v(b=>b+wc),hasMore:h*y<e.playlist.length,loader:s(qs,{},"loader"),children:s("div",{className:A(An.container,An[`cols-${y}`]),role:"grid",children:e.playlist.slice(0,h*y).map(k)})})}const vc="_filterRow_1t37d_1",Cc="_dropDown_1t37d_10",xc="_filterDropDown_1t37d_14",Mn={filterRow:vc,dropDown:Cc,filterDropDown:xc},kc="_container_1rgzd_1",Sc="_error_1rgzd_5",Nc="_dropdown_1rgzd_5",Pc="_medium_1rgzd_8",$c="_select_1rgzd_11",Ic="_label_1rgzd_16",Tc="_fullWidth_1rgzd_53",Ec="_disabled_1rgzd_83",Lc="_option_1rgzd_93",He={container:kc,error:Sc,dropdown:Nc,medium:Pc,select:$c,label:Ic,fullWidth:Tc,disabled:Ec,option:Lc},Ac="_helperText_r0crl_1",Mc="_error_r0crl_6",ns={helperText:Ac,error:Mc},$t=({children:e,className:t,error:n})=>e?s("div",{className:A(ns.helperText,{[ns.error]:n},t),children:e}):null,rs=(e,t)=>{const n=Math.random()*1e4;return[e,Math.round(n),t].filter(Boolean).join("_")},dt=(e,t,n)=>{const[r,o]=f.exports.useState(n||rs(e,t));return f.exports.useEffect(()=>{o(n||rs(e,t))},[n,e,t]),r},js=({name:e,value:t,className:n,defaultLabel:r,options:o,onChange:a,optionsStyle:i,label:c,fullWidth:l,valuePrefix:d,error:p,helperText:u,required:g=!1,size:y="medium",...h})=>{const{t:v}=I("common"),k=dt();return _("div",{className:A(He.container,{[He.fullWidth]:l,[He.error]:p},He[y],n),children:[c&&_("label",{htmlFor:k,className:He.label,children:[c,g?null:s("span",{children:v("optional")})]}),s("div",{className:A(He.dropdown,{[He.fullWidth]:l}),children:_("select",{id:k,className:He.select,name:e,value:t,onChange:a,"aria-required":g,...h,children:[r&&s("option",{className:A(He.option,i),value:"",disabled:g,children:r}),o&&o.map(b=>_("option",{className:A(He.option,i),value:typeof b=="string"?b:b.value,children:[d,typeof b=="string"?b:b.label]},typeof b=="string"?b:b.value))]})}),s($t,{error:p,children:u})]})},Dc="_button_1h2k4_1",Oc="_disabled_1h2k4_21",Fc="_small_1h2k4_36",Bc="_large_1h2k4_39",Rc="_primary_1h2k4_46",Wc="_outlined_1h2k4_50",Vc="_active_1h2k4_53",qc="_text_1h2k4_58",jc="_fullWidth_1h2k4_70",Hc="_startIcon_1h2k4_84",Uc="_hidden_1h2k4_102",zc="_centerAbsolute_1h2k4_106",Le={button:Dc,disabled:Oc,small:Fc,large:Bc,default:"_default_1h2k4_42",primary:Rc,outlined:Wc,active:Vc,text:qc,fullWidth:jc,startIcon:Hc,hidden:Uc,centerAbsolute:zc},M=({label:e,children:t,color:n="default",startIcon:r,fullWidth:o=!1,active:a=!1,variant:i="outlined",size:c="medium",disabled:l,busy:d,type:p,to:u,onClick:g,className:y,...h})=>{const v=b=>A(Le.button,y,Le[n],Le[i],{[Le.active]:b,[Le.fullWidth]:o,[Le.large]:c==="large",[Le.small]:c==="small",[Le.disabled]:l}),k=_(ae,{children:[r&&s("div",{className:Le.startIcon,children:r}),s("span",{className:A(Le.buttonLabel,{[Le.hidden]:d})||void 0,children:e}),t,d&&s(Pt,{className:Le.centerAbsolute,size:"small"})]});return u?s(Ns,{className:({isActive:b})=>v(b),to:u,...h,end:!0,children:k}):s("button",{className:v(a),onClick:g,type:p,disabled:l,"aria-disabled":l,...h,children:k})},Hs=({name:e,value:t,defaultLabel:n,options:r,setValue:o,valuePrefix:a="",forceDropdown:i=!1})=>{const{t:c}=I("common"),l=be();if(!r.length)return null;const d=u=>o(u.target.value),p=!i&&l>=q.md&&r.length<6;return s(f.exports.Fragment,{children:p?_("div",{className:Mn.filterRow,role:"listbox","aria-label":c("filter_videos_by",{name:e}),children:[r.map(u=>s(M,{label:`${a}${u}`,onClick:()=>o(u),active:t===u,role:"option"},u)),s(M,{label:n,onClick:()=>o(""),active:t==="",role:"option"},n)]}):s("div",{className:Mn.filterDropDown,children:s(js,{className:Mn.dropDown,size:"small",options:r,defaultLabel:n,valuePrefix:a,name:e,value:t,onChange:d,"aria-label":c("filter_videos_by",{name:e})})})})},Jc="_video_j9gdc_1",Yc="_mainPadding_j9gdc_8",Gc="_main_j9gdc_8",Qc="_hidden_j9gdc_31",Kc="_info_j9gdc_35",Zc="_title_j9gdc_60",Xc="_metaContainer_j9gdc_78",el="_primaryMetadata_j9gdc_83",tl="_secondaryMetadata_j9gdc_96",nl="_description_j9gdc_111",rl="_buttonBar_j9gdc_119",sl="_poster_j9gdc_151",ol="_playIcon_j9gdc_179",Be={video:Jc,mainPadding:Yc,main:Gc,hidden:Qc,info:Kc,title:Zc,metaContainer:Xc,primaryMetadata:el,secondaryMetadata:tl,description:nl,buttonBar:rl,poster:sl,playIcon:ol},al="_collapsibleText_8481k_1",il="_dummyDiv_8481k_6",cl="_textContainer_8481k_11",ll="_collapsed_8481k_15",dl="_chevron_8481k_21",ul="_expanded_8481k_34",Dt={collapsibleText:al,dummyDiv:il,textContainer:cl,collapsed:ll,chevron:dl,expanded:ul},pl="_iconButton_ynwnq_1",ml={iconButton:pl},_e=({children:e,onClick:t,"aria-label":n,tabIndex:r=0,className:o})=>s("div",{className:A(ml.iconButton,o),onClick:t,"aria-label":n,role:"button",tabIndex:r,onKeyDown:a=>(a.key==="Enter"||a.key===" ")&&r>=0&&t&&t(),children:e}),kr=re("0 0 24 24",s("g",{children:s("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})})),Us=({text:e,className:t,maxHeight:n="none"})=>{const r=f.exports.useRef(),o=be(),[a,i]=f.exports.useState(!1),[c,l]=f.exports.useState(!1),d=c?"Collapse":"Expand",p=4;return f.exports.useEffect(()=>{r.current&&i(r.current.scrollHeight>r.current.offsetHeight+p||n<r.current.offsetHeight&&n!=="none")},[n,e,o]),_("div",{className:A(Dt.collapsibleText),children:[s("div",{ref:r,className:A(Dt.textContainer,t,{[Dt.collapsed]:!c&&a}),style:{maxHeight:c?r.current.scrollHeight:n},children:e}),a&&s(_e,{"aria-label":d,className:A(Dt.chevron,{[Dt.expanded]:c}),onClick:()=>l(!c),children:s(kr,{})})]})},hl=({title:e,description:t,primaryMetadata:n,secondaryMetadata:r,image:o,startWatchingButton:a,shareButton:i,favoriteButton:c,trailerButton:l})=>{const p=be()===q.xs;return s("div",{className:Be.video,"data-testid":void 0,children:_("div",{className:A(Be.main,Be.mainPadding),children:[s(Nt,{className:Be.poster,image:o,alt:e,width:1280}),_("div",{className:Be.info,children:[s("h2",{className:Be.title,children:e}),_("div",{className:Be.metaContainer,children:[s("div",{className:Be.primaryMetadata,children:n}),r&&s("div",{className:Be.secondaryMetadata,children:r})]}),s(Us,{text:t,className:Be.description,maxHeight:p?60:"none"}),_("div",{className:Be.buttonBar,children:[a,l,c,i]})]})]})})},fl="_details_k39cg_1",_l="_inlinePlayerMetadata_k39cg_24",gl="_title_k39cg_54",yl="_primaryMetadata_k39cg_81",wl="_live_k39cg_90",bl="_secondaryMetadata_k39cg_107",vl="_description_k39cg_121",mt={details:fl,inlinePlayerMetadata:_l,title:gl,primaryMetadata:yl,live:wl,secondaryMetadata:bl,description:vl},Cl="_tag_gc1jh_1",xl="_normal_gc1jh_11",kl="_large_gc1jh_20",Sl="_live_gc1jh_31",Dn={tag:Cl,normal:xl,large:kl,live:Sl},hn=({children:e,className:t,isLive:n=!1,size:r="normal"})=>s("div",{className:A(t,Dn.tag,Dn[r],{[Dn.live]:n}),children:e}),Nl=({title:e,description:t,primaryMetadata:n,shareButton:r,favoriteButton:o,trailerButton:a,live:i})=>{const{t:c}=I("common"),d=be()===q.xs,p=typeof e=="string"?"h2":"div";return _("div",{className:mt.details,"data-testid":void 0,children:[s(p,{className:mt.title,children:e}),_("div",{className:mt.inlinePlayerMetadata,children:[_("div",{className:mt.primaryMetadata,children:[i&&s(hn,{className:mt.live,isLive:!0,children:c("live")}),n]}),a,o,r]}),s(Us,{text:t,className:mt.description,maxHeight:d?60:"none"})]})},Pl="_container_lwejo_1",$l={container:Pl},Il="_listItem_1a375_1",Tl="_poster_1a375_18",El="_posterImage_1a375_32",Ll="_visible_1a375_41",Al="_activeLabel_1a375_51",Ml="_title_1a375_84",Dl="_tags_1a375_98",Ol="_lock_1a375_105",Fl="_tag_1a375_98",Bl="_live_1a375_120",Rl="_progressContainer_1a375_124",Wl="_progressBar_1a375_134",Ae={listItem:Il,poster:Tl,posterImage:El,visible:Ll,activeLabel:Al,title:Ml,tags:Dl,lock:Ol,tag:Fl,live:Bl,progressContainer:Rl,progressBar:Wl};function Vl({onClick:e,onHover:t,title:n,duration:r,seriesId:o,seasonNumber:a,episodeNumber:i,progress:c,loading:l=!1,isActive:d=!1,activeLabel:p,isLocked:u=!0,image:g}){const{t:y}=I("common"),[h,v]=f.exports.useState(!1),k=A(Ae.posterImage,{[Ae.visible]:h}),b=()=>{if(l||!n)return null;if(o)return y("series");if(a&&i)return wr(a,i);if(r)return yr(r);if(r===0)return y("live")},m=x=>(x.key==="Enter"||x.key===" ")&&e&&e();return _("div",{className:Ae.listItem,onClick:e,onMouseEnter:t,onKeyDown:m,role:"button","aria-label":y("play_item",{title:n}),tabIndex:0,children:[_("div",{className:Ae.poster,children:[s(Nt,{className:k,image:g,alt:n,onLoad:()=>v(!0),width:320}),d&&s("div",{className:Ae.activeLabel,children:p}),_("div",{className:Ae.tags,children:[u&&s(br,{className:Ae.lock}),s(hn,{className:A(Ae.tag,{[Ae.live]:r===0}),children:b()})]}),c?s("div",{className:Ae.progressContainer,children:s("div",{className:Ae.progressBar,style:{width:`${Math.round(c*100)}%`}})}):null]}),s("div",{className:Ae.title,children:n})]})}const ql=f.exports.memo(Vl);function jl({playlist:e,header:t,onListItemClick:n,onListItemHover:r,isLoading:o=!1,watchHistory:a,activeMediaId:i,activeLabel:c,className:l,accessModel:d,isLoggedIn:p,hasSubscription:u}){return _("div",{className:A($l.container,!!l&&l),"data-testid":void 0,children:[!!t&&t,e&&e.playlist.map(g=>{const{mediaid:y,title:h,duration:v,seriesId:k,episodeNumber:b,seasonNumber:m,shelfImage:x}=g;return s(ql,{title:h,duration:v,image:x,progress:a?a[y]:void 0,seriesId:k,episodeNumber:b,seasonNumber:m,onClick:()=>n&&n(g,g.feedid),onHover:()=>r&&r(g),loading:o,isActive:i===y,activeLabel:c,isLocked:St(d,p,u,g)},y)})]})}const Sr=({inlineLayout:e,player:t,playlist:n,accessModel:r,isLoading:o,isLoggedIn:a,item:i,hasSubscription:c,title:l,description:d,image:p,primaryMetadata:u,secondaryMetadata:g,shareButton:y,favoriteButton:h,startWatchingButton:v,trailerButton:k,onItemClick:b,relatedTitle:m,watchHistory:x,activeLabel:C,filters:N,setFilter:S,filterMetadata:w,filterValuePrefix:P,currentFilter:$="",defaultFilterLabel:O="",children:E})=>{const T=be(),D=T===q.sm||T===q.md,L=N&&N.length>1,B=L&&S,Q=ue=>_("div",{className:A(Ce.filters,{[Ce.filtersInline]:e}),children:[!!w&&e&&s("span",{className:Ce.filterMetadata,children:w}),B&&s(Hs,{name:"season",value:$,valuePrefix:P,defaultLabel:O,options:N,setValue:S,forceDropdown:ue})]}),le=(ue=!0)=>!n||!b?null:ue?_(ae,{children:[_("div",{className:A(Ce.relatedVideosGrid,{[Ce.inlineLayout]:e}),children:[s("h3",{className:Ce.relatedVideosGridTitle,children:m||"Â "}),L&&Q(e)]}),s(_n,{playlist:n,onCardClick:b,isLoading:o,watchHistory:x,accessModel:r,isLoggedIn:a,currentCardItem:i,currentCardLabel:C,hasSubscription:c})]}):s("div",{className:Ce.relatedVideosList,children:s(jl,{className:Ce.videoList,header:_(ae,{children:[l&&s("h3",{className:Ce.relatedVideosListTitle,children:m}),L&&Q(!0)]}),activeMediaId:i==null?void 0:i.mediaid,activeLabel:C,playlist:n,onListItemClick:b,watchHistory:x,isLoading:o,accessModel:r,isLoggedIn:a,hasSubscription:c})});return e?_("div",{className:Ce.videoInlineLayout,"data-testid":void 0,children:[s("div",{className:Ce.player,children:t}),le(D),s("div",{className:Ce.videoDetailsInline,children:s(Nl,{title:g||l,live:(i==null?void 0:i.duration)===0,description:d,primaryMetadata:u,shareButton:y,favoriteButton:h,trailerButton:k})}),E]}):_("div",{className:Ce.videoCinemaLayout,"data-testid":void 0,children:[s(hl,{title:l,description:d,image:p,startWatchingButton:v,favoriteButton:h,trailerButton:k,shareButton:y,primaryMetadata:u,secondaryMetadata:g}),n&&b&&s("div",{className:Ce.relatedVideos,children:le(!0)}),E,t]})};function ir(e,t=!1){if(!e)return"";const n=new Date(e?e*1e3:0),r=n.getUTCHours(),o=n.getUTCMinutes(),a=n.getUTCSeconds();if(!t)return n.toISOString();let i="PT";return r>0&&(i+=r+"H"),o>0&&(i+=o+"M"),a>0&&(i+=a+"S"),i}const Hl=()=>{const e=new Date(Date.UTC(2022,6,20,18,0,0));return/am|pm/.test(e.toLocaleTimeString())},Ul=e=>({"@type":"TVSeries","@id":`${window.location.origin}/s/${e.feedid}`,name:e.title,numberOfEpisodes:e.playlist.length,numberOfSeasons:e.playlist.reduce(function(n,r){return!r.seasonNumber||n.includes(r.seasonNumber)?n:n.concat(r.seasonNumber)},[]).length}),zl=(e,t)=>{const n=`${window.location.origin}${st(t,e.feedid)}`,r=Ul(e);return JSON.stringify({"@context":"http://schema.org/","@type":"TVEpisode","@id":n,episodeNumber:t.episodeNumber,seasonNumber:t.seasonNumber,name:t.title,uploadDate:ir(t.pubdate),partOfSeries:r})},zs=e=>{const t=`${window.location.origin}${Oe(e)}`;return JSON.stringify({"@context":"http://schema.org/","@type":"VideoObject","@id":t,name:e.title,description:e.description,duration:ir(e.duration,!0),thumbnailUrl:e.image,uploadDate:ir(e.pubdate)})},W=it("AccountStore",e=>({loading:!0,auth:null,user:null,subscription:null,transactions:null,activePayment:null,customerConsents:null,publisherConsents:null,canUpdateEmail:!1,canRenewSubscription:!1,canChangePasswordWithOldPassword:!1,setLoading:t=>e({loading:t})})),Jl=Ii(30);function Ht(e,t={},n=!0,r=!0){return Ds("playlist",e,async(a,i)=>{var l;const c=await Oi(e,{token:a,...t},i);return(l=c==null?void 0:c.playlist)==null||l.forEach(d=>{fn.setQueryData(["media",d.mediaid,{},void 0],d)}),c},t,n,r?Jl:void 0)}const Yl=e=>{var n,r;const t=(r=(n=e.integrations)==null?void 0:n.inplayer)!=null&&r.useSandbox?"daily":"production";H.setConfig(t)},Gl=async({config:e,email:t,password:n})=>{var r,o;try{const{data:a}=await H.Account.signInV2({email:t,password:n,clientId:((r=e.integrations.inplayer)==null?void 0:r.clientId)||"",referrer:window.location.href}),i=yn(a.account);return i.externalData=await gn(),{auth:Gs(a),user:i,customerConsents:Ut((o=i==null?void 0:i.metadata)==null?void 0:o.consents,[])}}catch{throw new Error("Failed to authenticate user.")}},Ql=async({config:e,email:t,password:n})=>{var r,o;try{const{data:a}=await H.Account.signUpV2({email:t,password:n,passwordConfirmation:n,fullName:t,type:"consumer",clientId:((r=e.integrations.inplayer)==null?void 0:r.clientId)||"",referrer:window.location.href}),i=yn(a.account);return i.externalData=await gn(),{auth:Gs(a),user:i,customerConsents:Ut((o=i==null?void 0:i.metadata)==null?void 0:o.consents,[])}}catch(a){const{response:i}=a;throw new Error(i.data.message)}},Kl=async()=>{try{return await H.Account.signOut(),H.Notifications.unsubscribe()}catch{throw new Error("Failed to sign out.")}},Zl=async()=>{var e;try{const{data:t}=await H.Account.getAccountInfo(),n=yn(t);return n.externalData=await gn(),{user:n,customerConsents:Ut((e=n==null?void 0:n.metadata)==null?void 0:e.consents,[])}}catch{throw new Error("Failed to fetch user data.")}},Xl=async({auth:e})=>e,Js=async e=>{try{const t=await H.Account.updateAccount(Ys(e));return{errors:[],responseData:yn(t.data)}}catch{throw new Error("Failed to update user data.")}},ed=async e=>{try{const{inplayer:t}=e.integrations,{data:n}=await H.Account.getRegisterFields((t==null?void 0:t.clientId)||""),r=n==null?void 0:n.collection.filter(o=>o.type==="checkbox").map(o=>Qs(o));return{consents:[pd(),...r]}}catch{throw new Error("Failed to fetch publisher consents.")}},td=async e=>{var t;try{if(!(e!=null&&e.customer))return{consents:[]};const{customer:n}=e;return Ut((t=n.metadata)==null?void 0:t.consents,[])}catch{throw new Error("Unable to fetch Customer consents.")}},nd=async e=>{var t;try{const{customer:n,consents:r}=e,o={...Ys(n),metadata:{consents:JSON.stringify(r)}},{data:a}=await H.Account.updateAccount(o);return{consents:Ut((t=a==null?void 0:a.metadata)==null?void 0:t.consents,[])}}catch{throw new Error("Unable to update Customer consents")}},rd=async({customer:e})=>({errors:[],responseData:{isCaptureEnabled:!0,shouldCaptureBeDisplayed:!0,settings:[{answer:{firstName:e.firstName||null,lastName:e.lastName||null},enabled:!0,key:"firstNameLastName",required:!0}]}}),sd=async({...e})=>await Js(e),od=async e=>{const{oldPassword:t,newPassword:n,newPasswordConfirmation:r}=e;try{return await H.Account.changePassword({oldPassword:t,password:n,passwordConfirmation:r}),{errors:[],responseData:{}}}catch{throw new Error("Failed to change password.")}},ad=async e=>{const{resetPasswordToken:t="",newPassword:n,newPasswordConfirmation:r=""}=e;try{return await H.Account.setNewPassword({password:n,passwordConfirmation:r,brandingId:0},t),{errors:[],responseData:{}}}catch{throw new Error("Failed to change password.")}},id=async({customerEmail:e,publisherId:t})=>{try{return await H.Account.requestNewPassword({email:e,merchantUuid:t||"",brandingId:0}),{errors:[],responseData:{}}}catch{throw new Error("Failed to reset password.")}},cd=async(e="",t)=>{try{return H.Notifications.isSubscribed()||H.subscribe(e,{onMessage:t,onOpen:()=>!0}),!0}catch{return!1}},ld=async e=>{var i;const{favorites:t,history:n}=e.externalData,r=await gn(),o=(i=r==null?void 0:r.favorites)==null?void 0:i.map(c=>c.mediaid),a=t==null?void 0:t.map(c=>c.mediaid);try{return n.forEach(async c=>{var l,d;(l=r==null?void 0:r.history)!=null&&l.length?(d=r==null?void 0:r.history)==null||d.forEach(async p=>{p.mediaid===c.mediaid&&p.progress!==c.progress&&await H.Account.updateWatchHistory(c.mediaid,c.progress)}):await H.Account.updateWatchHistory(c.mediaid,c.progress)}),a.length>((o==null?void 0:o.length)||0)?a.forEach(async c=>{o!=null&&o.includes(c)||await H.Account.addToFavorites(c)}):o==null||o.forEach(async c=>{a!=null&&a.includes(c)||await H.Account.deleteFromFavorites(c)}),{errors:[],responseData:{}}}catch{throw new Error("Failed to update external data")}},gn=async()=>{var o,a,i,c;const[e,t]=await Promise.all([H.Account.getFavorites(),await H.Account.getWatchHistory({})]),n=(a=(o=e.data)==null?void 0:o.collection)==null?void 0:a.map(l=>dd(l)),r=(c=(i=t.data)==null?void 0:i.collection)==null?void 0:c.map(l=>ud(l));return{favorites:n,history:r}},dd=e=>({mediaid:e.media_id}),ud=e=>({mediaid:e.media_id,progress:e.progress});function yn(e){var p;const{id:t,uuid:n,email:r,full_name:o,metadata:a,created_at:i}=e,c=new Date(i*1e3).toLocaleString();let l=a==null?void 0:a.first_name,d=a==null?void 0:a.surname;if(!l&&!d){const u=o.split(" ");l=u[0]||"",d=(p=u.slice(1))==null?void 0:p.join(" ")}return{id:t.toString(),uuid:n,email:r,fullName:o,firstName:l,lastName:d,metadata:a,regDate:c,country:"",lastUserIp:""}}function Ys(e){var a,i;const t=((a=e.firstName)==null?void 0:a.trim())||"",n=((i=e.lastName)==null?void 0:i.trim())||"";return{fullName:`${t} ${n}`,metadata:{first_name:t,surname:n}}}function Gs(e){const{access_token:t}=e;return{jwt:t,customerToken:"",refreshToken:""}}function Qs(e){return{broadcasterId:0,enabledByDefault:!1,label:e.label,name:e.name,required:e.required,value:"",version:"1"}}function pd(){return Qs({required:!0,name:"terms",label:'I accept the <a href="https://inplayer.com/legal/terms" target="_blank">Terms and Conditions</a> of InPlayer.'})}function Ut(e,t={}){try{return JSON.parse(e)}catch{return t}}const md=!1,hd=!0,fd=!1,_d=Object.freeze(Object.defineProperty({__proto__:null,setEnvironment:Yl,login:Gl,register:Ql,logout:Kl,getUser:Zl,getFreshJwtToken:Xl,updateCustomer:Js,getPublisherConsents:ed,getCustomerConsents:td,updateCustomerConsents:nd,getCaptureStatus:rd,updateCaptureAnswers:sd,changePasswordWithOldPassword:od,changePasswordWithResetToken:ad,resetPassword:id,subscribeToNotifications:cd,updatePersonalShelves:ld,canUpdateEmail:md,canChangePasswordWithOldPassword:hd,canRenewSubscription:fd},Symbol.toStringTag,{value:"Module"}));async function gd({config:e}){var t;try{const n=((t=e.integrations.inplayer)==null?void 0:t.assetId)||0,r=await H.Asset.checkAccessForAsset(n);if(r){const{data:o}=await H.Subscription.getSubscriptions(),a=o.collection.find(i=>i.item_id===n);return a?kd(a):Sd(r.data)}return null}catch(n){const{response:r}=n;if(r.data.code===402)return null;throw new Error("Unable to fetch customer subscriptions.")}}async function yd(){var e;try{const{data:t}=await H.Payment.getPurchaseHistory("active",0,30);return(e=t==null?void 0:t.collection)==null?void 0:e.map(n=>xd(n))}catch{throw new Error("Failed to get transactions")}}async function wd(){var e;try{const{data:t}=await H.Payment.getDefaultCreditCard(),n=[];for(const r in t==null?void 0:t.cards)n.push(Cd((e=t.cards)==null?void 0:e[r]));return n.find(r=>r.active)||null}catch{return null}}const bd=async()=>({errors:[],responseData:{items:[]}}),vd=async({offerId:e,unsubscribeUrl:t})=>{if(!t)throw new Error("Missing unsubscribe url");try{return await H.Subscription.cancelSubscription(t),{errors:[],responseData:{offerId:e,status:"cancelled",expiresAt:0}}}catch{throw new Error("Failed to update subscription")}},Cd=e=>{const{number:t,exp_month:n,exp_year:r,card_name:o,card_type:a,account_id:i}=e,c=`0${n}`.slice(-2);return{customerId:i.toString(),paymentMethodSpecificParams:{holderName:o,variant:a,lastCardFourDigits:t,cardExpirationDate:`${c}/${r}`},active:!0}},xd=e=>{var n,r,o;const t=((n=e==null?void 0:e.purchased_amount)==null?void 0:n.toString())||"0";return{transactionId:e.parent_resource_id||ot.t("user:payment.access_granted"),transactionDate:e.created_at,offerId:((r=e.purchased_access_fee_id)==null?void 0:r.toString())||ot.t("user:payment.no_transaction"),offerType:e.type||"",offerTitle:(e==null?void 0:e.purchased_access_fee_description)||"",offerPeriod:"",transactionPriceExclTax:t,transactionCurrency:e.purchased_currency||"EUR",discountedOfferPrice:t,offerCurrency:e.purchased_currency||"EUR",offerPriceExclTax:t,applicableTax:"0",transactionPriceInclTax:t,customerId:(o=e.customer_id)==null?void 0:o.toString(),customerEmail:e.consumer_email,customerLocale:"",customerCountry:"en",customerIpCountry:"",customerCurrency:"",paymentMethod:e.payment_method||ot.t("user:payment.access_granted")}},kd=e=>{var n,r;let t="";switch(e.action_type){case"free-trial":case"recurrent":t="active";break;case"canceled":t="cancelled";break;case"incomplete_expired":t="expired";break;default:t="terminated"}return{subscriptionId:e.subscription_id,offerId:(n=e.item_id)==null?void 0:n.toString(),status:t,expiresAt:e.next_rebill_date,nextPaymentAt:e.next_rebill_date,nextPaymentPrice:e.subscription_price,nextPaymentCurrency:e.currency,paymentGateway:"stripe",paymentMethod:e.payment_method_name,offerTitle:e.item_title,period:(r=e.access_type)==null?void 0:r.period,totalPrice:e.charged_amount,unsubscribeUrl:e.unsubscribe_url}},Sd=e=>({subscriptionId:"",offerId:e.item.id.toString(),status:"active",expiresAt:e.expires_at,nextPaymentAt:e.expires_at,nextPaymentPrice:0,nextPaymentCurrency:"EUR",paymentGateway:"none",paymentMethod:ot.t("user:payment.access_granted"),offerTitle:e.item.title,period:"granted",totalPrice:0,unsubscribeUrl:""}),Nd=Object.freeze(Object.defineProperty({__proto__:null,getActiveSubscription:gd,getAllTransactions:yd,getActivePayment:wd,getSubscriptions:bd,updateSubscription:vd},Symbol.toStringTag,{value:"Module"})),Pd=e=>We(e.customerPriceInclTax,e.customerCurrency,e.customerCountry),kt=e=>{var t;return((t=e.offerId)==null?void 0:t[0])==="S"},$d=async e=>({errors:[],responseData:{message:"",order:Rd(e),success:!0}}),Id=async e=>{var t;try{const n=parseInt(`${(t=e==null?void 0:e.offerIds)==null?void 0:t[0]}`),{data:r}=await H.Asset.getAssetAccessFees(n);return r==null?void 0:r.map(o=>Bd(o))}catch{throw new Error("Failed to get offers")}},Td=async()=>{try{const e=await H.Payment.getPaymentMethods(),t=[];return e.data.forEach(n=>{["card","paypal"].includes(n.method_name.toLowerCase())&&t.push(Ed(n))}),{errors:[],responseData:{message:"",paymentMethods:t,status:1}}}catch{throw new Error("Failed to get payment methods")}},Ed=e=>({id:e.id,methodName:e.method_name.toLocaleLowerCase(),provider:Ks,logoUrl:""}),Ld=async e=>{var t;try{const n=await H.Payment.getPayPalParams({origin:`${window.location.origin}?u=waiting-for-payment`,accessFeeId:e.order.id,paymentMethod:2,voucherCode:e.couponCode});return(t=n.data)!=null&&t.id?{errors:["Already have an active access"],responseData:{redirectUrl:e.errorUrl}}:{errors:[],responseData:{redirectUrl:n.data.endpoint}}}catch{throw new Error("Failed to generate PayPal payment url")}},Ad=async()=>({errors:[],responseData:{}}),Md=async()=>({errors:[],responseData:{}}),Dd=async({order:e,couponCode:t})=>{try{const n=await H.Voucher.getDiscount({voucherCode:`${t}`,accessFeeId:e.id});e.discount={applied:!0,type:"coupon",periods:n.data.discount_duration};const r=e.totalPrice-n.data.amount;return e.totalPrice=n.data.amount,e.priceBreakdown.discountAmount=r,e.priceBreakdown.discountedPrice=r,{errors:[],responseData:{message:"successfully updated",order:e,success:!0}}}catch{throw new Error("Invalid coupon code")}},Od=async(e,t)=>{const n={number:e.cardNumber,cardName:e.cardholderName,expMonth:e.cardExpMonth||"",expYear:e.cardExpYear||"",cvv:parseInt(e.cardCVC),accessFee:t.id,paymentMethod:"1",voucherCode:e.couponCode,referrer:window.location.href,returnUrl:`${window.location.href}&u=waiting-for-payment`};try{return kt(t)?await H.Subscription.createSubscription(n):await H.Payment.createPayment(n),!0}catch{throw new Error("Failed to make payment")}},Fd=async({offerId:e})=>{try{const t=await H.Asset.checkAccessForAsset(parseInt(e));return ss(t.data.expires_at,!0)}catch{return ss()}},ss=(e=0,t=!1)=>({errors:[],responseData:{accessGranted:t,expiresAt:e}}),Bd=e=>({id:e.id,offerId:`S${e.id}`,offerCurrency:e.currency,customerPriceInclTax:e.amount,customerCurrency:e.currency,offerTitle:e.description,active:!0,period:e.access_type.period,freePeriods:e.trial_period?1:0}),Rd=e=>({id:e.offer.id,customerId:e.customerId,offerId:e.offer.offerId,totalPrice:e.offer.customerPriceInclTax,priceBreakdown:{offerPrice:e.offer.customerPriceInclTax,discountAmount:e.offer.customerPriceInclTax,discountedPrice:e.offer.customerPriceInclTax,paymentMethodFee:0,taxValue:0},taxRate:0,currency:e.offer.offerCurrency||"EUR",requiredPaymentDetails:!0}),Ks="stripe",Wd=Object.freeze(Object.defineProperty({__proto__:null,createOrder:$d,getOffers:Id,getPaymentMethods:Td,paymentWithPayPal:Ld,iFrameCardPayment:Ad,paymentWithoutDetails:Md,updateOrder:Dd,directPostCardPayment:Od,getEntitlements:Fd,cardPaymentProvider:Ks},Symbol.toStringTag,{value:"Module"})),Vd=e=>e?"https://mediastore-sandbox.cleeng.com":"https://mediastore.cleeng.com",wn=async(e,t="/",n="GET",r,o)=>{try{return await(await fetch(`${Vd(e)}${t}`,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:o?`Bearer ${o}`:""},method:n,body:r})).json()}catch(a){return{errors:Array.of(a)}}},je=(e,t,n)=>wn(e,t,"GET",void 0,n),bn=(e,t,n,r)=>wn(e,t,"PATCH",n,r),Nr=(e,t,n,r)=>wn(e,t,"PUT",n,r),ut=(e,t,n,r)=>wn(e,t,"POST",n,r),qd=()=>!0,jd=async({config:e,email:t,password:n})=>{var l,d;const r={email:t,password:n,publisherId:((l=e.integrations.cleeng)==null?void 0:l.id)||"",customerIP:void 0},{responseData:o,errors:a}=await ut(!!((d=e.integrations.cleeng)!=null&&d.useSandbox),"/auths",JSON.stringify(r));Ve(a);const{user:i,customerConsents:c}=await Pr({config:e,auth:o});return{auth:o,user:i,customerConsents:c}},Hd=async({config:e,email:t,password:n})=>{var d,p,u;const r=await Tr(!!((d=e.integrations.cleeng)!=null&&d.useSandbox));Ve(r.errors);const o={email:t,password:n,locale:r.responseData.locale,country:r.responseData.country,currency:r.responseData.currency,publisherId:((p=e.integrations.cleeng)==null?void 0:p.id)||"",customerIP:void 0},{responseData:a,errors:i}=await ut(!!((u=e.integrations.cleeng)!=null&&u.useSandbox),"/customers",JSON.stringify(o));Ve(i);const{user:c,customerConsents:l}=await Pr({config:e,auth:a});return{auth:a,user:c,customerConsents:l}},Ud=async()=>!0;async function Pr({config:e,auth:t}){var l;const r=Ps(t.jwt).customerId,{responseData:o,errors:a}=await Ir({customerId:r},!!((l=e.integrations.cleeng)!=null&&l.useSandbox),t.jwt);Ve(a);const i={config:e,jwt:t.jwt,customer:o},{consents:c}=await $r(i);return{user:o,customerConsents:c}}const zd=async({config:e,auth:t})=>{var r;const n=await Xs({refreshToken:t.refreshToken},!!((r=e.integrations.cleeng)!=null&&r.useSandbox));return Ve(n.errors),n==null?void 0:n.responseData},Jd=async e=>{var r;const{cleeng:t}=e.integrations,n=await je(!!(t!=null&&t.useSandbox),`/publishers/${t==null?void 0:t.id}/consents`);return Ve(n.errors),{consents:((r=n==null?void 0:n.responseData)==null?void 0:r.consents)||[]}},$r=async e=>{var i;const{config:t,customer:n,jwt:r}=e,{cleeng:o}=t.integrations,a=await je(!!(o!=null&&o.useSandbox),`/customers/${n==null?void 0:n.id}/consents`,r);return Ve(a.errors),{consents:((i=a==null?void 0:a.responseData)==null?void 0:i.consents)||[]}},Yd=async e=>{const{config:t,customer:n,jwt:r}=e,{cleeng:o}=t.integrations,a={id:n.id,consents:e.consents},i=await Nr(!!(o!=null&&o.useSandbox),`/customers/${n==null?void 0:n.id}/consents`,JSON.stringify(a),r);return Ve(i.errors),await $r(e)},Gd=async({customer:e},t,n)=>{const r=await je(t,`/customers/${e==null?void 0:e.id}/capture/status`,n);return Ve(r.errors),r},Qd=async({customer:e,...t},n,r)=>{const o={customerId:e.id,...t},a=await Nr(n,`/customers/${e.id}/capture`,JSON.stringify(o),r);Ve(a.errors);const{responseData:i,errors:c}=await Ir({customerId:e.id},n,r);return Ve(c),{errors:[],responseData:i}},Kd=async(e,t)=>Nr(t,"/customers/passwords",JSON.stringify(e)),Zd=async(e,t)=>bn(t,"/customers/passwords",JSON.stringify(e)),Xd=async()=>({errors:[],responseData:{}}),Zs=async(e,t,n)=>{const{id:r,metadata:o,fullName:a,...i}=e,c={id:r,...i};return bn(t,`/customers/${r}`,JSON.stringify(c),n)},Ir=async(e,t,n)=>je(t,`/customers/${e.customerId}`,n),Xs=async(e,t)=>ut(t,"/auths/refresh_token",JSON.stringify(e)),Tr=async e=>je(e,`/locales${void 0?"?customerIP="+void 0:""}`),Ve=e=>{if(e.length>0)throw new Error(e[0])},eu=async(e,t,n)=>await Zs(e,t,n),tu=!0,nu=!1,ru=async()=>!0,su=!0,ou=Object.freeze(Object.defineProperty({__proto__:null,setEnvironment:qd,login:jd,register:Hd,logout:Ud,getUser:Pr,getFreshJwtToken:zd,getPublisherConsents:Jd,getCustomerConsents:$r,updateCustomerConsents:Yd,getCaptureStatus:Gd,updateCaptureAnswers:Qd,resetPassword:Kd,changePasswordWithResetToken:Zd,changePasswordWithOldPassword:Xd,updateCustomer:Zs,getCustomer:Ir,refreshToken:Xs,getLocales:Tr,updatePersonalShelves:eu,canUpdateEmail:tu,canChangePasswordWithOldPassword:nu,subscribeToNotifications:ru,canRenewSubscription:su},Symbol.toStringTag,{value:"Module"})),au=async(e,t)=>{const n=[];return await Promise.all(e.offerIds.map(async r=>{const o=await eo({offerId:r},t);if(o.errors.length>0)throw new Error(o.errors[0]);n.push(o.responseData)})),n},eo=async(e,t)=>je(t,`/offers/${e.offerId}${void 0?"?customerIP="+void 0:""}`),iu=async(e,t,n)=>{var a;const r=await Tr(t);if(r.errors.length>0)throw new Error(r.errors[0]);const o={offerId:e.offer.offerId,customerId:e.customerId,country:e.country,currency:((a=r==null?void 0:r.responseData)==null?void 0:a.currency)||"EUR",customerIP:e.customerIP,paymentMethodId:e.paymentMethodId};return ut(t,"/orders",JSON.stringify(o),n)},cu=async({order:e,...t},n,r)=>bn(n,`/orders/${e.id}`,JSON.stringify(t),r),lu=async(e,t)=>je(e,"/payment-methods",t),du=async(e,t,n)=>ut(t,"/payments",JSON.stringify(e),n),uu=async(e,t,n)=>(e.customerIP=void 0,ut(t,"/connectors/adyen/payments",JSON.stringify(e),n)),pu=async(e,t,n)=>{const{order:r,successUrl:o,cancelUrl:a,errorUrl:i}=e,c={orderId:r.id,successUrl:o,cancelUrl:a,errorUrl:i};return ut(t,"/connectors/paypal/v1/tokens",JSON.stringify(c),n)},mu=async(e,t,n="")=>je(t,`/entitlements/${e.offerId}`,n),hu="adyen",fu=async()=>null,_u=Object.freeze(Object.defineProperty({__proto__:null,getOffers:au,getOffer:eo,createOrder:iu,updateOrder:cu,getPaymentMethods:lu,paymentWithoutDetails:du,iFrameCardPayment:uu,paymentWithPayPal:pu,getEntitlements:mu,cardPaymentProvider:hu,directPostCardPayment:fu},Symbol.toStringTag,{value:"Module"}));async function gu({sandbox:e,customerId:t,jwt:n}){const r=await to({customerId:t},e,n);return r.errors.length>0?null:r.responseData.items.find(o=>o.status==="active"||o.status==="cancelled")||null}async function yu({sandbox:e,customerId:t,jwt:n}){const r=await ro({customerId:t},e,n);return r.errors.length>0?null:r.responseData.items}async function wu({sandbox:e,customerId:t,jwt:n}){const r=await no({customerId:t},e,n);return r.errors.length>0?null:r.responseData.paymentDetails.find(o=>o.active)||null}const to=async(e,t,n)=>je(t,`/customers/${e.customerId}/subscriptions`,n),bu=async(e,t,n)=>bn(t,`/customers/${e.customerId}/subscriptions`,JSON.stringify(e),n),no=async(e,t,n)=>je(t,`/customers/${e.customerId}/payment_details`,n),ro=async({customerId:e,limit:t,offset:n},r,o)=>je(r,he(`/customers/${e}/transactions`,{limit:t,offset:n}),o),vu=Object.freeze(Object.defineProperty({__proto__:null,getActiveSubscription:gu,getAllTransactions:yu,getActivePayment:wu,getSubscriptions:to,updateSubscription:bu,getPaymentDetails:no,getTransactions:ro},Symbol.toStringTag,{value:"Module"}));function Y(e){var i;const{config:t,accessModel:n}=j.getState(),{cleeng:r,inplayer:o,jwp:a}=t.integrations;if((a==null?void 0:a.clientId)||(o==null?void 0:o.clientId)){const c=a!=null&&a.clientId?a:o;return e({accountService:_d,subscriptionService:Nd,checkoutService:Wd,config:t,accessModel:n,sandbox:!!(c!=null&&c.useSandbox),authProviderId:(i=c==null?void 0:c.clientId)==null?void 0:i.toString()})}return r!=null&&r.id?e({accountService:ou,subscriptionService:vu,checkoutService:_u,config:t,accessModel:n,sandbox:!!r.useSandbox,authProviderId:r==null?void 0:r.id}):e({config:t,accessModel:n,accountService:{}})}const zt=()=>{var c,l,d,p,u,g,y;const{config:{integrations:e}}=j.getState(),t=!!((c=e.jwp)!=null&&c.clientId)||!!((l=e.inplayer)!=null&&l.clientId),n=(d=e.jwp)!=null&&d.clientId?e.jwp:e.inplayer,r=t?n==null?void 0:n.useSandbox:(p=e.cleeng)==null?void 0:p.useSandbox,o=t?"jwplayer":"cleeng",a=t?n==null?void 0:n.clientId:(u=e.cleeng)==null?void 0:u.id,i=t?[`${n==null?void 0:n.assetId}`]:[`${(g=e.cleeng)==null?void 0:g.monthlyOffer}`,`${(y=e.cleeng)==null?void 0:y.yearlyOffer}`];return{sandbox:r??!0,integration:e,client:o,clientId:a,clientOffers:i}},vn=e=>{const t=Y(({checkoutService:y})=>y),{sandbox:n}=zt(),{accessModel:r}=j(),{user:o,subscription:a,auth:i}=W(({user:y,subscription:h,auth:v})=>({user:y,subscription:h,auth:v}),X),c=e&&!St(r,!!o,!!a,e),l=(e==null?void 0:e.mediaOffers)||[],d=ta(l.map(({offerId:y})=>({queryKey:["entitlements",y],queryFn:()=>t==null?void 0:t.getEntitlements({offerId:y},n,(i==null?void 0:i.jwt)||""),enabled:!!e&&!!(i!=null&&i.jwt)&&!!y&&!c,refetchOnMount:"always"}))),p=!!(i!=null&&i.jwt)&&d.some(y=>{var h,v;return y.isSuccess&&((v=(h=y.data)==null?void 0:h.responseData)==null?void 0:v.accessGranted)}),u=!p&&d.some(y=>y.isLoading);return{isEntitled:!!e&&(c||p),isMediaEntitlementLoading:u,mediaOffers:l}},Cu="_progressRail_14udi_1",xu="_progress_14udi_1",os={progressRail:Cu,progress:xu},so=re("0 0 24 24",s("g",{children:s("path",{d:"M8,5.14V19.14L19,12.14L8,5.14Z"})}));function K(e,t,n){const r=new URLSearchParams(e.search);r.set(t,n);const o=r.toString();return`${e.pathname}${o?`?${o}`:""}`}function pt(e,t){const n=new URLSearchParams(e.search);n.delete(t);const r=n.toString();return`${e.pathname}${r?`?${r}`:""}`}const ke=it("CheckoutStore",e=>({offer:null,order:null,paymentMethods:null,requestedMediaOffers:null,setOffer:t=>e({offer:t}),setOrder:t=>e({order:t}),setPaymentMethods:t=>e({paymentMethods:t}),setRequestedMediaOffers:t=>e({requestedMediaOffers:t})})),vt={Min:.05,Max:.95},ku=50,cr=48,Su="test_I4OFGUUCEVB5TI222AS3N2Y2LY6PJM3K",Nu="live_BQDOFBYTGZB3XKF62GBYSLPUJ4YW2TPL",Pu=15*6e4,oo="iztcr5ek",Ye=it("WatchHistoryStore",(e,t)=>({watchHistory:[],playlistItemsLoaded:!1,getItem:n=>t().watchHistory.find(({mediaid:r,progress:o})=>r===n.mediaid&&o>vt.Min&&o<vt.Max),getPlaylist:()=>({feedid:Je.ContinueWatching,title:"Continue watching",playlist:t().watchHistory.filter(({playlistItem:n,progress:r})=>!!n&&r>vt.Min&&r<vt.Max).map(({playlistItem:n})=>n)}),getDictionary:()=>t().watchHistory.reduce((n,r)=>(n[r.mediaid]=r.progress,n),{})})),Er=({item:e,playUrl:t,disabled:n=!1})=>{const{t:r}=I("video"),o=ee(),a=ce(),i=be(),l=!!W(b=>b.auth),d=Ye(b=>e&&b.getItem(e)),p=d==null?void 0:d.progress,u=ke(b=>b.setRequestedMediaOffers),{isEntitled:g,mediaOffers:y}=vn(e),h=!!y.length,v=f.exports.useMemo(()=>r(g?typeof p=="number"?"continue_watching":"start_watching":h?"buy":l?"complete_your_subscription":"sign_up_to_start_watching"),[g,l,h,p,r]),k=f.exports.useCallback(()=>g?t&&o(t):o(l?h?K(a,"u","choose-offer"):"/u/payments":K(a,"u","create-account")),[g,t,o,l,a,h]);return f.exports.useEffect(()=>(u(y.length?y:null),()=>u(null)),[y,u]),s(M,{color:"primary",variant:"contained",size:"large",label:v,startIcon:g?s(so,{}):void 0,onClick:k,fullWidth:i<q.md,disabled:n,children:p?s("div",{className:os.progressRail,children:s("div",{className:os.progress,style:{width:`${p*100}%`}})}):null})},$u="_fade_1e4ie_1",Iu="_cinema_1e4ie_6",Tu="_playerOverlay_1e4ie_16",Eu="_playerContent_1e4ie_32",Lu="_backButton_1e4ie_42",Au="_title_1e4ie_55",Mu="_metaContainer_1e4ie_72",Du="_primaryMetadata_1e4ie_77",Ou="_secondaryMetadata_1e4ie_90",Ge={fade:$u,cinema:Iu,playerOverlay:Tu,playerContent:Eu,backButton:Lu,title:Au,metaContainer:Mu,primaryMetadata:Du,secondaryMetadata:Ou},Lr=({className:e,createStyle:t,open:n=!0,duration:r=250,delay:o=0,onOpenAnimationEnd:a,onCloseAnimationEnd:i,keepMounted:c=!1,children:l})=>{const[d,p]=f.exports.useState("closed"),[u,g]=f.exports.useState(!1),h=`transform ${r/1e3}s ease-out`,v=f.exports.useRef(),k=f.exports.useRef();return f.exports.useEffect(()=>(v.current&&clearTimeout(v.current),k.current&&clearTimeout(k.current),n?(g(!0),v.current=window.setTimeout(()=>p("opening"),o),k.current=window.setTimeout(()=>{p("open"),a&&a()},r+o)):u&&(v.current=window.setTimeout(()=>p("closing"),o),k.current=window.setTimeout(()=>{p("closed"),i&&i()},r+o)),()=>{clearTimeout(v.current),clearTimeout(k.current)}),[r,o,h,n,a,i,u,g]),!n&&d==="closed"&&!c?null:s("div",{style:t(d),className:e,children:l})},Vt=({className:e,open:t=!0,duration:n=250,delay:r=0,onOpenAnimationEnd:o,onCloseAnimationEnd:a,keepMounted:i,children:c})=>{const d=`opacity ${n/1e3}s ease-in-out`,p=u=>({transition:d,opacity:u==="opening"||u==="open"?1:0});return s(Lr,{className:e,createStyle:u=>p(u),open:t,duration:n,delay:r,onOpenAnimationEnd:o,onCloseAnimationEnd:a,keepMounted:i,children:c})},ao=re("0 0 24 24",s("g",{children:s("path",{d:"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"})})),Fu=e=>{f.exports.useEffect(()=>{const t=()=>document.visibilityState==="hidden"&&e();return window.addEventListener("beforeunload",e),window.addEventListener("visibilitychange",t),()=>{e(),window.removeEventListener("beforeunload",e),window.removeEventListener("visibilitychange",t)}},[])},Ar="jwapp.",Mr=(e,t)=>{const n=`${Ar}${e}`,r=JSON.stringify(t);try{window.localStorage.setItem(n,r)}catch(o){console.error(o)}},Dr=e=>{const t=`${Ar}${e}`;try{return Ru(window.localStorage.getItem(t))}catch(n){console.error(n)}},Bu=e=>{const t=`${Ar}${e}`;try{window.localStorage.removeItem(t)}catch(n){console.error(n)}},Ru=e=>{if(!!e)try{return JSON.parse(e)}catch{return}},qe=it("FavoritesState",(e,t)=>({favorites:[],warning:null,setWarning:n=>e({warning:n}),clearWarning:()=>e({warning:null}),hasItem:n=>t().favorites.some(r=>r.mediaid===n.mediaid),getPlaylist:()=>({feedid:Je.Favorites,title:"Favorites",playlist:t().favorites.map(({playlistItem:n})=>n)})})),io=`favorites${window.configId?`-${window.configId}`:""}`,Cn=async()=>{var r,o;const{user:e}=W.getState(),t=(r=j.getState().config.features)==null?void 0:r.favoritesList,n=e?(o=e.externalData)==null?void 0:o.favorites:Dr(io);if((n==null?void 0:n.length)&&t){const i=(await _o(t,n.map(({mediaid:c})=>c))||[]).map(c=>lo(c));qe.setState({favorites:i})}},co=e=>e.map(({mediaid:t})=>({mediaid:t})),Or=()=>{const{favorites:e}=qe.getState(),{user:t}=W.getState();if(t)return Fr();Mr(io,co(e))},Wu=async()=>{await Cn()},Vu=async e=>{const{favorites:t}=qe.getState();t.some(({mediaid:n})=>n===e.mediaid)||qe.setState({favorites:[lo(e)].concat(t)}),await Or()},qu=async e=>{const{favorites:t}=qe.getState();qe.setState({favorites:t.filter(({mediaid:n})=>n!==e.mediaid)}),await Or()},ju=async e=>{const{favorites:t,hasItem:n,setWarning:r}=qe.getState();if(!e)return;if(n(e)){await qu(e);return}if((t==null?void 0:t.length)>=cr){r(ot.t("video:favorites_warning",{maxCount:cr}));return}await Vu(e)},Hu=async()=>{qe.setState({favorites:[]}),await Or()},lo=e=>({mediaid:e.mediaid,title:e.title,tags:e.tags,duration:e.duration,playlistItem:e});function Se(e){const{user:t,auth:n,customerConsents:r}=W.getState();if(!(t!=null&&t.id)||!(n!=null&&n.jwt))throw new Error("user not logged in");return e({customerId:t.id,customer:t,auth:n,customerConsents:r})}const lr="auth";let On,dr;const Uu=e=>Ps(e.jwt).exp*1e3-Date.now()<5*60*1e3,uo=()=>{const e=W.getState().auth;!(e!=null&&e.refreshToken)||(window.clearTimeout(dr),e&&!document.hidden&&(dr=window.setTimeout(()=>po(e),60*5*1e3)))},as=()=>{if(document.hidden)return window.clearTimeout(dr);const e=W.getState().auth;if(!(!e||!(e!=null&&e.refreshToken))){if(Uu(e))return po(e);uo()}},zu=async()=>{await Y(async({accountService:e,config:t})=>{W.setState({loading:!0,canUpdateEmail:e.canUpdateEmail,canRenewSubscription:e.canRenewSubscription,canChangePasswordWithOldPassword:e.canChangePasswordWithOldPassword}),e.setEnvironment(t);const n=Dr(lr);On&&On(),document.removeEventListener("visibilitychange",as),document.addEventListener("visibilitychange",as),On=W.subscribe(r=>r.auth,r=>{uo(),Mr(lr,r)});try{if(n){const r=await e.getFreshJwtToken({config:t,auth:n});r&&(await Ju(r),await kn(),await Cn())}}catch{await It()}W.setState({loading:!1})})};async function is(e){return await Y(async({accountService:t,sandbox:n=!0})=>{var c;W.setState({loading:!0});const{auth:r,user:o,canUpdateEmail:a}=W.getState();if(Object.prototype.hasOwnProperty.call(e,"email")&&!a)throw new Error("Email update not supported");if(!r||!o)throw new Error("no auth");const i=await t.updateCustomer({...e,id:o.id.toString()},n,r.jwt);if(!i)throw new Error("Unknown error");return((c=i.errors)==null?void 0:c.length)===0&&W.setState({user:i.responseData}),i})}const po=async e=>{await Y(async({accountService:t})=>{try{const{config:n}=j.getState(),r=await t.getFreshJwtToken({config:n,auth:e});r&&W.setState(o=>({auth:{...o.auth,...r}}))}catch{await It()}})},Ju=async e=>{await Y(async({accountService:t,config:n,accessModel:r})=>{const o=await t.getUser({config:n,auth:e});o&&await xn(e,o.user,o.customerConsents,r),W.setState({loading:!1})})},Yu=async(e,t)=>{await Y(async({accountService:n,config:r,accessModel:o})=>{W.setState({loading:!0});const a=await n.login({config:r,email:e,password:t});a&&(await xn(a.auth,a.user,a.customerConsents,o),await Cn(),await kn()),W.setState({loading:!1})})};async function It(){!W.getState().auth||await Y(async({accountService:e})=>{Bu(lr),await fn.invalidateQueries("entitlements"),W.setState({auth:null,user:null,subscription:null,transactions:null,activePayment:null,customerConsents:null,publisherConsents:null}),await Cn(),await kn(),await(e==null?void 0:e.logout())})}const Gu=async(e,t)=>{await Y(async({accountService:n,accessModel:r,config:o})=>{W.setState({loading:!0});const a=await n.register({config:o,email:e,password:t});if(a){const{auth:i,user:c,customerConsents:l}=a;await xn(i,c,l,r,!1)}await Fr()})},Fr=async()=>{await Se(async({customer:e,auth:{jwt:t}})=>{await Y(async({accountService:n,sandbox:r=!0})=>{const{watchHistory:o}=Ye.getState(),{favorites:a}=qe.getState();if(!o&&!a)return;const i={history:yo(o),favorites:co(a)};return await(n==null?void 0:n.updatePersonalShelves({id:e.id,externalData:i},r,t))})})},mo=async e=>await Se(async({customer:t,auth:{jwt:n}})=>await Y(async({accountService:r,config:o})=>{W.setState({loading:!0});try{const a=await(r==null?void 0:r.updateCustomerConsents({jwt:n,config:o,customer:t,consents:e}));return a!=null&&a.consents?(W.setState({customerConsents:a.consents}),{responseData:a.consents,errors:[]}):{responseData:[],errors:[]}}finally{W.setState({loading:!1})}})),ho=async()=>await Y(async({accountService:e,config:t})=>{const n=await e.getPublisherConsents(t);return W.setState({publisherConsents:n.consents}),n}),Qu=async()=>await Se(async({customer:e,auth:{jwt:t}})=>await Y(async({accountService:n,sandbox:r=!0})=>{const{responseData:o}=await n.getCaptureStatus({customer:e},r,t);return o})),Ku=async e=>await Se(async({customer:t,auth:n,customerConsents:r})=>await Y(async({accountService:o,accessModel:a,sandbox:i=!0})=>{const c=await o.updateCaptureAnswers({customer:t,...e},i,n.jwt);if(c.errors.length>0)throw new Error(c.errors[0]);return await xn(n,c.responseData,r,a,!1),c.responseData})),cs=async(e,t)=>await Y(async({accountService:n,sandbox:r=!0,authProviderId:o})=>{const a=await n.resetPassword({customerEmail:e,publisherId:o,resetUrl:t},r);if(a.errors.length>0)throw new Error(a.errors[0]);return a.responseData}),Zu=async(e,t,n)=>await Y(async({accountService:r,sandbox:o=!0})=>{var i;const a=await r.changePasswordWithOldPassword({oldPassword:e,newPassword:t,newPasswordConfirmation:n},o);if(((i=a==null?void 0:a.errors)==null?void 0:i.length)>0)throw new Error(a.errors[0]);return a==null?void 0:a.responseData}),Xu=async(e,t,n,r)=>await Y(async({accountService:o,sandbox:a=!0,authProviderId:i})=>{var l;const c=await o.changePasswordWithResetToken({publisherId:i,customerEmail:e,newPassword:t,resetPasswordToken:n,newPasswordConfirmation:r},a);if(((l=c==null?void 0:c.errors)==null?void 0:l.length)>0)throw new Error(c.errors[0]);return c==null?void 0:c.responseData}),fo=async e=>await Se(async({customerId:t,auth:{jwt:n}})=>await Y(async({subscriptionService:r,sandbox:o=!0})=>{if(!r)throw new Error("subscription service is not configured");const{subscription:a}=W.getState();if(!a)throw new Error("user has no active subscription");const i=await(r==null?void 0:r.updateSubscription({customerId:t,offerId:a.offerId,status:e,unsubscribeUrl:a.unsubscribeUrl},o,n));if(i.errors.length>0)throw new Error(i.errors[0]);return await Xe({delay:2e3}),i==null?void 0:i.responseData}));async function ep(e){return await Se(async({auth:{jwt:t}})=>await Y(async({checkoutService:n,sandbox:r=!0})=>{if(!n)throw new Error("checkout service is not configured");if(!e)return!1;const{responseData:o}=await n.getEntitlements({offerId:e},r,t);return!!(o!=null&&o.accessGranted)}))}async function Xe({delay:e}={delay:0}){return W.setState({loading:!0}),await Se(async({customerId:t,auth:{jwt:n}})=>await Y(async({subscriptionService:r,sandbox:o=!0,config:a})=>{if(!r)throw new Error("subscription service is not configured");if(e>0)return new Promise(d=>{window.setTimeout(()=>{Xe().finally(d)},e)});const[i,c,l]=await Promise.all([r.getActiveSubscription({sandbox:o,customerId:t,jwt:n,config:a}),r.getAllTransactions({sandbox:o,customerId:t,jwt:n}),r.getActivePayment({sandbox:o,customerId:t,jwt:n})]);await fn.invalidateQueries("entitlements"),W.setState({subscription:i,loading:!1,transactions:c,activePayment:l})}))}async function _o(e,t){if(!e)throw new Error("No watchlist defined");return Fi(e,t)}async function xn(e,t,n,r,o=!0){return W.setState({auth:e,user:t,customerConsents:n}),await Promise.allSettled([r==="SVOD"&&o?Xe():Promise.resolve(),ho()])}const go=`history${window.configId?`-${window.configId}`:""}`,kn=async()=>{var r,o;const{user:e}=W.getState(),t=(r=j.getState().config.features)==null?void 0:r.continueWatchingList,n=e?(o=e.externalData)==null?void 0:o.history:Dr(go);if((n==null?void 0:n.length)&&t){const a=await _o(t,n.map(({mediaid:l})=>l)),i=Object.fromEntries((a||[]).map(l=>[l.mediaid,l])),c=n.map(l=>{if(i[l.mediaid])return wo(i[l.mediaid],l.progress)});Ye.setState({watchHistory:c.filter(l=>!!(l!=null&&l.mediaid)),playlistItemsLoaded:!0})}},yo=e=>e.map(({mediaid:t,progress:n})=>({mediaid:t,progress:n})),tp=()=>{const{watchHistory:e}=Ye.getState(),{user:t}=W.getState();if(t)return Fr();Mr(go,yo(e))},wo=(e,t)=>({mediaid:e.mediaid,title:e.title,tags:e.tags,duration:e.duration,progress:t,playlistItem:e}),ls=async(e,t)=>{const{watchHistory:n}=Ye.getState();if(!t)return;const r=wo(e,t),o=n.filter(({mediaid:a})=>a!==r.mediaid);o.unshift(r),o.splice(cr),Ye.setState({watchHistory:o}),await tp()},$e=e=>{const t=f.exports.useRef(()=>{throw new Error("Callback called in render")});return f.exports.useLayoutEffect(()=>{t.current=e},[e]),f.exports.useCallback((...n)=>{if(typeof t.current=="function")return t.current(...n)},[])},np=(e,t)=>{const n=W(({auth:a})=>a),r=j(a=>{var i;return(i=a.config)==null?void 0:i.contentSigningService}),o=a=>{if(!e)return a;const i=[e,t].filter(Boolean).join("-");return{...a,allSources:void 0,sources:a.sources.map(c=>({...c,file:he(c.file,{t:i})}))}};return $e(async a=>{const i=n==null?void 0:n.jwt,c=r==null?void 0:r.host,l=r==null?void 0:r.drmPolicyId;if(!!!c)return o(a);const p=await qa(c,a.mediaid,i,{},l),u=await Cr(a.mediaid,p,l);return u&&o(u)})},rp="_container_79xjy_1",sp={container:rp},op=!!(typeof window<"u"&&window.document&&window.document.createElement);let Gt;function ap(e){if((!Gt&&Gt!==0||e)&&op){const t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Gt=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Gt}const Br=e=>new Promise(t=>{const n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=De(e),n.onload=()=>t(),n.onerror=r=>{throw console.info("Error loading external script",r),new Error("Error loading external script")},document.body.appendChild(n)}),ip=e=>new Promise(t=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,n.onload=()=>t(),n.onerror=r=>{throw console.info("Error loading external style sheet",r),new Error("Error loading external style sheet")},document.body.appendChild(n)}),cp=e=>{const t=document.createElement("input");t.style.zIndex="-10",t.style.position="absolute",t.style.left="-1000",t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),t.blur(),document.body.removeChild(t)},lp=(e,t="")=>{const n=j(a=>a.config.analyticsToken),[r,o]=f.exports.useState(null);return f.exports.useEffect(()=>{if(!window.jwpltx||!n||!r||!e)return;const a=()=>{!n||window.jwpltx.ready(n,window.location.hostname,t,e.mediaid,e.title)},i=()=>{window.jwpltx.complete()},c=({position:d,duration:p})=>{window.jwpltx.time(d,p)},l=()=>{window.jwpltx.adImpression()};return r.on("playlistItem",a),r.on("complete",i),r.on("time",c),r.on("adImpression",l),()=>{r.off("playlistItem",a),r.off("complete",i),r.off("time",c),r.off("adImpression",l)}},[r]),o},bo=({playerId:e,item:t,onReady:n,onPlay:r,onPause:o,onComplete:a,onUserActive:i,onUserInActive:c,onBeforePlay:l,onFirstFrame:d,onRemove:p,onPlaylistItem:u,onPlaylistItemCallback:g,onNext:y,feedId:h,startTime:v=0,autostart:k})=>{const b=f.exports.useRef(null),m=f.exports.useRef(),x=f.exports.useRef(!1),[C,N]=f.exports.useState(!!window.jwplayer),S=f.exports.useRef(v),w=`https://cdn.jwplayer.com/libraries/${e}.js`,P=lp(t,h),{adScheduleData:$}=j(F=>F),O=$e(l),E=$e(r),T=$e(o),D=$e(a),L=$e(i),B=$e(c),Q=$e(d),le=$e(p),ue=$e(u),ge=$e(g),U=$e(y),se=$e(()=>n&&n(m.current)),z=f.exports.useCallback(()=>{var F,te,J,pe,de,ve,Ne,Pe,tt,Tt,Et,Lt;(F=m.current)==null||F.on("ready",se),(te=m.current)==null||te.on("beforePlay",O),(J=m.current)==null||J.on("complete",D),(pe=m.current)==null||pe.on("play",E),(de=m.current)==null||de.on("pause",T),(ve=m.current)==null||ve.on("userActive",L),(Ne=m.current)==null||Ne.on("userInactive",B),(Pe=m.current)==null||Pe.on("firstFrame",Q),(tt=m.current)==null||tt.on("remove",le),(Tt=m.current)==null||Tt.on("playlistItem",ue),(Et=m.current)==null||Et.on("nextClick",U),(Lt=m.current)==null||Lt.setPlaylistItemCallback(ge)},[se,O,D,E,T,L,B,Q,le,ue,U,ge]),V=f.exports.useCallback(()=>{var F,te,J,pe,de,ve,Ne,Pe;(F=m.current)==null||F.off("ready"),(te=m.current)==null||te.off("beforePlay"),(J=m.current)==null||J.off("complete"),(pe=m.current)==null||pe.off("play"),(de=m.current)==null||de.off("pause"),(ve=m.current)==null||ve.off("userActive"),(Ne=m.current)==null||Ne.off("userInactive"),(Pe=m.current)==null||Pe.off("firstFrame")},[]);return f.exports.useEffect(()=>{!window.jwplayer&&!x.current&&(x.current=!0,Br(w).then(()=>{N(!0),x.current=!1}))},[w]),f.exports.useEffect(()=>{S.current=v},[v]),f.exports.useEffect(()=>{if(!e)return;const F=()=>{var pe,de;if(!t||!m.current)return;const J=(pe=m.current)==null?void 0:pe.getPlaylistItem();J&&J.mediaid===t.mediaid||(typeof k<"u"&&((de=m.current)==null||de.setConfig({autostart:k})),m.current.load([Zr({...t,starttime:S.current})]))},te=()=>{if(!window.jwplayer||!b.current)return;m.current=window.jwplayer(b.current);const J={advertising:$,aspectratio:!1,controls:!0,displaytitle:!1,displayHeading:!1,displaydescription:!1,floating:{mode:"never"},height:"100%",mute:!1,playbackRateControls:!0,pipIcon:"disabled",playlist:[Zr({...t,starttime:S.current})],repeat:!1,cast:{},stretching:"uniform",width:"100%"};typeof k<"u"&&(J.autostart=k),m.current.setup(J),P(m.current),z()};if(m.current)return F();C&&te()},[C,t,V,z,e,P,k,$]),f.exports.useEffect(()=>()=>{m.current&&(V(),m.current.remove())},[V]),s("div",{className:sp.container,"data-testid":void 0,children:s("div",{ref:b})})},vo=({item:e,feedId:t,onPlay:n,onPause:r,onComplete:o,onUserActive:a,onUserInActive:i,onNext:c,liveEndDateTime:l,liveFromBeginning:d,liveStartDateTime:p,autostart:u})=>{const{features:g}=j(E=>E.config),h=!!(g==null?void 0:g.continueWatchingList),[v,k]=f.exports.useState(),b=Ye(E=>!!e&&h?E.getItem(e):void 0),m=f.exports.useMemo(()=>{const E=b==null?void 0:b.progress;return E&&E>vt.Min&&E<vt.Max?E*e.duration:0},[e.duration,b==null?void 0:b.progress]),x=f.exports.useCallback(()=>v?v.getPosition()/e.duration:null,[v,e.duration]);Fu(()=>h?ls(e,x()):null);const C=f.exports.useCallback(E=>{k(E)},[]),N=f.exports.useCallback(()=>{d&&(v==null||v.seek(0))},[d,v]),S=f.exports.useCallback(()=>{h&&ls(e,x())},[h,x,e]),w=f.exports.useCallback(()=>{S(),r&&r()},[S,r]),P=f.exports.useCallback(()=>{S(),o&&o()},[S,o]),$=f.exports.useCallback(()=>{S()},[S]),O=np(p,l);return f.exports.useEffect(()=>()=>S(),[e]),s(bo,{playerId:oo,feedId:t,item:e,onReady:C,onFirstFrame:N,onPlay:n,onPause:w,onComplete:P,onRemove:$,onUserActive:a,onUserInActive:i,onNext:c,onPlaylistItemCallback:O,startTime:m,autostart:u})},Rr=({open:e,item:t,title:n,primaryMetadata:r,secondaryMetadata:o,onPlay:a,onPause:i,onComplete:c,onClose:l,onNext:d,feedId:p,liveStartDateTime:u,liveEndDateTime:g,liveFromBeginning:y})=>{const{t:h}=I(),[v,k]=f.exports.useState(!1),[b,m]=f.exports.useState(!0),x=f.exports.useCallback(()=>{k(!0),a&&a()},[a]),C=f.exports.useCallback(()=>{k(!1),i&&i()},[i]),N=f.exports.useCallback(()=>{c&&c()},[c]),S=f.exports.useCallback(()=>{d&&d()},[d]),w=f.exports.useCallback(()=>m(!0),[]),P=f.exports.useCallback(()=>m(!1),[]);return f.exports.useEffect(()=>(e&&(m(!0),document.body.style.overflowY="hidden"),()=>{document.body.style.overflowY=""}),[e]),s(Vt,{open:e,className:Ge.fade,children:_("div",{className:Ge.cinema,children:[s(vo,{item:t,feedId:p,autostart:!0,onPlay:x,onPause:C,onComplete:N,onUserActive:w,onUserInActive:P,onNext:S,liveEndDateTime:g,liveFromBeginning:y,liveStartDateTime:u}),s(Vt,{open:!v||b,children:s("div",{className:Ge.playerOverlay,children:_("div",{className:Ge.playerContent,children:[s(_e,{"aria-label":h("common:back"),onClick:l,className:Ge.backButton,children:s(ao,{})}),_("div",{children:[s("h2",{className:Ge.title,children:n}),_("div",{className:Ge.metaContainer,children:[o&&s("div",{className:Ge.secondaryMetadata,children:o}),s("div",{className:Ge.primaryMetadata,children:r})]})]})]})})})]})})},dp="_container_1tbgz_1",up="_playerOverlay_1tbgz_13",pp="_title_1tbgz_24",Fn={container:dp,playerOverlay:up,title:pp},mp="_modal_xhw0f_1",hp="_backdrop_xhw0f_10",fp="_container_xhw0f_19",Bn={modal:mp,backdrop:hp,container:fp},_p=({open:e=!0,duration:t=250,delay:n=0,onOpenAnimationEnd:r,onCloseAnimationEnd:o,children:a})=>{const c=`transform ${t/1e3}s ease-out`,l=d=>({transition:c,transform:d==="opening"||d==="open"?"scale(1)":"scale(0.7)"});return s(Lr,{createStyle:d=>l(d),open:e,duration:t,delay:n,onOpenAnimationEnd:r,onCloseAnimationEnd:o,children:a})},Co=({open:e,onClose:t,children:n,AnimationComponent:r=_p})=>{const[o,a]=f.exports.useState(e),i=f.exports.useRef(),c=f.exports.useRef(),l=d=>{d.key==="Escape"&&t&&t()};return f.exports.useEffect(()=>{const d=document.activeElement,p=document.querySelector("#root");if(e){if(d&&(i.current=d),a(!0),p&&(p.inert=!0,p.setAttribute("aria-hidden","true")),document.body.style.marginRight=`${ap()}px`,document.body.style.overflowY="hidden",c.current){const u=c.current.querySelectorAll('a, button, [tabindex="0"]')[0];u&&u.focus()}}else p&&(p.inert=!1,p.removeAttribute("aria-hidden")),document.body.style.removeProperty("margin-right"),document.body.style.removeProperty("overflow-y"),i.current&&i.current.focus()},[e]),!e&&!o?null:ks.createPortal(s(Vt,{open:e,duration:300,onCloseAnimationEnd:()=>a(!1),children:_("div",{className:Bn.modal,onKeyDown:l,ref:c,children:[s("div",{className:Bn.backdrop,onClick:t,"data-testid":void 0}),s("div",{className:Bn.container,children:s(r,{open:e,duration:200,children:n})})]})}),document.querySelector("body"))},gp="_modalCloseButton_15hlk_1",yp="_hidden_15hlk_16",ds={modalCloseButton:gp,hidden:yp},Sn=re("0 0 24 24",_("g",{children:[s("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),s("path",{d:"M0 0h24v24H0z",fill:"none"})]})),xo=({onClick:e,visible:t=!0})=>{const{t:n}=I("common");return s(_e,{onClick:e,"aria-label":n("close_modal"),className:A(ds.modalCloseButton,{[ds.hidden]:!t}),children:s(Sn,{})})},ko=({item:e,open:t,title:n,onClose:r})=>{const[o,a]=f.exports.useState(!1),[i,c]=f.exports.useState(!0),l=f.exports.useCallback(()=>a(!0),[]),d=f.exports.useCallback(()=>a(!1),[]),p=f.exports.useCallback(()=>c(!0),[]),u=f.exports.useCallback(()=>c(!1),[]);return e?s(Co,{open:t,onClose:r,children:_("div",{className:Fn.container,children:[s(bo,{item:e,playerId:oo,onPlay:l,onPause:d,onComplete:r,onUserActive:p,onUserInActive:u,autostart:!0}),_(Vt,{open:!o||i,children:[s("div",{className:Fn.playerOverlay,children:s("div",{className:Fn.title,children:n})}),s(xo,{onClick:r})]})]})}):null},wp=re("0 0 24 24",s("g",{children:s("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"})})),bp=re("0 0 24 24",s("g",{children:s("path",{d:"M18,16.08C17.24,16.08 16.56,16.38 16.04,16.85L8.91,12.7C8.96,12.47 9,12.24 9,12C9,11.76 8.96,11.53 8.91,11.3L15.96,7.19C16.5,7.69 17.21,8 18,8A3,3 0 0,0 21,5A3,3 0 0,0 18,2A3,3 0 0,0 15,5C15,5.24 15.04,5.47 15.09,5.7L8.04,9.81C7.5,9.31 6.79,9 6,9A3,3 0 0,0 3,12A3,3 0 0,0 6,15C6.79,15 7.5,14.69 8.04,14.19L15.16,18.34C15.11,18.55 15.08,18.77 15.08,19C15.08,20.61 16.39,21.91 18,21.91C19.61,21.91 20.92,20.61 20.92,19A2.92,2.92 0 0,0 18,16.08Z"})})),Wr=({title:e,description:t,url:n})=>{const{t:r}=I(),o=be(),[a,i]=f.exports.useState(!1),c=async()=>{if(typeof navigator.share=="function"){await navigator.share({title:e,text:t,url:n});return}cp(window.location.href),i(!0),setTimeout(()=>i(!1),2e3)};return s(M,{label:r(a?"video:copied_url":"video:share"),startIcon:a?s(wp,{}):s(bp,{}),onClick:c,active:a,fullWidth:o<q.md})},Vr=re("0 0 24 24",s("g",{children:s("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})})),vp=re("0 0 24 24",s("g",{children:s("path",{d:"M12.1,18.55L12,18.65L11.89,18.55C7.14,14.24 4,11.39 4,8.5C4,6.5 5.5,5 7.5,5C9.04,5 10.54,6 11.07,7.36H12.93C13.46,6 14.96,5 16.5,5C18.5,5 20,6.5 20,8.5C20,11.39 16.86,14.24 12.1,18.55M16.5,3C14.76,3 13.09,3.81 12,5.08C10.91,3.81 9.24,3 7.5,3C4.42,3 2,5.41 2,8.5C2,12.27 5.4,15.36 10.55,20.03L12,21.35L13.45,20.03C18.6,15.36 22,12.27 22,8.5C22,5.41 19.58,3 16.5,3Z"})})),Cp="_title_gkrmh_1",xp="_body_gkrmh_8",kp="_confirmButton_gkrmh_12",us={title:Cp,body:xp,confirmButton:kp},Sp="_dialog_18t28_1",Np={dialog:Sp},So=({open:e=!0,duration:t=250,delay:n=0,onOpenAnimationEnd:r,onCloseAnimationEnd:o,children:a,direction:i="top"})=>{const c=t/1e3,l=`transform ${c}s ease, opacity ${c}s ease`,d={left:"translate(-15px, 0)",top:"translate(0, -15px)",right:"translate(15px, 0)",bottom:"translate(0, 15px)"},p=u=>({transition:l,transform:u==="opening"||u==="open"?"translate(0, 0)":d[i],opacity:u==="opening"||u==="open"?1:0,zIndex:15});return s(Lr,{createStyle:u=>p(u),open:e,duration:t,delay:n,onOpenAnimationEnd:r,onCloseAnimationEnd:o,children:a})},qr=({open:e,onClose:t,children:n})=>s(Co,{open:e,onClose:t,AnimationComponent:So,children:_("div",{className:Np.dialog,children:[s(xo,{onClick:t}),n]})}),Pp=({open:e,message:t,onClose:n})=>{const{t:r}=I("common");return _(qr,{open:e,onClose:n,children:[s("h2",{className:us.title,children:r("alert.title")}),s("p",{className:us.body,children:t}),s(M,{label:r("alert.close"),variant:"outlined",onClick:n,fullWidth:!0})]})},No=({item:e})=>{const{t}=I(),n=be(),{isFavorite:r,clearWarning:o,warning:a}=qe(c=>({isFavorite:!!e&&c.hasItem(e),clearWarning:c.clearWarning,warning:c.warning})),i=f.exports.useCallback(async()=>{await ju(e)},[e]);return f.exports.useEffect(()=>()=>o(),[o]),_(ae,{children:[s(M,{label:t("video:favorite"),"aria-label":t(r?"video:remove_from_favorites":"video:add_to_favorites"),startIcon:r?s(Vr,{}):s(vp,{}),onClick:i,color:r?"primary":"default",fullWidth:n<q.md}),s(Pp,{open:a!==null,message:a,onClose:o})]})},Po=re("0 0 24 24",s("g",{children:s("path",{d:"M19,19H5V5H19M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M10,8V16L15,12L10,8Z"})}));function Fe(e){const t=ce(),n=f.exports.useMemo(()=>new URLSearchParams(t.search),[t.search]);return f.exports.useMemo(()=>n.get(e)||void 0,[n,e])}const $p="_inlinePlayer_1lwx2_1",Ip="_paywall_1lwx2_9",Tp="_poster_1lwx2_25",Ep="_lock_1lwx2_46",Lp="_title_1lwx2_61",Ap="_text_1lwx2_88",ht={inlinePlayer:$p,paywall:Ip,poster:Tp,lock:Ep,title:Lp,text:Ap},$o=({item:e,onPlay:t,onPause:n,onComplete:r,feedId:o,liveStartDateTime:a,liveEndDateTime:i,liveFromBeginning:c,startWatchingButton:l,isLoggedIn:d,paywall:p,autostart:u})=>{const g=j(b=>b.config.siteName),{t:y}=I(),h=ee(),v=ce(),k=()=>{h(K(v,"u","login"))};return _("div",{className:ht.inlinePlayer,children:[s(Vt,{open:p,children:_("div",{className:ht.paywall,children:[s(Nt,{className:ht.poster,image:e.backgroundImage,alt:e.title,width:1280}),s(br,{className:ht.lock}),s("h2",{className:ht.title,children:y("video:sign_up_to_start_watching")}),s("span",{className:ht.text,children:y("account:choose_offer.watch_this_on_platform",{siteName:g})}),l,!d&&s(M,{onClick:k,label:y("common:sign_in")})]})}),!p&&s(vo,{item:e,feedId:o,autostart:u,onPlay:t,onPause:n,onComplete:r,liveEndDateTime:i,liveFromBeginning:c,liveStartDateTime:a})]})},Mp=({data:e,isLoading:t})=>{var se,z,V;const{t:n}=I("video"),[r,o]=f.exports.useState(!1),a=be(),i=ee(),l=qt().id||"",d=Fe("play")==="1",p=Fe("r"),{config:u,accessModel:g}=j(({config:F,accessModel:te})=>({config:F,accessModel:te}),X),{siteName:y,features:h,custom:v}=u,k=Boolean(h==null?void 0:h.favoritesList),b=Boolean(v==null?void 0:v.inlinePlayer),{isLoading:m,data:x}=xr((e==null?void 0:e.trailerId)||""),{isLoading:C,data:N}=Ht((h==null?void 0:h.recommendationsPlaylist)||"",{related_media_id:l}),{user:S,subscription:w}=W(({user:F,subscription:te})=>({user:F,subscription:te}),X),{isEntitled:P}=vn(e),$=()=>e&&i(Oe(e,p,!1)),O=F=>i(Oe(F,p)),E=f.exports.useCallback(()=>{if(!l||!N)return;const F=N.playlist.findIndex(({mediaid:J})=>J===l),te=N.playlist[F+1];return te&&i(Oe(te,p,!0))},[l,N,i,p]);f.exports.useEffect(()=>{(document.scrollingElement||document.body).scroll({top:0})},[l]);const T=`${e.title} - ${y}`,D=e?`${window.location.origin}${Oe(e)}`:window.location.href,L=As(e),B=s(Wr,{title:e.title,description:e.description,url:D}),Q=s(Er,{item:e,playUrl:Oe(e,p,!0)}),le=k&&s(No,{item:e}),ue=(!!x||m)&&s(M,{label:n("video:trailer"),"aria-label":n("video:watch_trailer"),startIcon:s(Po,{}),onClick:()=>o(!0),active:r,fullWidth:a<q.md,disabled:!x}),ge=!!S,U=!!w;return _(fe.Fragment,{children:[_(at,{children:[s("title",{children:T}),s("link",{rel:"canonical",href:D}),s("meta",{name:"description",content:e.description}),s("meta",{property:"og:description",content:e.description}),s("meta",{property:"og:title",content:T}),s("meta",{property:"og:type",content:"video.other"}),e.image&&s("meta",{property:"og:image",content:(se=e.image)==null?void 0:se.replace(/^https:/,"http:")}),e.image&&s("meta",{property:"og:image:secure_url",content:(z=e.image)==null?void 0:z.replace(/^http:/,"https:")}),s("meta",{property:"og:image:width",content:e.image?"720":""}),s("meta",{property:"og:image:height",content:e.image?"406":""}),s("meta",{name:"twitter:title",content:T}),s("meta",{name:"twitter:description",content:e.description}),s("meta",{name:"twitter:image",content:e.image}),s("meta",{property:"og:video",content:D.replace(/^https:/,"http:")}),s("meta",{property:"og:video:secure_url",content:D.replace(/^http:/,"https:")}),s("meta",{property:"og:video:type",content:"text/html"}),s("meta",{property:"og:video:width",content:"1280"}),s("meta",{property:"og:video:height",content:"720"}),(V=e.tags)==null?void 0:V.split(",").map(F=>s("meta",{property:"og:video:tag",content:F},F)),e?s("script",{type:"application/ld+json",children:zs(e)}):null]}),s(Sr,{item:e,inlineLayout:b,isLoading:t||C,accessModel:g,isLoggedIn:ge,hasSubscription:U,title:e.title,description:e.description,image:e.backgroundImage,primaryMetadata:L,shareButton:B,favoriteButton:le,trailerButton:ue,startWatchingButton:Q,playlist:N,relatedTitle:N==null?void 0:N.title,onItemClick:O,activeLabel:n("current_video"),player:b?s($o,{isLoggedIn:ge,item:e,onComplete:E,feedId:p??void 0,startWatchingButton:Q,paywall:St(g,ge,U,e),autostart:d||void 0}):s(Rr,{open:d&&P,onClose:$,item:e,title:e.title,primaryMetadata:L,onComplete:E,feedId:p??void 0,onNext:E})}),s(ko,{item:x,title:`${e.title} - Trailer`,open:r,onClose:()=>o(!1)})]})},Dp=e=>e.playlist.reduce((t,n)=>n.seasonNumber&&t.includes(n.seasonNumber)?t:t.concat(n.seasonNumber||""),[]),Op=(e,t)=>t?{...e,playlist:e.playlist.filter(({seasonNumber:n})=>n===t)}:e,Io=e=>"seasons"in e?e.seasons.flatMap(t=>t.episodes):e.episodes,Fp=(e,t)=>{var o;const n=Io(e),r=n==null?void 0:n.findIndex(a=>a.media_id===t.mediaid);return r===n.length-1?t.mediaid:(o=n[r+1])==null?void 0:o.media_id},Bp=(e,t,n)=>{var o,a;if(!e||!n)return;if(t){const i=Fp(t,e);return n.playlist.find(c=>c.mediaid===i)}const r=(o=n==null?void 0:n.playlist)==null?void 0:o.findIndex(({mediaid:i})=>i===e.mediaid);return(a=n==null?void 0:n.playlist)==null?void 0:a[r+1]},To=(e,t)=>{let n=[];return e&&(n="seasons"in e?e.seasons.flatMap(o=>o.episodes.map(a=>({...a,season_number:o.season_number}))):e.episodes.map(o=>({...o,season_number:0}))),(t||[]).map(o=>{const a=n.find(i=>i.media_id===(o==null?void 0:o.mediaid));return{...o,seasonNumber:String((a==null?void 0:a.season_number)||"0"),episodeNumber:String((a==null?void 0:a.episode_number)||"0")}})},Rp=e=>ze(["series",e],async()=>{const t=await Ri(e||""),n=t?Io(t).map(o=>o.media_id):[],r=await Bi(n);return{series:t,playlist:{title:t==null?void 0:t.title,description:t==null?void 0:t.description,feedid:t==null?void 0:t.series_id,playlist:To(t,r)}}},{enabled:!!e,staleTime:60*1e3*60*8,retry:(t,n)=>n.code!==404&&t<2}),Wp={title:"",playlist:[]},Eo=e=>{const{data:t,isLoading:n,error:r,isError:o}=Rp(e),a=o&&(r==null?void 0:r.code)===404,{data:i,isLoading:c,error:l}=Ht(e,{},a,!1);return{data:{seriesPlaylist:(t==null?void 0:t.playlist)||i||Wp,series:t==null?void 0:t.series},isPlaylistError:Boolean(r&&l),isLoading:n||c}},Lo=({seriesId:e,episodeId:t})=>{const{t:n}=I("video"),{isLoading:r,isPlaylistError:o,data:a}=Eo(e),i=Fe("play")==="1",c=Fe("r");if(r)return s(lt,{});if(o||!a)return s(we,{title:n("series_error")});const l=a.seriesPlaylist.playlist[0],d=t?a.seriesPlaylist.playlist.find(({mediaid:p})=>p===t):l;return d?s(pn,{to:st(d,e,i,c),replace:!0}):s(we,{title:n("episode_not_found")})},Ao=({data:e,isLoading:t})=>{const n=Ws(e)||"";return t?s(lt,{}):s(Lo,{seriesId:n})},Vp=e=>{const t=Fe("seriesId")||nc(e),{isLoading:n,data:r}=ze(["seriesId",e.feedid],async()=>{var i;const o=await Wi([e.mediaid]),a=(i=o==null?void 0:o[e.mediaid])==null?void 0:i[0];return a==null?void 0:a.series_id},{enabled:!t});return{isLoading:n,seriesId:t||r}},Mo=({data:e})=>{var Tt,Et,Lt;const t=be(),{t:n}=I("video"),[r,o]=f.exports.useState(!1),a=ee(),{seriesId:i,isLoading:c}=Vp(e),l=Fe("play")==="1",d=Fe("r"),{config:p,accessModel:u}=j(({config:Ee,accessModel:In})=>({config:Ee,accessModel:In}),X),{features:g,siteName:y,custom:h}=p,v=Boolean(g==null?void 0:g.favoritesList),k=Boolean(h==null?void 0:h.inlinePlayer),{isLoading:b,isPlaylistError:m,data:{series:x,seriesPlaylist:C}}=Eo(i),{isLoading:N,data:S}=xr(e.trailerId||""),w=f.exports.useMemo(()=>x&&e?To(x,[e])[0]:e,[e,x]),P=f.exports.useMemo(()=>Bp(w,x,C),[w,x,C]),$=c||b,[O,E]=f.exports.useState((w==null?void 0:w.seasonNumber)||"1"),T=Dp(C),D=f.exports.useMemo(()=>Op(C,O),[C,O]),L=Ye(Ee=>Ee.getDictionary()),{user:B,subscription:Q}=W(({user:Ee,subscription:In})=>({user:Ee,subscription:In}),X),{isEntitled:le}=vn(w),ue=()=>w&&C&&a(st(e,i,!1,d)),ge=Ee=>C&&a(st(Ee,i,!1,d)),U=f.exports.useCallback(()=>{P&&a(st(P,i,!0,d))},[P,a,i,d]);if(f.exports.useEffect(()=>{(document.scrollingElement||document.body).scroll({top:0})},[e]),f.exports.useEffect(()=>{E((w==null?void 0:w.seasonNumber)||"")},[w==null?void 0:w.seasonNumber,E]),$)return s(lt,{});if(m)return s(we,{title:n("series_error")});if(!i)return s(we,{title:n("series_error")});const se=`${w.title} - ${y}`,z=C&&w?`${window.location.origin}${st(w,i)}`:window.location.href,V=As(w,n("video:total_episodes",{count:C.playlist.length})),F=_(ae,{children:[s("strong",{children:wr(w.seasonNumber,w.episodeNumber)})," - ",w.title]}),te=C.playlist.filter(Ee=>Ee.seasonNumber===w.seasonNumber).length,J=` ${n("video:season")} ${w.seasonNumber}/${T.length} - ${n("video:episode")} ${w.episodeNumber}/${te}`,pe=s(Wr,{title:w.title,description:w.description,url:z}),de=s(Er,{item:w,playUrl:st(w,i,!0,d)}),ve=v&&s(No,{item:w}),Ne=(!!S||N)&&s(M,{label:n("video:trailer"),"aria-label":n("video:watch_trailer"),startIcon:s(Po,{}),onClick:()=>o(!0),active:r,fullWidth:t<q.md,disabled:!S}),Pe=!!B,tt=!!Q;return _(fe.Fragment,{children:[_(at,{children:[s("title",{children:se}),s("link",{rel:"canonical",href:z}),s("meta",{name:"description",content:w.description}),s("meta",{property:"og:description",content:w.description}),s("meta",{property:"og:title",content:se}),s("meta",{property:"og:type",content:"video.episode"}),w.image&&s("meta",{property:"og:image",content:(Tt=w.image)==null?void 0:Tt.replace(/^https:/,"http:")}),w.image&&s("meta",{property:"og:image:secure_url",content:(Et=w.image)==null?void 0:Et.replace(/^http:/,"https:")}),s("meta",{property:"og:image:width",content:w.image?"720":""}),s("meta",{property:"og:image:height",content:w.image?"406":""}),s("meta",{name:"twitter:title",content:se}),s("meta",{name:"twitter:description",content:w.description}),s("meta",{name:"twitter:image",content:w.image}),s("meta",{property:"og:video",content:z.replace(/^https:/,"http:")}),s("meta",{property:"og:video:secure_url",content:z.replace(/^http:/,"https:")}),s("meta",{property:"og:video:type",content:"text/html"}),s("meta",{property:"og:video:width",content:"1280"}),s("meta",{property:"og:video:height",content:"720"}),(Lt=w.tags)==null?void 0:Lt.split(",").map(Ee=>s("meta",{property:"og:video:tag",content:Ee},Ee)),C&&w?s("script",{type:"application/ld+json",children:zl(C,w)}):null]}),s(Sr,{item:w,title:k?w.title:C.title,description:w.description,inlineLayout:k,primaryMetadata:V,secondaryMetadata:F,image:w.backgroundImage,shareButton:pe,favoriteButton:ve,trailerButton:Ne,startWatchingButton:de,isLoading:$,accessModel:u,isLoggedIn:Pe,hasSubscription:tt,playlist:D,relatedTitle:k?C.title:n("episodes"),onItemClick:ge,setFilter:E,currentFilter:O,filterValuePrefix:n("season_prefix"),defaultFilterLabel:n("all_seasons"),activeLabel:n("current_episode"),watchHistory:L,filterMetadata:J,filters:T,player:k?s($o,{isLoggedIn:Pe,item:w,onComplete:U,feedId:d??void 0,startWatchingButton:de,paywall:St(u,Pe,tt,w),autostart:l||void 0}):s(Rr,{open:l&&le,onClose:ue,item:w,title:C.title,primaryMetadata:V,secondaryMetadata:F,onComplete:U,feedId:d??void 0})}),s(ko,{item:S,title:`${w.title} - Trailer`,open:r,onClose:()=>o(!1)})]})},qp=({data:e,isLoading:t})=>{const n=tc(e)?e.liveChannelsId:void 0;return n?t?s(lt,{}):s(pn,{to:bt(n,e.mediaid),replace:!0}):s(we,{title:"Live channel not found"})};class Do{constructor(){At(this,"defaultScreen");At(this,"definitions",[])}register(t,n){this.definitions.unshift({component:t,predicate:n})}registerByContentType(t,n){this.register(t,r=>{var o;return((o=r==null?void 0:r.contentType)==null?void 0:o.toLowerCase())===n})}registerDefault(t){this.defaultScreen=t}getScreen(t){var r;const n=(r=this.definitions.find(({predicate:o})=>o(t)))==null?void 0:r.component;if(n)return n;if(!this.defaultScreen)throw new Error("Default screen not defined");return this.defaultScreen}}const Ze=new Do;Ze.registerByContentType(Ao,"series");Ze.registerByContentType(Mo,"episode");Ze.registerByContentType(qp,"livechannel");Ze.registerByContentType(Va,"page");Ze.registerDefault(Mp);Ze.register(Mo,e=>!!e&&Vs(e));Ze.register(Ao,e=>!!e&&ec(e));const jp=()=>{const t=qt().id||"",{isLoading:n,isFetching:r,error:o,data:a}=xr(t),{t:i}=I("error");if(n)return s(lt,{});if(o||!a)return s(we,{title:i("video_not_found")});const c=Ze.getScreen(a);return s(c,{data:a,isLoading:r})},Hp="_hero_hb036_1",Up="_content_hb036_5",zp="_title_hb036_21",Jp="_image_hb036_38",Qt={hero:Hp,content:Up,title:zp,image:Jp},Yp=({title:e,description:t,image:n})=>_("div",{className:Qt.hero,children:[s(Nt,{className:Qt.image,image:n,width:1280,alt:""}),_("div",{className:Qt.content,children:[s("h1",{className:Qt.title,children:e}),s("p",{children:t})]})]}),Gp="_shelfList_1jxip_1",Qp="_list_1jxip_6",Kp="_shelfContainer_1jxip_13",Zp="_featured_1jxip_17",Rn={shelfList:Gp,list:Qp,shelfContainer:Kp,featured:Zp},Oo=({playlistId:e,type:t,onPlaylistUpdate:n,style:r,children:o,showEmpty:a=!1})=>{const i=Ra.some(y=>y===t),{isLoading:c,error:l,data:d={title:"",playlist:[]}}=Ht(e,{page_limit:ku.toString()},!i,!0);let p=d;const u=qe(y=>y.getPlaylist()),g=Ye(y=>y.getPlaylist());if(f.exports.useEffect(()=>{p&&n&&n(p)},[p,n]),t===Je.Favorites&&(p=u),t===Je.ContinueWatching&&(p=g),!e&&!t)throw new Error("Playlist without contentId and type was set in the content config section. Please check the config validity");return!p.playlist.length&&!a?null:o({playlist:p,isLoading:c,error:l,style:r})},Xp="_shelf_iejgn_1",em="_chevron_iejgn_6",tm="_disabled_iejgn_9",nm="_title_iejgn_13",rm="_dot_iejgn_47",sm="_active_iejgn_56",om="_error_iejgn_61",Ue={shelf:Xp,chevron:em,disabled:tm,title:nm,dot:rm,active:sm,error:om},Fo=re("0 0 24 24",s("g",{children:s("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})),am="_tileDock_vgwso_1",im="_notInView_vgwso_14",cm="_leftControl_vgwso_23",lm="_rightControl_vgwso_31",dm="_emptyTile_vgwso_39",um="_dots_vgwso_47",nt={tileDock:am,notInView:im,leftControl:cm,rightControl:lm,emptyTile:dm,dots:um},ps=(e,t)=>{const n=[];return t.map(r=>{let o=`tile_${e.indexOf(r)}`;for(;n.includes(o);)o+="_";return n.push(o),{item:r,key:o}})},pm=(e,t,n,r,o)=>{if(!t)return ps(e,e);const a=n,i=n+r*3,c=o==="endless"?r:0,l=e.slice(0,r+c+1),u=[...e.slice(0-(r+c+1)),...e,...l].slice(a,i+2);return ps(e,u)};function mm({items:e,tilesToShow:t=6,cycleMode:n="endless",spacing:r=12,minimalTouchMovement:o=30,showControls:a=!0,animated:i=!window.matchMedia("(prefers-reduced-motion)").matches,transitionTime:c="0.6s",wrapWithEmptyTiles:l=!1,showDots:d=!1,renderTile:p,renderLeftControl:u,renderRightControl:g,renderPaginationDots:y}){const[h,v]=f.exports.useState(0),[k,b]=f.exports.useState(0),[m,x]=f.exports.useState(-100),[C,N]=f.exports.useState(!1),S=f.exports.useRef(),w=100/t,P=(e==null?void 0:e.length)>t,$=P?100-w*(t+1)+m:l?-100:0,O=e.length/t,E=f.exports.useMemo(()=>pm(e,P,h,t,n),[e,P,h,t,n]),T=P&&i?`transform ${c} ease`:"",D=a&&P,L=D&&!(n==="stop"&&h===0),B=D&&!(n==="stop"&&h===e.length-t),Q=f.exports.useCallback(z=>{const V=z==="right"?1:-1;let F=h+t*V;F<0&&(n==="stop"&&(F=0),n==="restart"&&(F=h===0?0-t:0)),F>e.length-t&&(n==="stop"&&(F=e.length-t),n==="restart"&&(F=h>=e.length-t?e.length:e.length-t));const J=Math.abs(h-F)*w*(0-V);b(F),x(-100+J),i||N(!0)},[i,n,h,e.length,w,t]),le=f.exports.useCallback(z=>{const V={x:z.touches[0].clientX,y:z.touches[0].clientY};function F(de){const ve={x:de.changedTouches[0].clientX,y:de.changedTouches[0].clientY},Ne=Math.abs(ve.x-V.x),Pe=Math.abs(ve.y-V.y);Ne>Pe&&Ne>10&&(de.preventDefault(),de.stopPropagation())}function te(de){const ve={x:de.changedTouches[0].clientX,y:de.changedTouches[0].clientY},Ne=Math.abs(ve.x-V.x),Pe=Math.abs(ve.y-V.y),tt=ve.x<V.x?"right":"left";Ne>o&&Ne>Pe&&Q(tt),pe()}function J(){pe()}function pe(){document.removeEventListener("touchmove",F),document.removeEventListener("touchend",te),document.removeEventListener("touchcancel",J)}document.addEventListener("touchmove",F,{passive:!1}),document.addEventListener("touchend",te),document.addEventListener("touchcancel",J)},[o,Q]);f.exports.useLayoutEffect(()=>{C&&(()=>{let V=k;V=V>=e.length?k-e.length:V,V=V<0?e.length+k:V,V!==k&&b(V),v(V),S.current&&(S.current.style.transition="none"),x(-100),setTimeout(()=>{S.current&&(S.current.style.transition=T)},0),N(!1)})()},[C,h,e.length,k,w,t,T]);const ue=z=>{z.target===S.current&&N(!0)},ge={transform:`translate3d(${$}%, 0, 0)`,WebkitTransform:`translate3d(${$}%, 0, 0)`,transition:T,marginLeft:-r/2,marginRight:-r/2},U=h-k,se=()=>{if(d&&P&&!!y){const z=O;return s("div",{className:nt.dots,children:Array.from({length:z},(V,F)=>y(h,F))})}};return _("div",{children:[_("div",{className:nt.tileDock,children:[L&&!!u&&s("div",{className:nt.leftControl,children:u(()=>Q("left"))}),_("ul",{ref:S,style:ge,onTouchStart:le,onTransitionEnd:ue,children:[l?s("li",{className:nt.emptyTile,style:{width:`${w}%`,paddingLeft:r/2,paddingRight:r/2,boxSizing:"border-box"}}):null,E.map((z,V)=>{const F=!P||V>t-U&&V<t*2+1-U;return s("li",{className:A({[nt.notInView]:!F}),style:{width:`${w}%`,paddingLeft:r/2,paddingRight:r/2,boxSizing:"border-box",transition:F?"":"opacity .2s ease-in 0s"},children:p(z.item,F)},z.key)}),l?s("li",{className:nt.emptyTile,style:{width:`${w}%`,paddingLeft:r/2,paddingRight:r/2,boxSizing:"border-box"}}):null]}),B&&!!g&&s("div",{className:nt.rightControl,children:g(()=>Q("right"))})]}),se()]})}const hm={[q.xs]:1,[q.sm]:2,[q.md]:3,[q.lg]:4,[q.xl]:5},fm={[q.xs]:1,[q.sm]:1,[q.md]:1,[q.lg]:1,[q.xl]:1},_m=({playlist:e,type:t,onCardClick:n,onCardHover:r,title:o,watchHistory:a,featured:i=!1,loading:c=!1,error:l=null,accessModel:d,isLoggedIn:p,hasSubscription:u,posterAspect:g,visibleTilesDelta:y=0})=>{const h=be(),{t:v}=I("common"),[k,b]=f.exports.useState(!1),m=(i?fm[h]:hm[h])+y,x=f.exports.useCallback((P,$)=>s(Os,{title:P.title,duration:P.duration,progress:a?a[P.mediaid]:void 0,image:P.shelfImage,seriesId:P.seriesId,seasonNumber:P.seasonNumber,episodeNumber:P.episodeNumber,onClick:$?()=>n(P,e.feedid,t):void 0,onHover:typeof r=="function"?()=>r(P):void 0,featured:i,disabled:!$,loading:c,isLocked:St(d,p,u,P),posterAspect:g},P.mediaid),[a,r,i,c,d,p,u,g,n,e.feedid,t]),C=f.exports.useCallback(P=>s("div",{className:Ue.chevron,role:"button",tabIndex:0,"aria-label":v("slide_right"),onKeyDown:$=>($.key==="Enter"||$.key===" ")&&w(P),onClick:()=>w(P),children:s(kr,{})}),[v]),N=f.exports.useCallback(P=>s("div",{className:A(Ue.chevron,{[Ue.disabled]:!k}),role:"button",tabIndex:k?0:-1,"aria-label":v("slide_left"),onKeyDown:$=>($.key==="Enter"||$.key===" ")&&w(P),onClick:()=>w(P),children:s(Fo,{})}),[k,v]),S=(P,$)=>s("span",{className:A(Ue.dot,{[Ue.active]:P===$})},$),w=P=>{b(!0),P()};return l||!(e!=null&&e.playlist)?s("h2",{className:Ue.error,children:"Could not load items"}):_("div",{className:A(Ue.shelf,{[Ue.featured]:i}),children:[i?null:s("h2",{className:A(Ue.title,{[Ue.loading]:c}),children:o||e.title}),s(mm,{items:e.playlist,tilesToShow:m,wrapWithEmptyTiles:i&&e.playlist.length===1,cycleMode:"restart",showControls:!matchMedia("(hover: none)").matches&&!c,showDots:i,transitionTime:"0.3s",spacing:8,renderLeftControl:N,renderRightControl:C,renderPaginationDots:S,renderTile:x})]})},ms=6,gm=4,Bo=({rows:e})=>{const t=ee(),{accessModel:n}=j(({accessModel:d})=>({accessModel:d}),X),[r,o]=f.exports.useState(ms),a=Ye(d=>d.getDictionary()),{user:i,subscription:c}=W(({user:d,subscription:p})=>({user:d,subscription:p}),X),l=f.exports.useCallback((d,p,u)=>{t(Oe(d,p,u===Je.ContinueWatching))},[t]);return f.exports.useEffect(()=>{o(ms)},[e]),s("div",{className:Rn.home,children:s(Ss,{pageStart:0,style:{overflow:"hidden"},loadMore:()=>o(d=>d+gm),hasMore:r<e.length,role:"grid",loader:s(qs,{},"loader"),children:e.slice(0,r).map((d,p)=>s(Oo,{type:d.type,playlistId:d.contentId,children:({playlist:u,error:g,isLoading:y,style:h})=>{const v=(d==null?void 0:d.title)||u.title,k=Fs(u.shelfImageAspectRatio),b=Bs(k);return s("div",{style:h,role:"row",className:A(Rn.shelfContainer,{[Rn.featured]:d.featured}),"data-testid":(`${d.featured?"featured":d.type!=="playlist"?d.type:Ls(v)}`,void 0),children:s("div",{role:"cell",children:s(_m,{loading:y,error:g,type:d.type,playlist:u,watchHistory:d.type===Je.ContinueWatching?a:void 0,onCardClick:l,title:v,featured:d.featured===!0,accessModel:n,isLoggedIn:!!i,hasSubscription:!!c,posterAspect:k,visibleTilesDelta:b})})})}},`${d.contentId||d.type}_${p}`))})})},ym=e=>(typeof e=="string"?e.replace(/\s+/g,"").split(","):[]).map(n=>({type:"playlist",contentId:n})),wm=({data:e})=>{const t=f.exports.useMemo(()=>ym(e.playlists),[e.playlists]);return f.exports.useEffect(()=>{(document.scrollingElement||document.body).scroll({top:0})},[e]),_("header",{children:[s(Yp,{image:e.backgroundImage,title:e.title,description:e.description}),s(Bo,{rows:t})]})};function bm(){Ze.registerByContentType(wm,"hub")}const vm={explanation:"You will be unsubscribed from your current plan by clicking the unsubscribe button below.",no_thanks:"No, thanks",title:"We are sorry to see you go.",unknown_error_occurred:"An unknown error occurred, please try again later.",unsubscribe:"Unsubscribe"},Cm={applicable_tax:"Applicable tax ({{taxRate}}%)",close:"Close",continue:"Continue",coupon_applied:"Your coupon code has been applied",coupon_discount:"Coupon discount",coupon_not_valid:"Coupon code is not valid",credit_card:"Credit card",credit_card_name:"Credit card name",days_trial:"You will be charged tomorrow.",days_trial_plural:"You will be charged after {{count}} days.",discount_period:"For the first {{period}}",discount_period_plural:"For the first {{count}} {{period}}",free_trial_discount:"Free trial",invalid_card_expiry:"Invalid card expiry",invalid_card_number:"Invalid card number",invalid_cvc_number:"Invalid CVC number",monthly:"Monthly subscription",no_payment_needed:"No payment needed",payment_cancelled:"Payment cancelled",payment_cancelled_message:"You have cancelled the payment",payment_error:"Payment failed",payment_method:"Payment method",payment_method_fee:"Payment method fee",paypal:"PayPal",paypal_instructions:"Clicking 'continue' will bring you to the PayPal site.",periods_trial:"You will be charged after one {{period}}.",periods_trial_plural:"You will be charged after {{count}} {{period}}.",redeem_coupon:"Redeem coupon",start_watching:"Start watching ({{countdown}})",total_price:"Total",waiting_for_payment:"Waiting for payment",welcome_description:"Thank you for subscribing to {{siteName}}. Please enjoy all our content.",welcome_title:"Welcome to {{siteName}}",yearly:"Yearly subscription"},xm={benefits:{cancel_anytime:"Cancel anytime",first_days_free:"First day free",first_days_free_plural:"First {{count}} days free",first_periods_free:"First {{period}} free",first_periods_free_plural:"First {{count}} {{period}} free",watch_on_all_devices:"Watch on all devices"},continue:"Continue",field_required:"This field is required",monthly:"Monthly",monthly_subscription:"Monthly subscription",offer_not_found:"Offer not found, please try reloading the page",one_time_only:"This video",subscription:"Subscription",title:"Choose plan",tvod_access:"{{count}} {{period}} access",tvod_access_plural:"{{count}} {{period}} access",watch_this_on_platform:"Watch this on {{siteName}}",yearly:"Yearly",yearly_subscription:"Yearly subscription"},km={email:"Email",field_is_not_valid_email:"Please re-enter your email details and try again.",field_required:"This field is required",forgot_password:"Forgot password?",hide_password:"Hide password",not_registered:"New to {{siteName}}?",password:"Password",sign_in:"Sign in",sign_up:"Sign up",view_password:"View password",wrong_combination:"Incorrect email/password combination",wrong_email:"Please check your email and try again."},Sm={day:"day",month:"month",week:"week",year:"year",day_plural:"days",week_plural:"weeks",month_plural:"months",year_plural:"years"},Nm={address:"Address line 1",address2:"Address line 2",birth_date:"Date of birth",birth_date_not_valid:"Birth of date is not a valid date",city:"City",company_name:"Company name",continue:"Continue",fist_name:"First name",last_name:"Last name",phone_number:"Phone number",post_code:"Zip/Postal Code",select_answer:"Choose an option",state:"State/Province/Region",this_field_is_required:"This field is required",title:"Personal details"},Pm={already_account:"Already have an account?",consent_required:"This field is required",continue:"Continue",email:"Email",failed_to_create:"An error occurred. Please try again later.",field_is_not_valid_email:"Please re-enter your email details",field_required:"This field is required",hide_password:"Hide password",invalid_password:"Use a minimum of 8 characters (case sensitive) with at least one number",password:"Password",password_helper_text:"Use a minimum of 8 characters (case sensitive) with at least one number",password_strength:{fair:"Fair",invalid:"",strong:"Strong",very_strong:"Very strong",weak:"Weak"},sign_up:"Sign up",user_exists:"There is already a user with this email address",view_password:"View password",email_updates:"Yes, I want to receive {{siteName}} updates by email."},$m={explanation:"By clicking the button below you can renew your plan.",next_billing_date_on:"Next billing date will be {{date}}",no_thanks:"No, thanks",renew_subscription:"Renew subscription",renew_your_subscription:"Renew your subscription",unknown_error_occurred:"An unknown error occurred!"},Im={back_login:"Back to login",confirm:"Confirm",email:"Email",email_me:"Email me",forgot_password:"Forgot password",forgot_text:"We will send you an email with instructions on how to reset your password.",hide_password:"Hide password",invalid_link:"Invalid link",invalid_password:"Invalid password",invalid_token:"The reset password link is invalid or has expired. Please try resetting your password again.",link_sent:"Password link sent",link_sent_text:"Please check your inbox at {{email}}",new_password:"New password",no:"No, thanks",not_sure:"Not sure that was the right email address?",old_password:"Old password",password:"Password",password_helper_text:"Use a minimum of 8 characters (case sensitive) with at least one number",password_reset:"Password reset",passwords_do_not_match:"Passwords do not match",repeat_new_password:"Repeat new password",reset_password:"Edit Password",reset_password_token:"Token",text:"If you want to edit your password, click 'YES, Reset' to receive password reset instruction on your mail",try_again:"Try again",view_password:"View password",wrong_email:"Wrong email",yes:"Yes, reset",password_reset_text:""},Tm={message:"You have been successfully unsubscribed. Your current plan will expire on {{date}}",return_to_profile:"Return to profile",title:"Miss you already."},Em={back_to_profile:"Back to profile",message:"You have been successfully resubscribed. Your fee will be {{price}} starting from {{date}}",title:"Your subscription has been renewed"},Lm={cancel_subscription:vm,checkout:Cm,choose_offer:xm,login:km,periods:Sm,personal_details:Nm,registration:Pm,renew_subscription:$m,reset:Im,subscription_cancelled:Tm,subscription_renewed:Em},Am={close:"Close",title:"An error occurred"},Mm="Back",Dm="Item locked",Om="Close",Fm={close:"Cancel",confirm:"Yes"},Bm="My OTT Application",Rm="Filter videos by {{ name }}",Wm="Home",Vm="LIVE",qm="Now",jm="(Optional)",Hm="Play {{ title }}",Um="series",zm="Sign in",Jm="Sign up",Ym="Slide left",Gm="Slide right",Qm="Filter videos by genre",Km={alert:Am,back:Mm,card_lock:Dm,close_modal:Om,confirmation_dialog:Fm,default_site_name:Bm,filter_videos_by:Rm,home:Wm,live:Vm,now:qm,optional:jm,play_item:Hm,series:Um,sign_in:zm,sign_up:Jm,slide_left:Ym,slide_right:Gm,filter_videos_by_genre:Qm},Zm="Invalid or Missing App Config",Xm="Cancel",eh="(click here to unselect this config)",th="You are currently previewing config: '{{configSource}}'",nh="Note: The chosen app config ID will be stored locally in this browser only. Use the link at the bottom of the main page to clear the setting and return to this dialog.",rh="The App Config ID should be 8 digits long. Please correct your input and try again.",sh="Please enter an App Config ID",oh="The App Config ID should consist of only numbers and lowercase letters. Please check your input and then try again.",ah="Please enter an App Config ID from your JW Account",ih="Submit",ch="Don't have a config? Use the JWP Dashboard to create an App Config or click Cancel to view a generic demo.",lh="View Generic Demo?",dh="This will redirect you to a generic demo app. Are you sure you want to continue?",uh={app_config_not_found:Zm,cancel_config_id:Xm,click_to_unselect_config:eh,currently_previewing_config:th,demo_note:nh,enter_8_digits:rh,enter_a_value:sh,invalid_config_id_format:oh,please_enter_config_id:ah,submit_config_id:ih,use_the_jwp_dashboard:ch,view_generic_demo:lh,viewing_config_demo:dh},ph="On {{name}}",mh="Watch from start",hh={on_channel:ph,start_from_beginning:mh},fh="There was a problem retrieving the application configuration. Try again later. If the problem persists contact technical support.",_h="There was a problem loading the default settings. Try again later. If the problem persists contact technical support.",gh="Invalid or missing config",yh="Try refreshing this page or come back later.",wh="There was an issue loading the application",bh="Learn more",vh="This page doesn't exist.",Ch="Not found",xh="Playlist not found",kh="Invalid or missing settings",Sh="Video not found",Nh={check_your_config:fh,check_your_settings:_h,config_invalid:gh,generic_error_description:yh,generic_error_heading:wh,learn_more:bh,notfound_error_description:vh,notfound_error_heading:Ch,playlist_not_found:xh,settings_invalid:kh,video_not_found:Sh},Ph="Close menu",$h="Open menu",Ih="Open user menu",Th="Sign in",Eh="Sign up",Lh={close_menu:Ph,open_menu:$h,open_user_menu:Ih,sign_in:Th,sign_up:Eh},Ah="Reload this page or try again later.",Mh="Something went wrong",Dh="It looks like we had an issue loading this page...",Oh="Search results",Fh='No results found for "{{query}}"',Bh={clear_search_label:"Clear search",search_label:"Search",search_placeholder:"Search..."},Rh="Type something in the search box to start searching",Wh="Suggestions:",Vh="Make sure all words are spelled correctly",qh="Try different search terms",jh="Make search terms more general",Hh='{{results}} result for "{{query}}"',Uh='{{results}} results for "{{query}}"',zh={error_description:Ah,error_heading:Mh,error_subheading:Dh,heading:Oh,no_results_heading:Fh,search_bar:Bh,start_typing:Rh,suggestions:Wh,tip_one:Vh,tip_three:qh,tip_two:jh,title:Hh,title_plural:Uh},Jh={about_you:"About you",cancel:"Cancel",confirm_password:"Confirm password",edit_account:"Edit account",edit_information:"Edit information",edit_password:"Edit password",email:"Email",errors:{email_exists:"Email already exists!",email_update_not_supported:"Email update not supported",first_name_too_long:"Please limit First Name to 50 characters or fewer.",invalid_param_email:"Invalid email address!",invalid_password:"Password incorrect!",last_name_too_long:"Please limit Last Name to 50 characters or fewer.",please_enter_valid_email:"Please enter a valid email address.",unknown_error:"An unknown error occurred"},firstname:"First name",hide_password:"Hide password",lastname:"Last name",password:"Password",save:"Save",security:"Security",terms_and_tracking:"Terms & tracking",update_consents:"Update consents",view_password:"View password"},Yh={clear:"Clear favorites",clear_favorites_body:"You are about to clear all of your favorite videos. Are you sure?",clear_favorites_title:"Clear favorites?",no_favorites:"Your favorites are empty",not_found:"Favorites not found!",title:"Favorites"},Gh={account:"Account",favorites:"Favorites",logout:"Log out",payments:"Payments"},Qh={access_granted:"access granted",annual_subscription:"Annual subscription",cancel_subscription:"Cancel subscription",card_number:"Card number",complete_subscription:"Complete subscription",cvc_cvv:"CVC / CVV",daily_subscription:"Daily subscription",expiry_date:"Expiry date",granted_subscription:"Granted subscription",hidden_transactions:"One more transaction",hidden_transactions_plural:"{{count}} more transactions",monthly_subscription:"Monthly subscription",next_billing_date_on:"Next billing date is on {{date}}",no_payment_methods:"No payment methods",no_subscription:"You have no subscription. Complete your subscription to start watching all movies and series.",no_transaction:"No transaction",no_transactions:"No transactions",other:"other",payment_method:"Payment method",price_payed_with:"{{price}} payed with {{method}}",renew_subscription:"Renew subscription",show_all:"Show all",subscription_details:"Subscription details",subscription_expires_on:"This plan will expire on {{date}}",transactions:"Transactions",weekly_subscription:"Weekly subscription",price_payed_with_card:"Price payed with card"},Kh={account:Jh,favorites:Yh,nav:Gh,payment:Qh},Zh="Add to favorites",Xh="All seasons",ef="Buy",tf="Complete your subscription",nf="Continue watching",rf="Copied url",sf="Current episode",of="Current video",af="episode",cf="Episode not found",lf="Episodes",df="Favorite",uf="Maximum amount of favorite videos exceeded. You can only add up to {{maxCount}} favorite videos. Please delete one and repeat the operation.",pf="Remove from favorites",mf="season",hf="Season ",ff="An error occurred while requesting series",_f="Share",gf="Sign up to start watching!",yf="Start watching",wf="{{count}} episode",bf="{{count}} episodes",vf="Trailer",Cf="Watch the trailer",xf="Share this video",kf={add_to_favorites:Zh,all_seasons:Xh,buy:ef,complete_your_subscription:tf,continue_watching:nf,copied_url:rf,current_episode:sf,current_video:of,episode:af,episode_not_found:cf,episodes:lf,favorite:df,favorites_warning:uf,remove_from_favorites:pf,season:mf,season_prefix:hf,series_error:ff,share:_f,sign_up_to_start_watching:gf,start_watching:yf,total_episodes:wf,total_episodes_plural:bf,trailer:vf,watch_trailer:Cf,share_video:xf},Sf=Object.freeze(Object.defineProperty({__proto__:null,account:Lm,common:Km,demo:uh,epg:hh,error:Nh,menu:Lh,search:zh,user:Kh,video:kf},Symbol.toStringTag,{value:"Module"})),Nf=new na,Pf={"en-US":Sf},$f=async()=>{await ot.use(ra).use(Nf).init({resources:Pf,lng:"en-US",fallbackLng:"en",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}})},If="_banner_1xec5_1",Tf={banner:If};function et(e,t,n,r=!1){const[o,a]=f.exports.useState(Object.fromEntries(Object.keys(e).map(m=>[m,!1]))),[i,c]=f.exports.useState(e),[l,d]=f.exports.useState(!1),[p,u]=f.exports.useState({}),g=(m,x)=>{if(!!n)try{n.validateSyncAt(m,x),u(C=>({...C,[m]:null}))}catch(C){if(C instanceof Jr){const N=C.errors[0];u(S=>({...S,[m]:N}))}}},y=f.exports.useCallback((m,x)=>{c(C=>({...C,[m]:x}))},[]),h=m=>{const x=m.target.name,C=m.target instanceof HTMLInputElement&&m.target.type==="checkbox"?m.target.checked:m.target.value,N={...i,[x]:C};c(N),a(S=>({...S,[x]:C})),p[x]&&g(x,N)},v=m=>{!r||!o[m.target.name]||g(m.target.name,i)},k=m=>{try{return m.validateSync(i,{abortEarly:!1}),!0}catch(x){if(x instanceof Jr){const C={};for(let N=0;N<x.inner.length;N++){const S=x.inner[N].path,w=x.inner[N].errors[0];S&&w&&!C[S]&&(C[S]=w)}u(C)}}return!1};return{values:i,errors:p,handleChange:h,handleBlur:v,handleSubmit:m=>{m.preventDefault(),!(!t||l)&&(u({}),!(n&&!k(n))&&(d(!0),t(i,{setValue:y,setErrors:u,setSubmitting:d,validate:k})))},submitting:l,setValue:y,setErrors:u,setSubmitting:d}}const Ef="_title_1hl3t_1",Lf="_link_1hl3t_7",Af="_bottom_1hl3t_11",Wn={title:Ef,link:Lf,bottom:Af},Nn=(e=!1)=>{const[t,n]=f.exports.useState(e);return[t,o=>n(a=>typeof o<"u"?o:!a)]},Mf="_textField_1nu0e_1",Df="_error_1nu0e_5",Of="_container_1nu0e_5",Ff="_disabled_1nu0e_8",Bf="_leftControl_1nu0e_11",Rf="_input_1nu0e_11",Wf="_rightControl_1nu0e_14",Vf="_label_1nu0e_22",qf="_control_1nu0e_34",Re={textField:Mf,error:Df,container:Of,disabled:Ff,leftControl:Bf,input:Rf,rightControl:Wf,label:Vf,control:qf},G=({className:e,label:t,error:n,helperText:r,leftControl:o,rightControl:a,editing:i=!0,testId:c,inputRef:l,textAreaRef:d,multiline:p,...u})=>{const g=dt("text-field",u.name),{t:y}=I("common"),h=b=>!!b&&typeof b=="object",v=b=>h(b)&&!!p,k=A(Re.textField,{[Re.error]:n,[Re.disabled]:u.disabled,[Re.leftControl]:!!o,[Re.rightControl]:!!a},e);return _("div",{className:k,"data-testid":void 0,children:[_("label",{htmlFor:g,className:Re.label,children:[t,!u.required&&i?s("span",{children:y("optional")}):null]}),i?_("div",{className:Re.container,children:[o?s("div",{className:Re.control,children:o}):null,v(u)?s("textarea",{id:g,className:Re.input,rows:3,ref:d,...u}):s("input",{id:g,className:Re.input,type:"text",ref:l,...u}),a?s("div",{className:Re.control,children:a}):null]}):s("p",{children:u.value}),s($t,{error:n,children:r})]})},jf="_link_1uj3n_1",Hf={link:jf},ur=({to:e,href:t,children:n,className:r,onClick:o,target:a,...i})=>{const c=A(Hf.link,r);return e?s(fr,{to:e,className:c,onClick:o,children:n}):s("a",{href:t,className:c,onClick:o,target:a,rel:a==="_blank"?"noreferrer":void 0,...i,children:n})},Pn=re("0 0 24 24",s("g",{children:s("path",{d:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"})})),$n=re("0 0 24 24",s("g",{children:s("path",{d:"M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z"})})),Uf="_formFeedback_1hgsg_1",zf="_error_1hgsg_11",Jf="_warning_1hgsg_16",Yf="_success_1hgsg_21",Kt={formFeedback:Uf,error:zf,warning:Jf,success:Yf},Te=({children:e,variant:t="error"})=>{const n=A(Kt.formFeedback,{[Kt.error]:t==="error",[Kt.warning]:t==="warning",[Kt.success]:t==="success"});return s("div",{className:n,children:e})},Gf="_loadingOverlay_96qzh_1",Qf="_fixed_96qzh_7",Kf="_transparent_96qzh_17",Zf="_inline_96qzh_21",Zt={loadingOverlay:Gf,fixed:Qf,transparent:Kf,inline:Zf},ie=({transparentBackground:e=!1,inline:t=!1})=>{const n=A(Zt.loadingOverlay,{[Zt.transparent]:e,[Zt.fixed]:!t,[Zt.inline]:t});return s("div",{className:n,children:s(Pt,{})})},Xf=({onSubmit:e,onChange:t,values:n,errors:r,submitting:o,siteName:a})=>{const[i,c]=Nn(),{t:l}=I("account"),d=ce();return _("form",{onSubmit:e,"data-testid":void 0,noValidate:!0,children:[s("h2",{className:Wn.title,children:l("login.sign_in")}),r.form?s(Te,{variant:"error",children:r.form}):null,s(G,{value:n.email,onChange:t,label:l("login.email"),placeholder:l("login.email"),error:!!r.email||!!r.form,helperText:r.email,name:"email",type:"email",required:!0,testId:"login-email-input"}),s(G,{value:n.password,onChange:t,label:l("login.password"),placeholder:l("login.password"),error:!!r.password||!!r.form,helperText:r.password,name:"password",type:i?"text":"password",rightControl:s(_e,{"aria-label":l(i?"login.hide_password":"login.view_password"),onClick:()=>c(),children:i?s(Pn,{}):s($n,{})}),required:!0,testId:"login-password-input"}),o&&s(ie,{transparentBackground:!0,inline:!0}),s(ur,{className:Wn.link,to:K(d,"u","forgot-password"),children:l("login.forgot_password")}),s(M,{type:"submit",label:l("login.sign_in"),variant:"contained",color:"primary",size:"large",disabled:o,fullWidth:!0}),_("p",{className:Wn.bottom,children:[l("login.not_registered",{siteName:a})," ",s(ur,{to:K(d,"u","create-account"),children:l("login.sign_up")})]})]})},e_=()=>{const{siteName:e}=j(g=>g.config),t=ee(),n=ce(),{t:r}=I("account"),o=async(g,{setErrors:y,setSubmitting:h,setValue:v})=>{try{await Yu(g.email,g.password),t(pt(n,"u"))}catch(k){k instanceof Error&&(k.message.toLowerCase().includes("invalid param email")?y({email:r("login.wrong_email")}):y({form:r("login.wrong_combination")}),v("password",""))}h(!1)},a=oe().shape({email:R().email(r("login.field_is_not_valid_email")).required(r("login.field_required")),password:R().required(r("login.field_required"))}),i={email:"",password:""},{handleSubmit:c,handleChange:l,values:d,errors:p,submitting:u}=et(i,o,a);return s(Xf,{onSubmit:c,onChange:l,values:d,errors:p,submitting:u,siteName:e})},t_="_title_pxcok_1",n_="_bottom_pxcok_11",r_="_alreadyAccount_pxcok_16",s_="_login_pxcok_20",Vn={title:t_,continue:"_continue_pxcok_7",bottom:n_,alreadyAccount:r_,login:s_},o_="_passwordStrength_1od1i_1",a_="_passwordStrengthFill_1od1i_9",i_="_label_1od1i_13",c_="_passwordStrengthBar_1od1i_38",Xt={passwordStrength:o_,passwordStrengthFill:a_,label:i_,passwordStrengthBar:c_},l_=/^(?=.*[a-z])(?=.*[0-9]).{8,}$/,Ro=({password:e})=>{const{t}=I("account"),r=(a=>{let i=0;return a.match(l_)&&(a.match(/[A-Z]+/)&&(i+=1),a.match(/(\d.*\d)/)&&(i+=1),a.match(/[!,@#$%^&*?_~]/)&&(i+=1),a.match(/([!,@#$%^&*?_~].*[!,@#$%^&*?_~])/)&&(i+=1)),i})(e),o=[t("registration.password_strength.invalid"),t("registration.password_strength.weak"),t("registration.password_strength.fair"),t("registration.password_strength.strong"),t("registration.password_strength.very_strong")];return r?_("div",{className:Xt.passwordStrength,"data-strength":r,children:[s("div",{className:Xt.passwordStrengthBar,children:s("div",{className:Xt.passwordStrengthFill})})," ",s("span",{className:Xt.label,children:o[r]})]}):null},d_="_checkbox_llmnq_1",u_="_error_llmnq_17",p_="_header_llmnq_20",m_="_row_llmnq_80",h_="_helperTextError_llmnq_85",Ot={checkbox:d_,error:u_,header:p_,row:m_,helperTextError:h_},jr=({label:e,name:t,onChange:n,header:r,checked:o,value:a,helperText:i,disabled:c,error:l,required:d})=>{const{t:p}=I("common"),u=dt("check-box",t);return _("div",{className:A(Ot.checkbox,{[Ot.error]:l}),children:[r?_("div",{className:Ot.header,children:[r,d?null:s("span",{children:p("optional")})]}):null,_("div",{className:Ot.row,children:[s("input",{name:t,type:"checkbox",id:u,value:a,onChange:n,checked:o,"aria-required":d,disabled:c}),_("label",{htmlFor:u,children:[d?"* ":"",e]})]}),s($t,{error:l,className:l?Ot.helperTextError:void 0,children:i})]})},f_=({onSubmit:e,onChange:t,onBlur:n,values:r,errors:o,submitting:a,loading:i,canSubmit:c,publisherConsents:l,consentValues:d,onConsentChange:p,consentErrors:u})=>{const[g,y]=Nn(),{t:h}=I("account"),v=ce(),k=b=>{const m=hr.sanitize(b),x=/<a(.|\n)*?>/.test(m),C=/<\/a(.|\n)*?>/.test(m);return x&&C?s("span",{dangerouslySetInnerHTML:{__html:b}}):b};return i?s("div",{style:{height:400},children:s(ie,{inline:!0})}):_("form",{onSubmit:e,"data-testid":void 0,noValidate:!0,children:[s("h2",{className:Vn.title,children:h("registration.sign_up")}),o.form?s(Te,{variant:"error",children:o.form}):null,s(G,{value:r.email,onChange:t,onBlur:n,label:h("registration.email"),placeholder:h("registration.email"),error:!!o.email||!!o.form,helperText:o.email,name:"email",type:"email",required:!0}),s(G,{value:r.password,onChange:t,onBlur:n,label:h("registration.password"),placeholder:h("registration.password"),error:!!o.password||!!o.form,helperText:_(fe.Fragment,{children:[s(Ro,{password:r.password}),h("registration.password_helper_text")]}),name:"password",type:g?"text":"password",rightControl:s(_e,{"aria-label":h(g?"registration.hide_password":"registration.view_password"),onClick:()=>y(),children:g?s(Pn,{}):s($n,{})}),required:!0}),l==null?void 0:l.map((b,m)=>s(jr,{name:b.name,value:b.value||"",error:u==null?void 0:u.includes(b.name),helperText:u!=null&&u.includes(b.name)?h("registration.consent_required"):void 0,required:b.required,checked:d[b.name]||!1,onChange:p,label:k(b.label)},m)),s(M,{className:Vn.continue,type:"submit",label:h("registration.continue"),variant:"contained",color:"primary",size:"large",disabled:a||!c,fullWidth:!0}),_("p",{className:Vn.bottom,children:[h("registration.already_account")," ",s(ur,{to:K(v,"u","login"),children:h("login.sign_in")})]}),a&&s(ie,{transparentBackground:!0,inline:!0})]})},__=()=>{const e=ee(),t=ce(),{t:n}=I("account"),[r,o]=f.exports.useState({}),[a,i]=f.exports.useState([]),{data:c,isLoading:l}=ze(["consents"],ho),d=f.exports.useMemo(()=>(c==null?void 0:c.consents)||[],[c]),p=C=>{o(N=>({...N,[C.target.name]:C.target.checked})),i(N=>N.filter(S=>S!==C.target.name))};f.exports.useEffect(()=>{d&&o(Ei(d))},[d]);const u=async({email:C,password:N},{setErrors:S,setSubmitting:w,setValue:P})=>{try{const{consentsErrors:$,customerConsents:O}=Ai(d,r);if($.length){i($),w(!1);return}await Gu(C,N),await mo(O).catch(()=>{}),e(K(t,"u","personal-details"))}catch($){if($ instanceof Error){const O=$.message.toLowerCase();O.includes("customer already exists")||O.includes("account already exists")?S({form:n("registration.user_exists")}):O.includes("invalid param password")?S({password:n("registration.invalid_password")}):S({password:n("registration.failed_to_create")}),P("password","")}}w(!1)},g=oe().shape({email:R().email(n("registration.field_is_not_valid_email")).required(n("registration.field_required")),password:R().matches(/^(?=.*[a-z])(?=.*[0-9]).{8,}$/,n("registration.invalid_password")).required(n("registration.field_required"))}),y={email:"",password:""},{handleSubmit:h,handleChange:v,handleBlur:k,values:b,errors:m,submitting:x}=et(y,u,g,!0);return s(f_,{onSubmit:h,onChange:v,onBlur:k,values:b,errors:m,consentErrors:a,submitting:x,consentValues:r,publisherConsents:d,loading:l,onConsentChange:p,canSubmit:!!b.email&&!!b.password})},g_="_title_a6ei2_1",hs={title:g_,continue:"_continue_a6ei2_7"},y_="_header_1kbib_1",w_="_radio_1kbib_12",qn={header:y_,radio:w_},b_=({name:e,onChange:t,header:n,value:r,values:o,helperText:a,error:i,required:c})=>{const{t:l}=I("common"),d=dt("radio",e);return _("div",{className:i?qn.error:void 0,children:[n?_("div",{className:qn.header,children:[n,c?null:s("span",{children:l("optional")})]}):null,o.map((p,u)=>_("div",{className:qn.radio,children:[s("input",{value:p,name:e,type:"radio",id:d+u,onChange:t,checked:r===p,required:c}),s("label",{htmlFor:d+u,children:p})]},u)),s($t,{error:i,children:a})]})},v_="_dateField_12xfz_1",C_="_error_12xfz_5",x_="_container_12xfz_5",k_="_disabled_12xfz_8",S_="_label_12xfz_16",N_="_control_12xfz_28",P_="_input_12xfz_50",rt={dateField:v_,error:C_,container:x_,disabled:k_,label:S_,control:N_,input:P_},$_=e=>{const t=new Date(e);return isNaN(t.getTime())?null:t},I_=({className:e,label:t,error:n,helperText:r,value:o,onChange:a,format:i="YYYY-MM-DD",...c})=>{const{t:l}=I("common"),d=$_(o),[p,u]=f.exports.useState({date:(d==null?void 0:d.getDate().toString())||"",month:d?(d.getMonth()+1).toString():"",year:(d==null?void 0:d.getFullYear().toString())||""}),g=dt("text-field",c.name),y=A(rt.dateField,{[rt.error]:n},e),h=S=>{S.currentTarget.select()},v=S=>{var w;if(S.key==="Backspace"&&p[S.currentTarget.name]==="")return(w=S.currentTarget.previousElementSibling)==null||w.focus(),S.preventDefault();if(!/^[0-9]$/.test(S.key)&&S.key!=="Tab"&&S.key!=="Backspace")return S.preventDefault()},k=S=>S>0&&S<10?`0${S}`:S.toString(),b=(S,w,P)=>Math.min(P,Math.max(w,S)),m=(S,w,P)=>{const $=b(parseInt(S),w,P);return isNaN($)?"":S.length>0&&$<10?k($):$.toString()},x=(S,w,P)=>{const $=b(parseInt(S),w,P);return isNaN($)?"":S.length>1&&$<10?k($):$.toString()},C=S=>{const{name:w,value:P}=S.target;u($=>{const O=w==="date"?m(P,1,31):$.date,E=w==="month"?m(P,1,12):$.month,T=w==="year"?m(P,1900,2100):$.year;return{date:O,month:E,year:T}})},N=S=>{var D;const{name:w,value:P}=S.target,$=(D=S.currentTarget)==null?void 0:D.nextElementSibling,O=w==="date"?x(P,0,31):p.date,E=w==="month"?x(P,0,12):p.month,T=w==="year"?x(P,0,2100).slice(0,4):p.year;u({date:O,month:E,year:T}),a&&a(O&&E&&T?i.replace("YYYY",T).replace("MM",E).replace("DD",O):""),($&&w==="month"&&E.length===2||w==="date"&&O.length===2)&&setTimeout(()=>$.focus(),1)};return _("div",{className:y,children:[_("label",{htmlFor:g,className:rt.label,children:[t,c.required?null:s("span",{children:l("optional")})]}),_("div",{className:rt.container,children:[s("input",{className:rt.input,name:"date",placeholder:"dd",value:p.date,onFocus:h,onBlur:C,onChange:N,onKeyDown:v,maxLength:2,type:"number",id:g})," / ",s("input",{className:rt.input,name:"month",placeholder:"mm",value:p.month,onFocus:h,onBlur:C,onChange:N,onKeyDown:v,maxLength:2,type:"number",id:g})," / ",s("input",{className:rt.input,name:"year",placeholder:"yyyy",value:p.year,onFocus:h,onBlur:C,onChange:N,onKeyDown:v,maxLength:4,type:"number",id:g})]}),s($t,{error:n,children:r})]})},T_=({onSubmit:e,onChange:t,setValue:n,values:r,errors:o,submitting:a,fields:i,questions:c,onQuestionChange:l,questionValues:d,questionErrors:p})=>{var y,h,v,k,b;const{t:u}=I("account"),g=({value:m,key:x,question:C,required:N})=>{const S=(m==null?void 0:m.split(";"))||[],w={name:x,onChange:l,error:!!p[x],helperText:p[x],required:N,key:x};return S.length===1?s(jr,{checked:!!d[x],value:S[0],header:C,label:S[0],...w}):S.length===2?s(b_,{values:S,value:d[x],header:C,...w}):S.length>2?s(js,{options:S,value:d[x],label:C,defaultLabel:u("personal_details.select_answer"),...w,fullWidth:!0}):null};return _("form",{onSubmit:e,"data-testid":void 0,noValidate:!0,children:[s("h2",{className:hs.title,children:u("personal_details.title")}),o.form?s(Te,{variant:"error",children:o.form}):null,(y=i.firstNameLastName)!=null&&y.enabled?_(fe.Fragment,{children:[s(G,{value:r.firstName,onChange:t,label:u("personal_details.fist_name"),placeholder:u("personal_details.fist_name"),error:!!o.firstName||!!o.form,helperText:o.firstName,required:i.firstNameLastName.required,name:"firstName"}),s(G,{value:r.lastName,onChange:t,label:u("personal_details.last_name"),placeholder:u("personal_details.last_name"),error:!!o.lastName||!!o.form,helperText:o.lastName,required:i.firstNameLastName.required,name:"lastName"})]}):null,(h=i.companyName)!=null&&h.enabled?s(G,{value:r.companyName,onChange:t,label:u("personal_details.company_name"),placeholder:u("personal_details.company_name"),error:!!o.companyName||!!o.form,helperText:o.companyName,required:i.companyName.required,name:"companyName"}):null,(v=i.address)!=null&&v.enabled?_(fe.Fragment,{children:[s(G,{value:r.address,onChange:t,label:u("personal_details.address"),placeholder:u("personal_details.address"),error:!!o.address||!!o.form,helperText:o.address,required:i.address.required,name:"address"}),s(G,{value:r.address2,onChange:t,label:u("personal_details.address2"),placeholder:u("personal_details.address2"),error:!!o.address2||!!o.form,helperText:o.address2,name:"address2"}),s(G,{value:r.city,onChange:t,label:u("personal_details.city"),placeholder:u("personal_details.city"),error:!!o.city||!!o.form,helperText:o.city,required:i.address.required,name:"city"}),s(G,{value:r.state,onChange:t,label:u("personal_details.state"),placeholder:u("personal_details.state"),error:!!o.state||!!o.form,helperText:o.state,required:i.address.required,name:"state"}),s(G,{value:r.postCode,onChange:t,label:u("personal_details.post_code"),placeholder:u("personal_details.post_code"),error:!!o.postCode||!!o.form,helperText:o.postCode,required:i.address.required,name:"postCode"})]}):null,(k=i.phoneNumber)!=null&&k.enabled?s(G,{value:r.phoneNumber,onChange:t,label:u("personal_details.phone_number"),placeholder:u("personal_details.phone_number"),error:!!o.phoneNumber||!!o.form,helperText:o.phoneNumber,required:i.phoneNumber.required,name:"phoneNumber"}):null,(b=i.birthDate)!=null&&b.enabled?s(I_,{value:r.birthDate,onChange:m=>n("birthDate",m),label:u("personal_details.birth_date"),placeholder:u("personal_details.birth_date"),error:!!o.birthDate||!!o.form,helperText:o.birthDate,required:i.birthDate.required,name:"birthDate"}):null,c.map(m=>g(m)),s(M,{className:hs.continue,type:"submit",label:u("personal_details.continue"),variant:"contained",color:"primary",size:"large",disabled:a,fullWidth:!0}),a&&s(ie,{transparentBackground:!0,inline:!0})]})},Wo=()=>{const{accessModel:e}=j(),{clientOffers:t,sandbox:n}=zt(),r=Y(({checkoutService:u})=>u);if(!r)throw new Error("checkout service is not available");const{requestedMediaOffers:o}=ke(({requestedMediaOffers:u})=>({requestedMediaOffers:u}),X),a=(o||[]).some(u=>u.premier),[i,c]=f.exports.useState(e==="SVOD"?"svod":"tvod"),l=f.exports.useMemo(()=>[...(o||[]).map(({offerId:u})=>u),...t].filter(Boolean),[o,t]),{data:d=[],isLoading:p}=ze(["offers",l.join("-")],()=>r.getOffers({offerIds:l},n));return f.exports.useEffect(()=>{p||a&&c("tvod")},[p,a,c]),f.exports.useMemo(()=>{var h;const u=d.filter(v=>i==="tvod"?!kt(v):kt(v)),g=!p&&Object.fromEntries(u.map(v=>[v.offerId,v]))||{},y=!p&&((h=u[u.length-1])==null?void 0:h.offerId)||"";return{hasTVODOffers:u.some(v=>!kt(v)),isLoading:p,hasPremierOffer:a,defaultOfferId:y,offerType:i,setOfferType:c,offers:u,offersDict:g}},[o,d])},Qe=(e,t)=>e?R().required(t):jt().notRequired(),E_=()=>{const e=ee(),t=ce(),{t:n}=I("account"),r=j(w=>w.accessModel),{data:o,isLoading:a}=ze("captureStatus",()=>Qu()),{hasTVODOffers:i}=Wo(),[c,l]=f.exports.useState({}),[d,p]=f.exports.useState({}),u=f.exports.useMemo(()=>Object.fromEntries((o==null?void 0:o.settings.map(w=>[w.key,w]))||[]),[o]),g=f.exports.useMemo(()=>(o==null?void 0:o.settings.filter(w=>!!w.question))||[],[o]),y=f.exports.useCallback(()=>{e(K(t,"u",r==="SVOD"||r==="AUTHVOD"&&i?"choose-offer":"welcome"),{replace:!0})},[e,t,r,i]);f.exports.useEffect(()=>{o&&(!o.isCaptureEnabled||!o.shouldCaptureBeDisplayed)&&y(),o&&g&&l(Object.fromEntries(g.map(w=>[w.key,""])))},[o,y,g]);const h={firstName:"",lastName:"",birthDate:"",companyName:"",phoneNumber:"",address:"",address2:"",city:"",state:"",postCode:"",country:""},v=w=>{const P=w.target.type==="checkbox"&&!w.target.checked?"":w.target.value;l($=>({...$,[w.target.name]:P}))},k=async(w,{setErrors:P,setSubmitting:$,validate:O})=>{var L,B,Q,le,ue,ge,U,se,z,V;const E=n("personal_details.this_field_is_required"),T=oe().shape({firstName:Qe(!!((L=u.firstNameLastName)!=null&&L.required),E),lastName:Qe(!!((B=u.firstNameLastName)!=null&&B.required),E),address1:Qe(!!((Q=u.address)!=null&&Q.required),E),address2:Qe(!!((le=u.address)!=null&&le.required),E),postCode:Qe(!!((ue=u.address)!=null&&ue.required),E),state:Qe(!!((ge=u.address)!=null&&ge.required),E),city:Qe(!!((U=u.address)!=null&&U.required),E),companyName:Qe(!!((se=u.companyName)!=null&&se.required),E),birthDate:(z=u.birthDate)!=null&&z.required?R().required(E).matches(/\d{4}-\d{2}-\d{2}/,n("personal_details.birth_date_not_valid")):jt().notRequired(),phoneNumber:Qe(!!((V=u.phoneNumber)!=null&&V.required),E)}),D={};if(g.forEach(F=>{F.enabled&&F.required&&!c[F.key]&&(D[F.key]=n("personal_details.this_field_is_required"))}),p(D),!O(T)||Object.keys(D).length){$(!1);return}try{const F=J=>Object.fromEntries(Object.keys(J).filter(pe=>J[pe]!=="").map(pe=>[pe,J[pe]])),te=g.map(J=>({question:J.question,questionId:J.key,value:c[J.key]}));await Ku(F({...w,customAnswers:te})),y()}catch(F){F instanceof Error&&P({form:F.message})}$(!1)},{setValue:b,handleSubmit:m,handleChange:x,values:C,errors:N,submitting:S}=et(h,k);return a?s("div",{style:{height:400},children:s(ie,{inline:!0})}):s(T_,{fields:u,questions:g,onQuestionChange:v,questionValues:c,questionErrors:d,onSubmit:m,onChange:x,setValue:b,values:C,errors:N,submitting:S})},L_="_title_gmbpa_1",A_="_subtitle_gmbpa_7",M_="_offerGroupSwitch_gmbpa_13",D_="_label_gmbpa_19",O_="_offers_gmbpa_24",F_="_offer_gmbpa_13",B_="_radio_gmbpa_34",R_="_offerGroupLabel_gmbpa_65",W_="_offerTitle_gmbpa_77",V_="_offerDivider_gmbpa_83",q_="_offerBenefits_gmbpa_90",j_="_fill_gmbpa_111",H_="_offerPrice_gmbpa_115",me={title:L_,subtitle:A_,offerGroupSwitch:M_,label:D_,offers:O_,offer:F_,radio:B_,offerGroupLabel:R_,offerTitle:W_,offerDivider:V_,offerBenefits:q_,fill:j_,offerPrice:H_},U_="_dialogBackButton_1pa6f_1",z_={dialogBackButton:U_},Vo=({onClick:e})=>s(_e,{onClick:e,className:z_.dialogBackButton,"aria-label":"Go back",children:s(ao,{})}),jn=re("0 0 24 24",s("g",{children:s("path",{d:"M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z"})})),J_=({values:e,errors:t,onChange:n,onSubmit:r,submitting:o,offers:a,onBackButtonClickHandler:i,offerType:c,setOfferType:l})=>{const d=j(h=>h.config.siteName),{t:p}=I("account"),u=h=>{if(h.freeDays)return p("choose_offer.benefits.first_days_free",{count:h.freeDays});if(h.freePeriods){const v=p(`periods.${h.period}`,{count:h.freePeriods});return p("choose_offer.benefits.first_periods_free",{count:h.freePeriods,period:v})}return null},g=({offer:h,title:v,ariaLabel:k,secondBenefit:b,periodString:m})=>_("div",{className:me.offer,children:[s("input",{className:me.radio,onChange:n,type:"radio",name:"offerId",value:h.offerId,id:h.offerId,checked:e.offerId===h.offerId,"aria-label":k}),_("label",{className:me.label,htmlFor:h.offerId,children:[s("h4",{className:me.offerTitle,children:v}),s("hr",{className:me.offerDivider}),_("ul",{className:me.offerBenefits,children:[h.freeDays||h.freePeriods?_("li",{children:[s(jn,{})," ",u(h)]}):null,!!b&&_("li",{children:[s(jn,{})," ",b]}),_("li",{children:[s(jn,{})," ",p("choose_offer.benefits.watch_on_all_devices")]})]}),s("div",{className:me.fill}),_("div",{className:me.offerPrice,children:[Pd(h)," ",!!m&&_("small",{children:["/",m]})]})]})]}),y=h=>{if(kt(h)){const v=h.period==="month";return s(g,{offer:h,title:p(v?"choose_offer.monthly":"choose_offer.yearly"),ariaLabel:p(v?"choose_offer.monthly_subscription":"choose_offer.yearly_subscription"),secondBenefit:p("choose_offer.benefits.cancel_anytime"),periodString:p(v?"periods.month":"periods.year")},h.offerId)}return s(g,{offer:h,title:h.offerTitle,ariaLabel:h.offerTitle,secondBenefit:!!h.durationPeriod&&!!h.durationAmount?p("choose_offer.tvod_access",{period:h.durationPeriod,count:h.durationAmount}):void 0},h.offerId)};return _("form",{onSubmit:r,"data-testid":void 0,noValidate:!0,children:[i?s(Vo,{onClick:i}):null,s("h2",{className:me.title,children:p("choose_offer.title")}),s("h3",{className:me.subtitle,children:p("choose_offer.watch_this_on_platform",{siteName:d})}),t.form?s(Te,{variant:"error",children:t.form}):null,l&&_("div",{className:me.offerGroupSwitch,children:[s("input",{className:me.radio,onChange:()=>l("svod"),type:"radio",name:"offerType",id:"svod",value:"svod",checked:c==="svod"}),s("label",{className:A(me.label,me.offerGroupLabel),htmlFor:"svod",children:p("choose_offer.subscription")}),s("input",{className:me.radio,onChange:()=>l("tvod"),type:"radio",name:"offerType",id:"tvod",value:"tvod",checked:c==="tvod"}),s("label",{className:A(me.label,me.offerGroupLabel),htmlFor:"tvod",children:p("choose_offer.one_time_only")})]}),s("div",{className:me.offers,children:a.map(y)}),o&&s(ie,{transparentBackground:!0,inline:!0}),s(M,{label:p("choose_offer.continue"),disabled:o,variant:"contained",color:"primary",type:"submit",fullWidth:!0})]})},Y_=()=>{const e=ee(),t=ce(),{t:n}=I("account"),{setOffer:r}=ke(({setOffer:S})=>({setOffer:S}),X),{accessModel:o}=j(({accessModel:S})=>({accessModel:S}),X),{isLoading:a,offerType:i,setOfferType:c,offers:l,offersDict:d,defaultOfferId:p,hasTVODOffers:u,hasPremierOffer:g}=Wo(),y=oe().shape({offerId:jt().required(n("choose_offer.field_required"))}),h={offerId:p},v=async({offerId:S},{setSubmitting:w,setErrors:P})=>{const $=S&&d[S];if(!$)return P({form:n("choose_offer.offer_not_found")});r($),w(!1),e(K(t,"u","checkout"))},{handleSubmit:k,handleChange:b,setValue:m,values:x,errors:C,submitting:N}=et(h,v,y);return f.exports.useEffect(()=>{!a&&!l.length&&e(pt(t,"u"),{replace:!0})},[a,l,t,e]),f.exports.useEffect(()=>{m("offerId",p)},[m,p]),!l.length||a?s("div",{style:{height:300},children:s(ie,{inline:!0})}):s(J_,{onSubmit:k,onChange:b,values:x,errors:C,submitting:N,offers:l,offerType:i,setOfferType:o==="SVOD"&&u&&!g?c:void 0})},G_="_backButton_1ku91_1",Q_="_title_1ku91_7",K_="_order_1ku91_13",Z_="_orderTitle_1ku91_22",X_="_orderTitleMargin_1ku91_28",eg="_orderBillingDate_1ku91_32",tg="_orderInfo_1ku91_37",ng="_orderPrice_1ku91_41",rg="_couponForm_1ku91_54",sg="_redeemCoupon_1ku91_59",og="_couponInput_1ku91_66",ag="_orderTotals_1ku91_84",ig="_couponCell_1ku91_96",cg="_divider_1ku91_113",lg="_paymentMethods_1ku91_118",dg="_paymentMethod_1ku91_118",ug="_radio_1ku91_128",pg="_paymentMethodLabel_1ku91_137",mg="_noPaymentNeeded_1ku91_167",ne={backButton:G_,title:Q_,order:K_,orderTitle:Z_,orderTitleMargin:X_,orderBillingDate:eg,orderInfo:tg,orderPrice:ng,couponForm:rg,redeemCoupon:sg,couponInput:og,orderTotals:ag,couponCell:ig,divider:cg,paymentMethods:lg,paymentMethod:dg,radio:ug,paymentMethodLabel:pg,noPaymentNeeded:mg},hg=re("0 0 20 23",s("g",{children:s("path",{d:"M7.37083 12.6026c-.70164 0-1.28549-.0571-1.72496-.1142l-1.34375 6.9595H.179688L3.83225.516163C5.08988.201006 7.07827 0 8.97801 0c1.75279 0 3.79949.286619 5.23309 1.28917 1.3172.88839 2.1354 2.23464 2.1354 4.0958 0 2.4344-1.1386 4.26703-2.6901 5.44083-1.6084 1.2333-3.8881 1.7768-6.28557 1.7768zm1.72496-9.30834c-.78902 0-1.34375.05832-1.69457.14393L6.28924 9.13832c.43821.08561.90681.14269 1.60845.14269 2.54311 0 4.20851-1.60433 4.20851-3.52257 0-1.8624-1.3741-2.46418-3.01041-2.46418zm7.22271.21844c.523.18487 1.0195.4169 1.4552.72213 1.3158.88715 2.1353 2.23339 2.1365 4.09456 0 2.43441-1.1398 4.26701-2.69 5.44201-1.6084 1.2321-3.8869 1.7756-6.2856 1.7756-.7016 0-1.28676-.0571-1.72497-.1154l-1.34501 6.9595H3.74219l.31915-1.6577h1.30702l1.34502-6.9582c.4382.057 1.02206.1141 1.72496.1141 2.39746 0 4.67586-.5447 6.28556-1.7755 1.549-1.1738 2.6888-3.00769 2.6888-5.44209 0-1.29909-.4053-2.34258-1.0942-3.15901z"})})),fg=re("0 0 24 24",s("g",{children:s("path",{fill:"currentColor",d:"M20,8H4V6H20M20,18H4V12H20M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z"})})),_g=({paymentMethodId:e,paymentMethods:t,order:n,offer:r,offerType:o,onBackButtonClick:a,onPaymentMethodChange:i,couponFormOpen:c,couponInputValue:l,couponFormError:d,couponFormApplied:p,couponFormSubmitting:u,onCouponInputChange:g,onCloseCouponFormClick:y,onCouponFormSubmit:h,onRedeemCouponButtonClick:v,renderPaymentMethod:k,submitting:b})=>{var P,$,O,E,T,D,L;const{t:m}=I("account"),x=()=>r?m(`periods.${r.period}`):"",C=B=>{if(B.freeDays)return m("checkout.days_trial",{count:B.freeDays});if(B.freePeriods){const Q=m(`periods.${B.period}`,{count:B.freePeriods});return m("checkout.periods_trial",{count:B.freePeriods,period:Q})}return null},N=t==null?void 0:t.find(B=>B.methodName==="card"),S=t==null?void 0:t.find(B=>B.methodName==="paypal"),w=o==="svod"?r.period==="month"?m("checkout.monthly"):m("checkout.yearly"):r.offerTitle;return _("div",{children:[s(Vo,{onClick:a}),s("h2",{className:ne.title,children:m("checkout.payment_method")}),_("div",{className:ne.order,children:[_("div",{className:ne.orderInfo,children:[s("p",{className:A(ne.orderTitle,{[ne.orderTitleMargin]:o==="svod"}),children:w}),((P=n.discount)==null?void 0:P.type)==="trial"?s("p",{className:ne.orderBillingDate,children:C(r)}):null]}),_("div",{className:ne.orderPrice,children:[s("span",{children:We(r.customerPriceInclTax,n.currency,r.customerCountry)}),o==="svod"&&_("small",{children:["/",x()]})]})]}),s("div",{className:ne.couponForm,children:c?_("form",{onSubmit:h,noValidate:!0,children:[_("div",{className:ne.redeemCoupon,children:[s(_e,{"aria-label":"Close coupon form",onClick:y,children:s(Sn,{})}),s("input",{className:ne.couponInput,name:"couponCode",type:"text",placeholder:"Coupon code",value:l,onChange:g}),s(M,{variant:"outlined",label:"Apply",type:"submit",disabled:u})]}),d?s(Te,{variant:"error",children:d}):null,p?s(Te,{variant:"success",children:m("checkout.coupon_applied")}):null]}):s(M,{variant:"outlined",label:m("checkout.redeem_coupon"),onClick:v})}),s("div",{children:_("table",{className:ne.orderTotals,children:[_("tbody",{children:[(($=n.discount)==null?void 0:$.applied)&&((O=n.discount)==null?void 0:O.type)==="coupon"?_("tr",{children:[_("td",{className:ne.couponCell,children:[m("checkout.coupon_discount"),s("br",{}),!!r.period&&o==="svod"&&s("small",{children:m("checkout.discount_period",{count:(E=n.discount)==null?void 0:E.periods,period:m(`periods.${r.period}`,{count:(T=n.discount)==null?void 0:T.periods})})})]}),s("td",{children:We(-n.priceBreakdown.discountAmount*(1+n.taxRate),n.currency,r.customerCountry)})]}):null,((D=n.discount)==null?void 0:D.applied)&&((L=n.discount)==null?void 0:L.type)==="trial"?_("tr",{children:[s("td",{className:ne.couponCell,children:m("checkout.free_trial_discount")}),s("td",{children:We(-r.customerPriceInclTax,n.currency,r.customerCountry)})]}):null,_("tr",{children:[s("td",{children:m("checkout.payment_method_fee")}),s("td",{children:We(n.priceBreakdown.paymentMethodFee,n.currency,r.customerCountry)})]})]}),_("tfoot",{children:[_("tr",{children:[s("td",{children:m("checkout.total_price")}),s("td",{children:We(n.totalPrice,n.currency,r.customerCountry)})]}),_("tr",{children:[s("td",{children:m("checkout.applicable_tax",{taxRate:Math.round(n.taxRate*100)})}),s("td",{children:We(n.priceBreakdown.taxValue,n.currency,r.customerCountry)})]})]})]})}),s("hr",{className:ne.divider}),n.requiredPaymentDetails?_("div",{className:ne.paymentMethods,children:[N?_("div",{className:ne.paymentMethod,children:[s("input",{className:ne.radio,type:"radio",name:"paymentMethod",value:N.id,id:"card",checked:e===N.id,onChange:i}),_("label",{className:ne.paymentMethodLabel,htmlFor:"card",children:[s(fg,{})," ",m("checkout.credit_card")]})]}):null,S?_("div",{className:ne.paymentMethod,children:[s("input",{className:ne.radio,type:"radio",name:"paymentMethod",value:S.id,id:"paypal",checked:e===S.id,onChange:i}),_("label",{className:ne.paymentMethodLabel,htmlFor:"paypal",children:[s(hg,{})," ",m("checkout.paypal")]})]}):null]}):null,s("div",{className:ne.paymentDetails,children:k?k():null}),b&&s(ie,{transparentBackground:!0,inline:!0})]})},gg="_adyen_1wab6_1",yg="_container_1wab6_5",fs={adyen:gg,container:yg};const wg=({onChange:e,onSubmit:t,error:n,environment:r="test"})=>{const{t:o}=I("account"),a=dt("adyen","checkout"),i=f.exports.useRef(null),[c,l]=f.exports.useState(!!window.AdyenCheckout);return f.exports.useEffect(()=>{(async()=>{await Promise.all([Br(`https://checkoutshopper-${r}.adyen.com/checkoutshopper/sdk/3.10.1/adyen.js`),ip(`https://checkoutshopper-${r}.adyen.com/checkoutshopper/sdk/3.11.4/adyen.css`)]),l(!0)})()},[r]),f.exports.useEffect(()=>{if(c){const d={showPayButton:!1,clientKey:r==="test"?Su:Nu,environment:r,onSubmit:t,onChange:e};return i.current=new window.AdyenCheckout(d).create("card").mount(`#${a}`),()=>{i.current&&i.current.unmount()}}},[r,a,e,t,c]),_("div",{className:fs.adyen,children:[n?s(Te,{variant:"error",children:n}):null,s("div",{className:fs.container,children:s("div",{id:a})}),s(M,{label:o("checkout.continue"),variant:"contained",color:"primary",size:"large",onClick:()=>{var d;return(d=i.current)==null?void 0:d.submit()},fullWidth:!0})]})},bg="_payPal_17v1t_1",vg={payPal:bg},Cg=({onSubmit:e,error:t})=>{const{t:n}=I("account");return _("div",{className:vg.payPal,children:[t?s(Te,{variant:"error",children:t}):null,s("p",{children:n("checkout.paypal_instructions")}),s(M,{label:n("checkout.continue"),variant:"contained",color:"primary",size:"large",onClick:e,fullWidth:!0})]})},xg="_noPaymentRequired_170kq_1",kg={noPaymentRequired:xg},Sg=({onSubmit:e,error:t})=>{const{t:n}=I("account");return _("div",{className:kg.noPaymentRequired,children:[t?s(Te,{variant:"error",children:t}):null,s("p",{children:n("checkout.no_payment_needed")}),s(M,{label:n("checkout.continue"),variant:"contained",color:"primary",size:"large",onClick:e,fullWidth:!0})]})},Ng=async(e="")=>await Y(async({accountService:t})=>await t.subscribeToNotifications(e,async n=>{var r,o;if(n){const a=JSON.parse(n);switch(a.type){case".failed":case"subscribe.failed":window.location.href=he(window.location.href,{u:"payment-error",message:(r=a.resource)==null?void 0:r.message});break;case"access.granted":await Xe(),window.location.href=he(window.location.origin,{u:"welcome"});break;case"access.revoked":await Xe();break;case"payment.card.requires.action":case"subscribe.requires.action":window.location.href=(o=a.resource)==null?void 0:o.redirect_to_url;break}}})),Pg=async(e,t)=>await Se(async({customer:n,auth:{jwt:r}})=>await Y(async({checkoutService:o,sandbox:a=!0,authProviderId:i})=>{var d,p;if(!i)throw new Error("auth provider is not configured");if(!o)throw new Error("checkout service is not available");const c={offer:e,customerId:n.id,country:(n==null?void 0:n.country)||"",customerIP:(n==null?void 0:n.lastUserIp)||"",paymentMethodId:t},l=await o.createOrder(c,a,r);if(((d=l==null?void 0:l.errors)==null?void 0:d.length)>0)throw ke.getState().setOrder(null),new Error(l==null?void 0:l.errors[0]);ke.getState().setOrder((p=l.responseData)==null?void 0:p.order)})),Hn=async(e,t,n)=>await Se(async({auth:{jwt:r}})=>await Y(async({checkoutService:o,sandbox:a=!0,authProviderId:i})=>{var d,p;if(!i)throw new Error("auth provider is not configured");if(!o)throw new Error("checkout service is not available");const c={order:e,paymentMethodId:t,couponCode:n},l=await o.updateOrder(c,a,r);if(l.errors.length>0)throw l.errors[0].includes(`Order with ${e.id} not found`)&&ke.getState().setOrder(null),new Error(l.errors[0]);(d=l.responseData)!=null&&d.order&&ke.getState().setOrder((p=l.responseData)==null?void 0:p.order)})),$g=async()=>await Se(async({auth:{jwt:e}})=>await Y(async({checkoutService:t,sandbox:n=!0})=>{var a,i;if(!t)throw new Error("checkout service is not available");const{paymentMethods:r}=ke.getState();if(r)return r;const o=await t.getPaymentMethods(n,e);if(o.errors.length>0)throw new Error(o.errors[0]);return ke.getState().setPaymentMethods((a=o.responseData)==null?void 0:a.paymentMethods),(i=o.responseData)==null?void 0:i.paymentMethods})),Ig=async()=>await Se(async({auth:{jwt:e}})=>await Y(async({checkoutService:t,sandbox:n=!0,authProviderId:r})=>{if(!t)throw new Error("checkout service is not available");const{order:o}=ke.getState();if(!o)throw new Error("No order created");if(!r)throw new Error("auth provider is not configured");const a=await t.paymentWithoutDetails({orderId:o.id},n,e);if(a.errors.length>0)throw new Error(a.errors[0]);if(a.responseData.rejectedReason)throw new Error(a.responseData.rejectedReason);return a.responseData})),Tg=async e=>await Se(async({customer:t})=>await Y(async({checkoutService:n,authProviderId:r})=>{const{order:o}=ke.getState();if(!o)throw new Error("No order created");if(!r)throw new Error("auth provider is not configured");if(!n)throw new Error("checkout service is not available");return await Ng(t==null?void 0:t.uuid),await n.directPostCardPayment(e,o)})),Eg=async e=>await Se(async({auth:{jwt:t}})=>await Y(async({checkoutService:n,sandbox:r=!0,authProviderId:o})=>{const{order:a}=ke.getState();if(!a)throw new Error("No order created");if(!o)throw new Error("auth provider is not configured");if(!n)throw new Error("checkout service is not available");const i=await n.iFrameCardPayment({orderId:a.id,card:e},r,t);if(i.errors.length>0)throw new Error(i.errors[0]);if(i.responseData.rejectedReason)throw new Error(i.responseData.rejectedReason);return i.responseData})),Lg=async(e,t,n,r="")=>await Se(async({auth:{jwt:o}})=>await Y(async({checkoutService:a,sandbox:i=!0,authProviderId:c})=>{const{order:l}=ke.getState();if(!l)throw new Error("No order created");if(!c)throw new Error("auth provider is not configured");if(!a)throw new Error("checkout service is not available");const d=await a.paymentWithPayPal({order:l,successUrl:e,cancelUrl:t,errorUrl:n,couponCode:r},i,o);if(d.errors.length>0)throw new Error(d.errors[0]);return d.responseData})),Ag=({value:e,onChange:t,error:n,...r})=>s(G,{label:"CVC/CVV",...r,error:!!n,helperText:n||null,name:"cardCVC",type:"text",value:e,onChange:a=>{const i=a.target.value.replace(/\D+/g,"");t&&(a.target.value=i.slice(0,4),t(a))},pattern:"\\d*",placeholder:"###",required:!0}),Mg=({value:e,onChange:t,error:n,...r})=>s(G,{label:"Expiry date",...r,name:"cardExpiry",value:e,error:!!n,helperText:n||null,onChange:a=>{let i=a.target.value.replace(/\D+/g,"");i.length===1?Number(i)>1&&(i="0"+i):i.length===2&&Number(i)>12&&(i="12"),i.length>=3?a.target.value=`${i.slice(0,2)}/${i.slice(2,4)}`:a.target.value=i,t&&t(a)},type:"text",pattern:"[0-1][0-9]/[0-9]{2}",placeholder:"MM/YY",required:!0}),Dg="_cardTypeWrapper_lfmk2_1",Og={cardTypeWrapper:Dg},en={visa:De("/images/payments/visa.svg"),mastercard:De("/images/payments/mastercard.svg"),maestro:De("/images/payments/maestro.svg"),amex:De("/images/payments/amex.svg"),discover:De("/images/payments/discover.svg"),diners:De("/images/payments/diners.svg"),dinersclub:De("/images/payments/diners.svg"),unionpay:De("/images/payments/unionpay.svg"),hiper:De("/images/payments/hiper.svg")},Fg=({value:e,error:t,onChange:n,onBlur:r,...o})=>{const[a,i]=f.exports.useState(null);return s(G,{value:e,name:"cardNumber",label:"Card number",onChange:l=>{var g,y;const d=wt.exports.fns.cardType((g=l.target)==null?void 0:g.value),p=(y=l.target)==null?void 0:y.value.replace(/\D+/g,"");let u;switch(i(en!=null&&en[d]?s("div",{className:Og.cardTypeWrapper,children:s("img",{src:en[d],alt:d,height:"25"})}):null),d){case"amex":u=`${p.slice(0,4)} ${p.slice(4,10)} ${p.slice(10,15)}`;break;case"dinersclub":u=`${p.slice(0,4)} ${p.slice(4,10)} ${p.slice(10,14)}`;break;default:u=`${p.slice(0,4)} ${p.slice(4,8)} ${p.slice(8,12)} ${p.slice(12,16)}`;break}n&&(l.target.value=u.trim(),n(l))},onBlur:r,error:!!t,helperText:t||null,pattern:"\\d*",...o,type:"text",placeholder:"1234 5678 9012 3456",rightControl:a,required:!0})},Bg="_paymentForm_g66uf_1",Rg="_columns_g66uf_6",_s={paymentForm:Bg,columns:Rg},qo=()=>{const e=f.exports.useRef(),t=ee(),n=ce(),[r,o]=f.exports.useState(null),{t:a}=I("user"),i=f.exports.useCallback(({interval:c=3e3,iterations:l=5,offerId:d})=>{const{clientOffers:p}=zt();!d&&(p==null?void 0:p[0])&&(d=p[0]),e.current=window.setInterval(async()=>{await ep(d)?(await Xe(),t(K(n,"u","welcome"))):--l===0&&(window.clearInterval(e.current),o(a("payment.longer_than_usual")))},c)},[e.current,r]);return f.exports.useEffect(()=>()=>{window.clearInterval(e.current)},[]),{intervalCheckAccess:i,errorMessage:r}},Wg=({couponCode:e,setUpdatingOrder:t})=>{var a,i,c,l,d,p,u,g;const{t:n}=I("account"),{intervalCheckAccess:r}=qo(),o=et({couponCode:e,cardholderName:"",cardNumber:"",cardExpiry:"",cardCVC:"",cardExpMonth:"",cardExpYear:""},async()=>{t(!0),await Tg(o.values),r({interval:15e3})},oe().shape({cardNumber:R().test("card number validation",n("checkout.invalid_card_number"),y=>wt.exports.fns.validateCardNumber(y)),cardExpiry:R().test("card expiry validation",n("checkout.invalid_card_expiry"),y=>wt.exports.fns.validateCardExpiry(y)),cardCVC:R().test("cvc validation",n("checkout.invalid_cvc_number"),y=>{var v;const h=wt.exports.fns.cardType((v=o==null?void 0:o.values)==null?void 0:v.cardNumber);return wt.exports.fns.validateCardCVC(y,h)})}),!0);return f.exports.useEffect(()=>{if(o.values.cardExpiry){const y=wt.exports.fns.cardExpiryVal(o.values.cardExpiry);y.month&&o.setValue("cardExpMonth",y.month.toString()),y.year&&o.setValue("cardExpYear",y.year.toString())}},[o.values.cardExpiry]),_("div",{className:_s.paymentForm,children:[s("div",{children:s(G,{label:"Cardholder name",name:"cardholderName",value:(a=o==null?void 0:o.values)==null?void 0:a.cardholderName,onChange:o==null?void 0:o.handleChange,onBlur:o==null?void 0:o.handleBlur,placeholder:n("checkout.credit_card_name"),required:!0})}),s("div",{children:s(Fg,{value:(c=(i=o==null?void 0:o.values)==null?void 0:i.cardNumber)==null?void 0:c.toString(),error:(l=o==null?void 0:o.errors)==null?void 0:l.cardNumber,onBlur:o==null?void 0:o.handleBlur,onChange:o==null?void 0:o.handleChange})}),_("div",{className:_s.columns,children:[s("div",{children:s(Mg,{value:(d=o==null?void 0:o.values)==null?void 0:d.cardExpiry,onBlur:o==null?void 0:o.handleBlur,onChange:o==null?void 0:o.handleChange,error:(p=o==null?void 0:o.errors)==null?void 0:p.cardExpiry})}),s("div",{children:s(Ag,{value:(u=o==null?void 0:o.values)==null?void 0:u.cardCVC,onBlur:o==null?void 0:o.handleBlur,onChange:o==null?void 0:o.handleChange,error:(g=o==null?void 0:o.errors)==null?void 0:g.cardCVC})})]}),s("div",{children:s(M,{label:"continue",variant:"contained",color:"primary",onClick:o.handleSubmit,size:"large",fullWidth:!0})})]})},Vg=()=>{const e=ce(),{sandbox:t}=zt(),{t:n}=I("account"),r=ee(),[o,a]=f.exports.useState(void 0),[i,c]=f.exports.useState(!1),[l,d]=f.exports.useState(!1),[p,u]=f.exports.useState(!1),[g,y]=f.exports.useState(void 0),{order:h,offer:v,paymentMethods:k,setOrder:b}=ke(({order:T,offer:D,paymentMethods:L,setOrder:B})=>({order:T,offer:D,paymentMethods:L,setOrder:B}),X),m=v&&!kt(v)?"tvod":"svod",x=f.exports.useMemo(()=>m==="svod"?K(e,"u","welcome"):pt(e,"u"),[e,m]),C=et({couponCode:""},async(T,{setSubmitting:D,setErrors:L})=>{if(c(!0),u(!1),T.couponCode&&h)try{await Hn(h,g,T.couponCode),u(!0)}catch(B){B instanceof Error&&(B.message.includes(`Order with id ${h.id} not found`)?r(K(e,"u","choose-offer"),{replace:!0}):L({couponCode:n("checkout.coupon_not_valid")}))}c(!1),D(!1)}),N=async T=>{if(T.preventDefault(),c(!0),u(!1),C.setErrors({couponCode:void 0}),C.values.couponCode&&h)try{await Hn(h,g,C.values.couponCode),u(!0)}catch(D){D instanceof Error&&(D.message.includes(`Order with id ${h.id} not found`)?r(K(e,"u","choose-offer"),{replace:!0}):C.setErrors({couponCode:n("checkout.coupon_not_valid")}))}c(!1),C.setSubmitting(!1)};f.exports.useEffect(()=>{async function T(){var D,L;if(v){c(!0),u(!1);const B=await $g();y((D=B[0])==null?void 0:D.id),await Pg(v,(L=B[0])==null?void 0:L.id),c(!1)}}if(!v)return r(K(e,"u","choose-offer"),{replace:!0});T()},[e,r,v]),f.exports.useEffect(()=>()=>b(null),[b]);const S=()=>{r(K(e,"u","choose-offer"))},w=T=>{const D=parseInt(T.target.value);y(D),a(void 0),h&&D&&(c(!0),u(!1),Hn(h,D,C.values.couponCode).catch(L=>{L.message.includes(`Order with id ${h.id}} not found`)&&r(K(e,"u","choose-offer"))}).finally(()=>c(!1)))},P=async()=>{try{c(!0),a(void 0),await Ig(),await Xe({delay:1e3}),r(x,{replace:!0})}catch(T){T instanceof Error&&a(T.message)}c(!1)},$=async()=>{try{a(void 0),c(!0);const T=he(window.location.href,{u:"payment-cancelled"}),D=he(window.location.href,{u:"payment-error"}),L=`${window.location.origin}${x}`,B=await Lg(L,T,D,C.values.couponCode);B.redirectUrl&&(window.location.href=B.redirectUrl)}catch(T){T instanceof Error&&a(T.message)}c(!1)},O=f.exports.useCallback(async T=>{if(!!T.isValid){try{c(!0),a(void 0),await Eg(T.data.paymentMethod),await Xe({delay:2e3}),r(x,{replace:!0})}catch(D){D instanceof Error&&a(D.message)}c(!1)}},[r,x]),E=()=>{const T=k==null?void 0:k.find(D=>D.id===g);return!h||!v?null:h.requiredPaymentDetails?(T==null?void 0:T.methodName)==="card"?(T==null?void 0:T.provider)==="stripe"?s(Wg,{couponCode:C.values.couponCode,setUpdatingOrder:c}):s(wg,{onSubmit:O,error:o,environment:t?"test":"live"}):(T==null?void 0:T.methodName)==="paypal"?s(Cg,{onSubmit:$,error:o}):null:s(Sg,{onSubmit:P,error:o})};return!v||!h||!k||!m?s("div",{style:{height:300},children:s(ie,{inline:!0})}):s(_g,{order:h,offer:v,offerType:m,onBackButtonClick:S,paymentMethods:k,paymentMethodId:g,onPaymentMethodChange:w,onCouponFormSubmit:N,onCouponInputChange:C.handleChange,onRedeemCouponButtonClick:()=>d(!0),onCloseCouponFormClick:()=>d(!1),couponInputValue:C.values.couponCode,couponFormOpen:l,couponFormApplied:p,couponFormSubmitting:C.submitting,couponFormError:C.errors.couponCode,renderPaymentMethod:E,submitting:i})},qg="_title_173ks_1",jg="_text_173ks_7",Hg="_button_173ks_12",tn={title:qg,text:jg,button:Hg},Ug=({onCancel:e,onReset:t,submitting:n})=>{const{t:r}=I("account");return _("div",{className:tn.resetPassword,children:[s("h5",{className:tn.title,children:r("reset.reset_password")}),s("p",{className:tn.text,children:r("reset.text")}),s(M,{onClick:t,className:tn.button,fullWidth:!0,color:"primary",label:r("reset.yes"),disabled:n}),s(M,{onClick:e,fullWidth:!0,label:r("reset.no")})]})},zg="_title_17xro_1",Jg="_text_17xro_7",Yg="_button_17xro_12",nn={title:zg,text:Jg,button:Yg},Gg=({onSubmit:e,onChange:t,value:n,errors:r,submitting:o,onBlur:a})=>{const{t:i}=I("account");return _("form",{onSubmit:e,"data-testid":void 0,noValidate:!0,className:nn.forgotPasswordForm,children:[s("h2",{className:nn.title,children:i("reset.forgot_password")}),r.form?s(Te,{variant:"error",children:r.form}):null,s("p",{className:nn.text,children:i("reset.forgot_text")}),s(G,{value:n.email,onChange:t,onBlur:a,label:i("reset.email"),placeholder:i("reset.email"),error:!!r.email||!!r.form,helperText:r.email,required:!0,name:"email",type:"email"}),s(M,{type:"submit",className:nn.button,fullWidth:!0,color:"primary",disabled:o,label:i("reset.email_me")})]})},Qg="_title_bmbtt_1",Kg="_text_bmbtt_7",Zg="_button_bmbtt_12",Xg="_notSure_bmbtt_16",ey="_link_bmbtt_20",ft={title:Qg,text:Kg,button:Zg,notSure:Xg,link:ey},ty=({email:e,onBackToLogin:t,loggedIn:n})=>{const{t:r}=I("account"),o=ce();return _("div",{className:ft.forgotPasswordForm,children:[s("h2",{className:ft.title,children:r("reset.link_sent")}),s("p",{className:ft.text,children:r("reset.link_sent_text",{email:e})}),s(M,{onClick:t,className:ft.button,fullWidth:!0,color:"primary",label:r("reset.back_login")}),!n&&_(fe.Fragment,{children:[s("span",{className:ft.notSure,children:r("reset.not_sure")}),s(fr,{className:ft.link,to:K(o,"u","forgot-password"),children:r("reset.try_again")})]})]})},Un=({type:e})=>{const{t}=I("account"),n=ee(),r=ce(),[o,a]=f.exports.useState(!1),{customer:i,canChangePasswordWithOldPassword:c}=W(({user:y,canChangePasswordWithOldPassword:h})=>({customer:y,canChangePasswordWithOldPassword:h}),X),l=()=>{n(pt(r,"u"))},d=async()=>{n({pathname:"/",search:"u=login"},{replace:!0}),i&&await It()},p=async()=>{const y=`${window.location.origin}/?u=edit-password`;try{if(!(i!=null&&i.email)){mn("invalid param email");return}a(!0),await cs(i.email,y),a(!1),n(K(r,"u","send-confirmation"))}catch(h){mn(h instanceof Error?h.message:h)}},g=et({email:""},async(y,{setErrors:h,setSubmitting:v})=>{const k=`${window.location.origin}/?u=edit-password`;try{await cs(y.email,k),n(K(r,"u",c?"edit-password":"send-confirmation"))}catch(b){b instanceof Error&&(b.message.toLowerCase().includes("invalid param email")?h({email:t("reset.wrong_email")}):h({form:b.message}))}v(!1)},oe().shape({email:R().email(t("login.field_is_not_valid_email")).required(t("login.field_required"))}),!0);return _(fe.Fragment,{children:[e==="reset"&&s(Ug,{submitting:o,onCancel:l,onReset:p}),e==="forgot"&&s(Gg,{value:g.values,submitting:g.submitting,onChange:g.handleChange,errors:g.errors,onSubmit:g.handleSubmit,onBlur:g.handleBlur}),e==="confirmation"&&s(ty,{loggedIn:!!i,email:(i==null?void 0:i.email)||g.values.email,onBackToLogin:d}),(g.submitting||o)&&s(ie,{transparentBackground:!0,inline:!0})]})},ny="_title_feuiy_1",ry="_confirmButton_feuiy_7",zn={title:ny,confirmButton:ry},sy=({onConfirm:e,onCancel:t,error:n,submitting:r})=>{const{t:o}=I("account");return _("div",{children:[n?s(Te,{variant:"error",children:n}):null,s("h2",{className:zn.title,children:o("cancel_subscription.title")}),s("p",{className:zn.paragraph,children:o("cancel_subscription.explanation")}),s(M,{className:zn.confirmButton,label:o("cancel_subscription.unsubscribe"),color:"primary",variant:"contained",onClick:e,fullWidth:!0,disabled:r}),s(M,{label:o("cancel_subscription.no_thanks"),variant:"outlined",onClick:t,fullWidth:!0})]})},oy="_title_od1i3_1",Jn={title:oy},ay=({expiresDate:e,onClose:t})=>{const{t:n}=I("account");return _("div",{className:Jn.SubscriptionCancelled,children:[s("h2",{className:Jn.title,children:n("subscription_cancelled.title")}),s("p",{className:Jn.paragraph,children:n("subscription_cancelled.message",{date:e})}),s(M,{label:n("subscription_cancelled.return_to_profile"),variant:"outlined",onClick:t,fullWidth:!0})]})},iy=()=>{const{t:e}=I("account"),t=ee(),n=ce(),r=W(g=>g.subscription),[o,a]=f.exports.useState(!1),[i,c]=f.exports.useState(!1),[l,d]=f.exports.useState(null),p=async()=>{c(!0),d(null);try{await fo("cancelled"),a(!0)}catch{d(e("cancel_subscription.unknown_error_occurred"))}c(!1)},u=()=>{t(pt(n,"u"),{replace:!0})};return r?_(fe.Fragment,{children:[o?s(ay,{expiresDate:xt(r.expiresAt),onClose:u}):s(sy,{onConfirm:p,onCancel:u,submitting:i,error:l}),i?s(ie,{transparentBackground:!0,inline:!0}):null]}):null},cy="_title_tx74u_1",ly="_infoBox_tx74u_7",dy="_price_tx74u_24",uy="_confirmButton_tx74u_34",Ft={title:cy,infoBox:ly,price:dy,confirmButton:uy},py=({subscription:e,customer:t,error:n,submitting:r,onConfirm:o,onClose:a})=>{const{t:i}=I("account");return _("div",{children:[n?s(Te,{variant:"error",children:n}):null,s("h2",{className:Ft.title,children:i("renew_subscription.renew_your_subscription")}),s("p",{className:Ft.paragraph,children:i("renew_subscription.explanation")}),_("div",{className:Ft.infoBox,children:[_("p",{children:[s("strong",{children:e.offerTitle})," ",s("br",{}),i("renew_subscription.next_billing_date_on",{date:xt(e.expiresAt)})]}),_("p",{className:Ft.price,children:[s("strong",{children:We(e.nextPaymentPrice,e.nextPaymentCurrency,t.country)}),_("small",{children:["/",i(`periods.${e.period}`)]})]})]}),s(M,{className:Ft.confirmButton,color:"primary",variant:"contained",label:i("renew_subscription.renew_subscription"),onClick:o,fullWidth:!0,disabled:r}),s(M,{label:i("renew_subscription.no_thanks"),onClick:a,fullWidth:!0})]})},my="_title_1o843_1",gs={title:my},hy=({onClose:e,customer:t,subscription:n})=>{const{t:r}=I("account"),o=xt(n.expiresAt),a=We(n.nextPaymentPrice,n.nextPaymentCurrency,t.country);return _("div",{children:[s("h2",{className:gs.title,children:r("subscription_renewed.title")}),s("p",{className:gs.paragraph,children:r("subscription_renewed.message",{date:o,price:a})}),s(M,{label:r("subscription_renewed.back_to_profile"),onClick:e,fullWidth:!0})]})},fy=()=>{const e=ee(),t=ce(),{t:n}=I("account"),{subscription:r,user:o}=W(({subscription:y,user:h})=>({subscription:y,user:h}),X),[a,i]=f.exports.useState(!1),[c,l]=f.exports.useState(!1),[d,p]=f.exports.useState(null),u=async()=>{l(!0),p(null);try{await fo("active"),i(!0)}catch{p(n("renew_subscription.unknown_error_occurred"))}l(!1)},g=()=>{e(pt(t,"u"),{replace:!0})};return!r||!o?null:_(fe.Fragment,{children:[a?s(hy,{onClose:g,subscription:r,customer:o}):s(py,{subscription:r,customer:o,error:d,onConfirm:u,onClose:g,submitting:c}),c?s(ie,{inline:!0}):null]})},Yn=({value:e,showToggleView:t=!0,showHelperText:n=!0,...r})=>{const{t:o}=I("account"),[a,i]=Nn();return s(G,{...r,helperText:n?_(fe.Fragment,{children:[s(Ro,{password:e||""}),o("reset.password_helper_text")]}):null,type:a?"text":"password",rightControl:t?s(_e,{"aria-label":o(a?"reset.hide_password":"reset.view_password"),onClick:()=>i(),children:a?s(Pn,{}):s($n,{})}):null,required:!0})},_y="_title_1t04b_1",gy="_text_1t04b_7",yy="_button_1t04b_12",wy="_link_1t04b_16",by="_textField_1t04b_17",rn={title:_y,text:gy,button:yy,link:wy,textField:by},vy=({onSubmit:e,onChange:t,onBlur:n,showOldPasswordField:r,showResetTokenField:o,value:a,errors:i,submitting:c})=>{const{t:l}=I("account");return _("form",{onSubmit:e,"data-testid":void 0,noValidate:!0,className:rn.forgotPasswordForm,children:[s("h2",{className:rn.title,children:l("reset.password_reset")}),i.form?s(Te,{variant:"error",children:i.form}):null,r?s(Yn,{value:a.oldPassword,onChange:t,onBlur:n,label:l("reset.old_password"),placeholder:l("reset.old_password"),error:!!i.oldPassword,name:"oldPassword",showToggleView:!1,showHelperText:!1,required:!0}):o?s(G,{className:rn.textField,value:a.resetPasswordToken,onChange:t,onBlur:n,label:l("reset.reset_password_token"),placeholder:l("reset.reset_password_token"),name:"resetPasswordToken",type:"text",required:!0}):null,s(Yn,{value:a.password,onChange:t,onBlur:n,label:l("reset.new_password"),placeholder:l("reset.password"),error:!!i.password,name:"password",required:!0}),s(Yn,{value:a.passwordConfirmation,onChange:t,onBlur:n,label:l("reset.repeat_new_password"),placeholder:l("reset.repeat_new_password"),error:!!i.passwordConfirmation,name:"passwordConfirmation",required:!0}),s(M,{type:"submit",className:rn.button,fullWidth:!0,color:"primary",disabled:c,label:l("reset.confirm")}),c&&s(ie,{transparentBackground:!0,inline:!0})]})},Cy=()=>{const{t:e}=I("account"),t=ee(),n=Fe("resetPasswordToken"),r=Fe("email"),o=W.getState().user,i=et({password:"",passwordConfirmation:""},async(c,{setErrors:l,setSubmitting:d})=>{const{oldPassword:p,password:u,passwordConfirmation:g,resetPasswordToken:y}=c;if(u!==g)return l({form:e("reset.passwords_do_not_match")}),d(!1);let h=n;y&&(h=y);try{if(o&&!h)await Zu(p||"",u,g);else{if(!h)return l({form:e("reset.invalid_link")}),d(!1);await Xu(r||"",u,h,g)}await It(),t(he(window.location.origin,{u:"login"}))}catch(v){v instanceof Error&&(v.message.includes("invalid param password")?l({password:e("reset.invalid_password")}):v.message.includes("resetPasswordToken is not valid")&&l({form:e("reset.invalid_token")}))}d(!1)},oe().shape({email:R(),oldPassword:R(),password:R().matches(/^(?=.*[a-z])(?=.*[0-9]).{8,}$/,e("registration.invalid_password")).required(e("login.field_required")),passwordConfirmation:R()}),!0);return s(vy,{value:i.values,submitting:i.submitting,onChange:i.handleChange,onBlur:i.handleBlur,errors:i.errors,onSubmit:i.handleSubmit,showOldPasswordField:!!(o&&!n),showResetTokenField:!o&&!n})},xy="_welcome_v7d1f_1",ky={welcome:xy},Sy=(e,t=1,n)=>{const r=f.exports.useRef(),[o,a]=f.exports.useState(e);return f.exports.useEffect(()=>{if(window.clearTimeout(r.current),o===0){n&&n();return}return r.current=window.setTimeout(()=>{a(i=>i-t)},t*1e3),()=>{window.clearTimeout(r.current)}},[o]),o},Ny=({onCloseButtonClick:e,onCountdownCompleted:t,siteName:n})=>{const{t:r}=I("account"),o=Sy(10,1,t);return _("div",{className:ky.welcome,children:[s("h2",{children:r("checkout.welcome_title",{siteName:n})}),s("p",{children:r("checkout.welcome_description",{siteName:n})}),s(M,{variant:"contained",color:"primary",label:r("checkout.start_watching",{countdown:o}),onClick:e,size:"large",fullWidth:!0})]})},Py="_title_82pz9_1",$y="_message_82pz9_6",ys={title:Py,message:$y},ws=({type:e,message:t,onCloseButtonClick:n})=>{const{t:r}=I("account");return _("div",{children:[s("h2",{className:ys.title,children:r(e==="cancelled"?"checkout.payment_cancelled":"checkout.payment_error")}),s("p",{className:ys.message,children:e==="cancelled"?r("checkout.payment_cancelled_message"):t}),s("div",{children:s(M,{label:r("checkout.close"),onClick:n,color:"primary",variant:"contained",size:"large",fullWidth:!0})})]})},Iy="_center_153q1_1",Ty={center:Iy},Ey=()=>{const{t:e}=I("account"),{intervalCheckAccess:t,errorMessage:n}=qo();return f.exports.useEffect(()=>{t({interval:3e3,iterations:5})},[]),s("div",{className:Ty.center,children:n?s("h2",{children:n}):_(ae,{children:[s(Pt,{}),s("h2",{children:e("checkout.waiting_for_payment")})]})})},Ly=["login","create-account","forgot-password","reset-password","send-confirmation","edit-password"],Ay=()=>{const e=ee(),t=ce(),n=Fe("u"),[r,o]=f.exports.useState(n),a=Fe("message"),{loading:i,auth:c}=W(({loading:h,auth:v})=>({loading:h,auth:v}),X),l=j(h=>h.config),{assets:{banner:d},siteName:p}=l,u=n&&Ly.includes(n);f.exports.useEffect(()=>{n&&o(n)},[n]),f.exports.useEffect(()=>{!!n&&!i&&!c&&!u&&e(K(t,"u","login"))},[n,e,t,i,c,u]);const g=()=>{e(pt(t,"u"))},y=()=>{if(!c&&i&&!u)return s("div",{style:{height:300},children:s(ie,{inline:!0})});switch(r){case"login":return s(e_,{});case"create-account":return s(__,{});case"personal-details":return s(E_,{});case"choose-offer":return s(Y_,{});case"checkout":return s(Vg,{});case"payment-error":return s(ws,{type:"error",message:a,onCloseButtonClick:g});case"payment-cancelled":return s(ws,{type:"cancelled",onCloseButtonClick:g});case"welcome":return s(Ny,{onCloseButtonClick:g,onCountdownCompleted:g,siteName:p});case"reset-password":return s(Un,{type:"reset"});case"forgot-password":return s(Un,{type:"forgot"});case"send-confirmation":return s(Un,{type:"confirmation"});case"edit-password":return s(Cy,{});case"unsubscribe":return s(iy,{});case"renew-subscription":return s(fy,{});case"waiting-for-payment":return s(Ey,{})}};return _(qr,{open:!!n,onClose:g,children:[s("div",{className:Tf.banner,children:d?s("img",{src:d,alt:""}):null}),y()]})};const sn=window.localStorage,Wt="app-config",pr="c",on="config-file-override";function My(e,t){var o;if(!t)return"";if(!t.UNSAFE_allowAnyConfigSource&&(((o=t.additionalAllowedConfigSources)==null?void 0:o.length)||0)<=0)return t.defaultConfigSource;const n=e.get(Wt)??e.get(pr);if(n!==null){if(!n)return sn.removeItem(on),t.defaultConfigSource;if(bs(n,t))return sn.setItem(on,n),n}const r=sn.getItem(on);if(r){if(bs(r,t))return r;sn.removeItem(on)}return t.defaultConfigSource}function Dy(e,t,n){let r=!1;return e.has(pr)&&(e.delete(pr),r=!0),e.has(Wt)&&(!n||n===(t==null?void 0:t.defaultConfigSource))&&(e.delete(Wt),r=!0),n&&n!==(t==null?void 0:t.defaultConfigSource)&&e.get(Wt)!==n&&(e.set(Wt,n),r=!0),r}function bs(e,t){return t!=null&&t.UNSAFE_allowAnyConfigSource?!!e:(t==null?void 0:t.defaultConfigSource)===e||(t==null?void 0:t.additionalAllowedConfigSources)&&(t==null?void 0:t.additionalAllowedConfigSources.indexOf(e))>=0}const Oy="_title_gkrmh_1",Fy="_body_gkrmh_8",By="_confirmButton_gkrmh_12",Gn={title:Oy,body:Fy,confirmButton:By},Ry=({open:e,title:t,body:n,onConfirm:r,onClose:o,busy:a})=>{const{t:i}=I("common");return _(qr,{open:e,onClose:o,children:[s("h2",{className:Gn.title,children:t}),s("p",{className:Gn.body,children:n}),s(M,{className:Gn.confirmButton,label:i("confirmation_dialog.confirm"),variant:"contained",color:a?"default":"primary",onClick:r,fullWidth:!0,disabled:a,busy:a}),s(M,{label:i("confirmation_dialog.close"),variant:"outlined",onClick:o,fullWidth:!0,disabled:a})]})};const Wy=Da;[...Object.values(Wy).map(({id:e,label:t})=>({value:e,label:`${e.length>8?"ext-json":e} - ${t}`}))];const Vy=oe({contentId:R().notRequired(),title:R().notRequired(),featured:_r().notRequired(),backgroundColor:R().nullable().notRequired(),type:jt().oneOf(["playlist","continue_watching","favorites"])}).defined(),qy=oe().shape({label:R().defined(),contentId:R().defined(),filterTags:R().notRequired(),type:jt().oneOf(["playlist"]).notRequired()}),jy=oe({recommendationsPlaylist:R().nullable(),searchPlaylist:R().nullable(),continueWatchingList:R().nullable(),favoritesList:R().nullable()}),Hy=oe({id:R().nullable(),monthlyOffer:R().nullable(),yearlyOffer:R().nullable(),useSandbox:_r().default(!0)}),vs=oe({clientId:R().nullable(),assetId:sa().nullable(),useSandbox:_r().default(!0)}),Uy=oe({backgroundColor:R().nullable(),highlightColor:R().nullable(),headerBackground:R().nullable(),footerText:R().nullable()}),zy=oe({id:R().notRequired(),siteName:R().notRequired(),description:R().defined(),analyticsToken:R().nullable(),adSchedule:R().nullable(),assets:oe({banner:R().notRequired().nullable()}).notRequired(),content:tr().of(Vy),menu:tr().of(qy),styling:Uy.notRequired(),features:jy.notRequired(),integrations:oe({cleeng:Hy.notRequired(),inplayer:vs.notRequired(),jwp:vs.notRequired()}).notRequired(),custom:oe().notRequired(),contentSigningService:oe().shape({host:R().required(),drmPolicyId:R().notRequired()})}).defined(),Jy=async e=>{if(!e)throw new Error("No config location found");const t=await fetch(e,{headers:{Accept:"application/json"},method:"GET"});if(!t.ok)throw new Error("Failed to load the config. Please check the config path and the file availability.");const n=await t.json();if(!n)throw new Error("No config found");return Yy(n)},Yy=e=>{var o,a,i,c,l;const{content:t,siteName:n}=e,r=t.map(d=>Object.assign({featured:!1},d));return!((o=e.integrations.inplayer)!=null&&o.clientId)&&((a=e.custom)==null?void 0:a["inplayer.clientId"])&&(e.integrations.inplayer={clientId:(i=e.custom)==null?void 0:i["inplayer.clientId"],assetId:Number((c=e.custom)==null?void 0:c["inplayer.assetId"]),useSandbox:Es((l=e.custom)==null?void 0:l["inplayer.useSandbox"])}),{...e,siteName:n||ot.t("common:default_site_name"),content:r}},Gy=e=>zy.validate(e,{strict:!0}),Qy=async()=>{const{config:e}=j.getState(),t=await Vi(e==null?void 0:e.adSchedule);j.setState({adScheduleData:t})},Ky="https://cdn.jwplayer.com",Zy=({backgroundColor:e,highlightColor:t,headerBackground:n})=>{const r=document.querySelector(":root");r&&e&&(r.style.setProperty("--body-background-color",e),r.style.setProperty("--background-contrast-color",En(e))),r&&t&&(r.style.setProperty("--highlight-color",t),r.style.setProperty("--highlight-contrast-color",En(t))),r&&n&&(r.style.setProperty("--header-background",n),r.style.setProperty("--header-contrast-color",En(n)))},Xy=e=>{if(!!e.analyticsToken)return Br("/jwpltx.js")},e1=e=>{var t,n,r,o,a,i,c;if((t=e==null?void 0:e.integrations)!=null&&t.cleeng){const{id:l,monthlyOffer:d,yearlyOffer:p}=((n=e==null?void 0:e.integrations)==null?void 0:n.cleeng)||{};if(!l)return"AVOD";if(!d&&!p)return"AUTHVOD"}if(((r=e==null?void 0:e.integrations)==null?void 0:r.jwp)||((o=e==null?void 0:e.integrations)==null?void 0:o.inplayer)){const l=(a=e==null?void 0:e.integrations)!=null&&a.jwp?(i=e==null?void 0:e.integrations)==null?void 0:i.jwp:(c=e==null?void 0:e.integrations)==null?void 0:c.inplayer,{clientId:d,assetId:p}=l||{};if(!d)return"AVOD";if(!p)return"AUTHVOD"}return"SVOD"};async function t1(e){var o,a,i,c,l,d,p,u,g,y,h,v,k,b;e=n1(e);const t={id:"",siteName:"",description:"",assets:{banner:"/images/logo.png"},content:[],menu:[],integrations:{},styling:{footerText:""},features:{}};if(!e)throw j.setState({config:t}),new Error("Config not defined");let n=await Jy(e);n.assets=n.assets||{},n.assets.banner||(n.assets.banner=t.assets.banner),j.setState(m=>{m.config.assets.banner=n.assets.banner}),Zy(n.styling||{}),n=await Gy(n),n=oa({},t,n);const r=e1(n);if(j.setState({config:n,accessModel:r}),Xy(n),((a=(o=n==null?void 0:n.integrations)==null?void 0:o.cleeng)==null?void 0:a.id)&&(((c=(i=n==null?void 0:n.integrations)==null?void 0:i.jwp)==null?void 0:c.clientId)||((d=(l=n==null?void 0:n.integrations)==null?void 0:l.inplayer)==null?void 0:d.clientId)))throw new Error("Invalid client integration. You cannot have both Cleeng and JWP integrations enabled at the same time.");return(((u=(p=n==null?void 0:n.integrations)==null?void 0:p.cleeng)==null?void 0:u.id)||((y=(g=n==null?void 0:n.integrations)==null?void 0:g.jwp)==null?void 0:y.clientId)||((v=(h=n==null?void 0:n.integrations)==null?void 0:h.inplayer)==null?void 0:v.clientId))&&await zu(),((k=n.features)==null?void 0:k.continueWatchingList)&&n.content.some(m=>m.type===Je.ContinueWatching)&&await kn(),((b=n.features)==null?void 0:b.favoritesList)&&n.content.some(m=>m.type===Je.Favorites)&&await Wu(),n.adSchedule&&await Qy(),n}function n1(e){if(!!e)return e.match(/^[a-z,\d]{8}$/)?`${Ky}/apps/configs/${e}.json`:e}const r1=it("SettingsStore",()=>({additionalAllowedConfigSources:[]})),s1=async()=>{var t;const e=await fetch("/.webapp.ini").then(n=>n.text()).then(n=>aa.parse(n));if(!e)throw new Error("Unable to load .webapp.ini");if(!e.defaultConfigSource&&(!e.additionalAllowedConfigSources||((t=e.additionalAllowedConfigSources)==null?void 0:t.length)===0)&&!e.UNSAFE_allowAnyConfigSource)throw new Error("No usable config sources");return r1.setState(e),e},o1=()=>{const e=ia();return s(we,{error:e})},a1="_about_c4gxs_1",i1={about:a1},c1=()=>{const e=`# About JW OTT Webapp
  
JW OTT Webapp is an open-source, dynamically generated video website built around JW Player and JW Platform services. It enables you to easily publish your JW Player-hosted video content with no coding and minimal configuration.

To see an example of JW OTT Webapp in action, see [https://app-preview.jwplayer.com/](https://app-preview.jwplayer.com/).

## Supported Features

- Works with any JW Player edition, from Free to Enterprise (note that usage will count against your monthly JW streaming limits). Only cloud-hosted JW Players are supported.
- It looks great on any device. The responsive UI automatically optimizes itself for desktop, tablet, and mobile screens.
- Populates your site's media content using JSON feeds. If you are using JW Platform, this happens auto-magically based on playlists that you specify. Using feeds from other sources will require you to hack the source code.
- Video titles, descriptions and hero images are populated from JW Platform JSON feed metadata.
- Playback of HLS video content from the JW Platform CDN. You can add external URLs (for example, URLS from your own server or CDN) to your playlists in the Content section of your JW Player account dashboard, but they must be HLS streams (\`.m3u8\` files).
- Support for live video streams (must be registered as external .m3u8 URLs in your JW Dashboard).
- Customize the user interface with your own branding. The default app is configured for JW Player branding and content, but you can easily change this to use your own assets by modifying the \`config.json\` file. Advanced customization is possible (for example, editing the CSS files), but you will need to modify the source code and build from source.
- Site-wide video search and related video recommendations powered by [JW Recommendations](https://docs.jwplayer.com/platform/docs/vdh-learn-about-recommendations).
- Basic playback analytics is reported to your JW Dashboard.
- Ad integrations (VAST, VPAID, GoogleIMA, etc.). These features require a JW Player Ads Edition license. For more information, see the [JW Player pricing page](https://www.jwplayer.com/pricing/).
- A "Favorites" feature for users to save videos for watching later. A separate list for "Continue Watching" is also kept so users can resume watching videos from where they left off. The lists are per-browser at this time (i.e., lists do not sync across user's browsers or devices). The "Continue Watching" list can be disabled in your JW OTT Webapp's \`config.json\` file.
- A grid view for a particular playlist of videos, with the ability to deep-link to the playlist through a static URL.
- Social sharing options using the device native sharing dialog.

## Unsupported Features

- Security-related features (encrypted HLS, DRM, signed URLs)
- Self-hosted JW Players`;return s(gr,{className:i1.about,markdownString:e})},l1=()=>{const{config:e}=j(({config:n,accessModel:r})=>({config:n,accessModel:r}),X),t=e==null?void 0:e.content;return s(Bo,{rows:t})},d1="_search_1t8zm_1",u1="_main_1t8zm_26",p1="_header_1t8zm_30",m1="_error_1t8zm_46",Qn={search:d1,main:u1,header:p1,error:m1},Ke=it("UIStore",()=>({searchQuery:"",searchActive:!1,userMenuOpen:!1})),h1=()=>{const e=f.exports.useRef(!0);return f.exports.useEffect(()=>{e.current=!1},[]),e.current},f1=(e,t)=>{const n=f.exports.useRef(),r=f.exports.useRef(Oa((...o)=>{n.current&&n.current(...o)},t));return f.exports.useEffect(()=>{n.current=e},[e]),r.current},jo=()=>{const e=ee(),t=f1(o=>{e(`/q/${encodeURIComponent(o)}`)},350),n=f.exports.useCallback(o=>{Ke.setState({searchQuery:o}),t(o)},[]),r=f.exports.useCallback(()=>{const o=Ke.getState().preSearchPage;Ke.setState({searchQuery:"",preSearchPage:void 0}),e(o||"/")},[e]);return{updateSearchQuery:n,resetSearchQuery:r}},_1=()=>{const{t:e}=I("search"),{config:t,accessModel:n}=j(({config:b,accessModel:m})=>({config:b,accessModel:m}),X),{siteName:r,features:o}=t,a=h1(),i=Ke(b=>b.searchQuery),{updateSearchQuery:c}=jo(),l=ee(),p=qt()["*"],{isFetching:u,error:g,data:y}=Ht((o==null?void 0:o.searchPlaylist)||"",{search:p||""},!0,!!p),{user:h,subscription:v}=W(({user:b,subscription:m})=>({user:b,subscription:m}),X);f.exports.useEffect(()=>{!a||p&&p!==i&&c(p)},[a,p,i,c]);const k=b=>{Ke.setState({searchQuery:"",searchActive:!1}),l(Oe(b,o==null?void 0:o.searchPlaylist))};return(g||!y)&&!u?_(we,{title:e("error_heading"),children:[s("h6",{children:e("error_subheading")}),s("p",{children:e("error_description")})]}):p?y!=null&&y.playlist.length?_("div",{className:Qn.search,children:[s(at,{children:_("title",{children:[e("title",{results:y.playlist.length,query:p})," - ",r]})}),s("header",{className:Qn.header,children:s("h2",{children:e("heading")})}),s("main",{className:Qn.main,children:s(_n,{playlist:y,onCardClick:k,isLoading:a,accessModel:n,isLoggedIn:!!h,hasSubscription:!!v})})]}):_(we,{title:e("no_results_heading",{query:p}),children:[s("h6",{children:e("suggestions")}),_("ul",{children:[s("li",{children:e("tip_one")}),s("li",{children:e("tip_two")}),s("li",{children:e("tip_three")})]})]}):s(we,{title:e("start_typing")})},g1=()=>{const{id:e}=qt(),t=Fe("e");return s(Lo,{seriesId:e||"",episodeId:t})},y1="_user_1k1su_1",w1="_leftColumn_1k1su_19",b1="_button_1k1su_30",v1="_logoutLi_1k1su_34",C1="_mainColumn_1k1su_43",x1="_panel_1k1su_48",k1="_panelHeader_1k1su_65",S1="_checkbox_1k1su_77",xe={user:y1,leftColumn:w1,button:b1,logoutLi:v1,mainColumn:C1,panel:x1,panelHeader:k1,checkbox:S1},Hr=re("0 0 24 24",s("g",{children:s("path",{d:"M12,19.2C9.5,19.2 7.29,17.92 6,16C6.03,14 10,12.9 12,12.9C14,12.9 17.97,14 18,16C16.71,17.92 14.5,19.2 12,19.2M12,5A3,3 0 0,1 15,8A3,3 0 0,1 12,11A3,3 0 0,1 9,8A3,3 0 0,1 12,5M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"})})),Ho=re("0 0 24 24",s("g",{children:s("path",{d:"M5,3C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V16.72C21.59,16.37 22,15.74 22,15V9C22,8.26 21.59,7.63 21,7.28V5A2,2 0 0,0 19,3H5M5,5H19V7H13A2,2 0 0,0 11,9V15A2,2 0 0,0 13,17H19V19H5V5M13,9H20V15H13V9M16,10.5A1.5,1.5 0 0,0 14.5,12A1.5,1.5 0 0,0 16,13.5A1.5,1.5 0 0,0 17.5,12A1.5,1.5 0 0,0 16,10.5Z"})})),Uo=re("0 0 24 24",s("g",{children:s("path",{d:"M19,3H5C3.89,3 3,3.89 3,5V9H5V5H19V19H5V15H3V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M10.08,15.58L11.5,17L16.5,12L11.5,7L10.08,8.41L12.67,11H3V13H12.67L10.08,15.58Z"})})),N1="_infoBox_h1qu4_1",P1="_price_h1qu4_17",$1="_cardDetails_h1qu4_27",an={infoBox:N1,price:P1,cardDetails:$1},Cs=4,I1=({accessModel:e,activePaymentDetail:t,activeSubscription:n,transactions:r,customer:o,isLoading:a,panelClassName:i,panelHeaderClassName:c,onShowAllTransactionsClick:l,showAllTransactions:d,canRenewSubscription:p=!1})=>{const{t:u}=I(["user","account"]),g=r?(r==null?void 0:r.length)-Cs:0,y=g>0,h=ee(),v=ce();function k(){h(K(v,"u","choose-offer"))}function b(){h(K(v,"u","unsubscribe"))}function m(){h(K(v,"u","renew-subscription"))}function x(C){switch(C){case"month":return u("user:payment.monthly_subscription");case"year":return u("user:payment.annual_subscription");case"day":return u("user:payment.daily_subscription");case"week":return u("user:payment.weekly_subscription");case"granted":return u("user:payment.granted_subscription");default:return u("user:payment.other")}}return _(ae,{children:[e==="SVOD"&&_("div",{className:i,children:[s("div",{className:c,children:s("h3",{children:u("user:payment.subscription_details")})}),n?_(fe.Fragment,{children:[_("div",{className:an.infoBox,children:[_("p",{children:[s("strong",{children:x(n.period)})," ",s("br",{}),n.status==="active"&&n.period!=="granted"?u("user:payment.next_billing_date_on",{date:xt(n.expiresAt)}):u("user:payment.subscription_expires_on",{date:xt(n.expiresAt)})]}),_("p",{className:an.price,children:[s("strong",{children:We(n.nextPaymentPrice,n.nextPaymentCurrency,o.country)}),_("small",{children:["/",u(`account:periods.${n.period}`)]})]})]},n.subscriptionId),n.status==="active"&&n.period!=="granted"?s(M,{label:u("user:payment.cancel_subscription"),onClick:b}):p?s(M,{label:u("user:payment.renew_subscription"),onClick:m}):null]}):a?null:_(fe.Fragment,{children:[s("p",{children:u("user:payment.no_subscription")}),s(M,{variant:"contained",color:"primary",label:u("user:payment.complete_subscription"),onClick:k})]})]}),_("div",{className:i,children:[s("div",{className:c,children:s("h3",{children:u("user:payment.payment_method")})}),t?_("div",{children:[s(G,{label:u("user:payment.card_number"),value:`â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ ${t.paymentMethodSpecificParams.lastCardFourDigits||""}`,editing:!1}),_("div",{className:an.cardDetails,children:[s(G,{label:u("user:payment.expiry_date"),value:t.paymentMethodSpecificParams.cardExpirationDate,editing:!1}),s(G,{label:u("user:payment.cvc_cvv"),value:"******",editing:!1})]})]},t.id):s("div",{children:s("p",{children:!a&&u("user:payment.no_payment_methods")})})]}),_("div",{className:i,children:[s("div",{className:c,children:s("h3",{children:u("user:payment.transactions")})}),r!=null&&r.length?_(fe.Fragment,{children:[r==null?void 0:r.slice(0,d?9999:Cs).map(C=>_("div",{className:an.infoBox,children:[_("p",{children:[s("strong",{children:C.offerTitle})," ",s("br",{}),u("user:payment.price_payed_with",{price:We(parseInt(C.transactionPriceInclTax),C.transactionCurrency,C.customerCountry),method:C.paymentMethod})]}),_("p",{children:[C.transactionId,s("br",{}),xt(C.transactionDate)]})]},C.transactionId)),!d&&y?_(fe.Fragment,{children:[s("p",{children:u("user:payment.hidden_transactions",{count:g})}),s(M,{label:u("user:payment.show_all"),onClick:l})]}):null]}):s("div",{children:s("p",{children:!a&&u("user:payment.no_transactions")})})]}),a&&s(ie,{inline:!0})]})},T1="_flexBox_1sko4_5",E1="_controls_1sko4_13",L1="_submitConsents_1sko4_20",Kn={flexBox:T1,controls:E1,submitConsents:L1};function A1({className:e,panelHeaderClassName:t,label:n,editButton:r,saveButton:o,cancelButton:a,canSave:i,onSubmit:c,content:l,readOnly:d=!1}){const p=dt(n),{formState:{values:u,activeSectionId:g,isDirty:y,errors:h,isBusy:v},setFormState:k,isLoading:b,onCancel:m}=f.exports.useContext(zo),x=p===g,C=f.exports.useCallback(function({currentTarget:P}){if(!P)return;const{name:$,type:O}=P,E=O==="checkbox"?P.checked:P.value;x||m(),k(T=>{const D={...T.values};return $.split(".").reduce((L,B,Q,le)=>(Q===le.length-1?L[B]=E:L[B]={...L[B]},L[B]),D),{...T,values:D,isDirty:!0,activeSectionId:p}})},[x,m,p,k]),N=f.exports.useCallback(async function(P){var $;if(P&&P.preventDefault(),c){let O;try{k(E=>({...E,isBusy:!0})),O=await c(u)}catch(E){O={errors:Array.of(E instanceof Error?E.message:E)}}if(($=O==null?void 0:O.errors)!=null&&$.length){k(E=>({...E,errors:O==null?void 0:O.errors,isBusy:!1}));return}}k(O=>({...O,activeSectionId:void 0,isDirty:!1,isBusy:!1}))},[c,k,u]),S=f.exports.useCallback(function(){x||(m(),k(P=>({...P,activeSectionId:p})))},[x,m,p,k]);return _("div",{className:e,children:[s("div",{className:t,children:s("h3",{children:n})}),v&&x&&s(ie,{transparentBackground:!0}),x?s("form",{className:Kn.flexBox,noValidate:!0,onSubmit:w=>w.preventDefault(),children:l({values:u,isEditing:x,isBusy:v,onChange:C,errors:h})}):s("div",{className:Kn.flexBox,children:l({values:u,isEditing:x,isBusy:v,onChange:C})}),(o||r||a)&&s("div",{className:Kn.controls,children:x?_(ae,{children:[o&&s(M,{label:o,type:"submit",onClick:N,disabled:!y||b||i&&!i(u)}),a&&s(M,{label:a,type:"reset",variant:"text",onClick:m})]}):!d&&r&&(typeof r=="object"?r:s(M,{label:r,type:"button",onClick:S,disabled:b}))})]})}const zo=f.exports.createContext(void 0);function M1({isLoading:e,initialValues:t,onReset:n,children:r}){const[o,a]=f.exports.useState({values:t,activeSectionId:void 0,isDirty:!1,isBusy:!1}),i=f.exports.useCallback(function(){a(l=>({...l,values:t,isDirty:!1,activeSectionId:void 0,errors:void 0})),n&&n()},[t,n]);return f.exports.useEffect(()=>{o.activeSectionId||a(c=>({...c,values:t}))},[t,o.activeSectionId]),s(zo.Provider,{value:{isLoading:e,onCancel:i,formState:o,setFormState:a},children:r==null?void 0:r.map((c,l)=>s(A1,{...c},l))})}const D1=({panelClassName:e,panelHeaderClassName:t,canUpdateEmail:n=!0})=>{const{t:r}=I("user"),o=ee(),a=ce(),[i,c]=Nn(),{customer:l,customerConsents:d,publisherConsents:p,canChangePasswordWithOldPassword:u}=W(({user:m,customerConsents:x,publisherConsents:C,canChangePasswordWithOldPassword:N})=>({customer:m,customerConsents:x,publisherConsents:C,canChangePasswordWithOldPassword:N}),X),g=f.exports.useMemo(()=>Ti(p,d),[p,d]),y=f.exports.useMemo(()=>({...l,consents:g,confirmationPassword:""}),[l,g]),h=m=>{const x=hr.sanitize(m),C=/<a(.|\n)*?>/.test(x),N=/<\/a(.|\n)*?>/.test(x);return C&&N?s("span",{dangerouslySetInnerHTML:{__html:m}}):m};function v(m){const x={};return m==null||m.flatMap(C=>C.split(",")).forEach(C=>{switch(C.trim()){case"Invalid param email":x.email=r("account.errors.invalid_param_email");break;case"Customer email already exists":x.email=r("account.errors.email_exists");break;case"Please enter a valid e-mail address.":x.email=r("account.errors.please_enter_valid_email");break;case"Invalid confirmationPassword":{x.confirmationPassword=r("account.errors.invalid_password");break}case"firstName can have max 50 characters.":{x.firstName=r("account.errors.first_name_too_long");break}case"lastName can have max 50 characters.":{x.lastName=r("account.errors.last_name_too_long");break}case"Email update not supported":{x.form=r("account.errors.email_update_not_supported");break}default:{x.form=r("account.errors.unknown_error");break}}}),x}function k(m){return{...m,className:e,panelHeaderClassName:t,saveButton:r("account.save"),cancelButton:r("account.cancel"),content:x=>{const C=v(x.errors);return _(ae,{children:[m.content({...x,errors:C}),s($t,{error:!!(C!=null&&C.form),children:C==null?void 0:C.form})]})}}}const b=()=>{o(K(a,"u",u?"edit-password":"reset-password"))};return s(M1,{initialValues:y,children:[k({label:r("account.email"),onSubmit:m=>is({email:m.email||"",confirmationPassword:m.confirmationPassword}),canSave:m=>!!(m.email&&m.confirmationPassword),editButton:r("account.edit_account"),readOnly:!n,content:m=>{var x,C,N,S;return _(ae,{children:[s(G,{name:"email",label:r("account.email"),value:m.values.email||"",onChange:m.onChange,error:!!((x=m.errors)!=null&&x.email),helperText:(C=m.errors)==null?void 0:C.email,disabled:m.isBusy,editing:m.isEditing,required:!0}),m.isEditing&&s(G,{name:"confirmationPassword",label:r("account.confirm_password"),value:m.values.confirmationPassword,onChange:m.onChange,error:!!((N=m.errors)!=null&&N.confirmationPassword),helperText:(S=m.errors)==null?void 0:S.confirmationPassword,type:i?"text":"password",disabled:m.isBusy,rightControl:s(_e,{"aria-label":r(i?"account.hide_password":"account.view_password"),onClick:()=>c(),children:i?s(Pn,{}):s($n,{})}),required:!0})]})}}),k({label:r("account.security"),editButton:s(M,{label:r("account.edit_password"),type:"button",onClick:()=>l?b():null}),content:()=>_(ae,{children:[s("strong",{children:r("account.password")}),s("p",{children:"****************"})]})}),k({label:r("account.about_you"),editButton:r("account.edit_information"),onSubmit:m=>is({firstName:m.firstName||"",lastName:m.lastName||""}),content:m=>{var x,C,N,S;return _(ae,{children:[s(G,{name:"firstName",label:r("account.firstname"),value:m.values.firstName||"",onChange:m.onChange,error:!!((x=m.errors)!=null&&x.firstName),helperText:(C=m.errors)==null?void 0:C.firstName,disabled:m.isBusy,editing:m.isEditing}),s(G,{name:"lastName",label:r("account.lastname"),value:m.values.lastName||"",onChange:m.onChange,error:!!((N=m.errors)!=null&&N.lastName),helperText:(S=m.errors)==null?void 0:S.lastName,disabled:m.isBusy,editing:m.isEditing})]})}}),k({label:r("account.terms_and_tracking"),saveButton:r("account.update_consents"),onSubmit:m=>mo(Li(p,m)),content:m=>s(ae,{children:p==null?void 0:p.map((x,C)=>{var N;return s(jr,{name:`consents.${x.name}`,value:x.value||"",checked:((N=m.values.consents)==null?void 0:N[x.name])||!1,onChange:m.onChange,label:h(x.label),disabled:x.required||m.isBusy},C)})})})]})},O1="_header_17fi9_1",F1={header:O1},B1={[q.xs]:2,[q.sm]:3,[q.md]:3,[q.lg]:3,[q.xl]:3},R1=({playlist:e,error:t,isLoading:n,accessModel:r,hasSubscription:o,onCardClick:a,onCardHover:i,onClearFavoritesClick:c})=>{const{t:l}=I("user");return n?s(ie,{}):t||!e?s(we,{title:l("favorites.not_found")}):_("div",{children:[_("div",{className:F1.header,children:[s("h3",{children:l("favorites.title")}),e.playlist.length>0?s(M,{label:l("favorites.clear"),onClick:c}):null]}),e.playlist.length>0?s(_n,{playlist:e,onCardClick:a,onCardHover:i,cols:B1,isLoading:n,accessModel:r,isLoggedIn:!0,hasSubscription:o}):s("p",{children:l("favorites.no_favorites")})]})},W1=()=>{const{accessModel:e,favoritesList:t}=j(x=>{var C;return{accessModel:x.accessModel,favoritesList:(C=x.config.features)==null?void 0:C.favoritesList}},X),n=ee(),{t:r}=I("user"),o=be(),[a,i]=f.exports.useState(!1),[c,l]=f.exports.useState(!1),d=o>q.md,{user:p,subscription:u,transactions:g,activePayment:y,loading:h,canUpdateEmail:v,canRenewSubscription:k}=W(),b=x=>n(Oe(x)),m=f.exports.useCallback(async()=>{await It()},[]);return f.exports.useEffect(()=>{!h&&!p&&n("/",{replace:!0})},[n,p,h]),p?_("div",{className:xe.user,children:[d&&s("div",{className:xe.leftColumn,children:s("div",{className:xe.panel,children:_("ul",{children:[s("li",{children:s(M,{to:"my-account",label:r("nav.account"),variant:"text",startIcon:s(Hr,{}),className:xe.button})}),t&&s("li",{children:s(M,{to:"favorites",label:r("nav.favorites"),variant:"text",startIcon:s(Vr,{}),className:xe.button})}),e!=="AVOD"&&s("li",{children:s(M,{to:"payments",label:r("nav.payments"),variant:"text",startIcon:s(Ho,{}),className:xe.button})}),s("li",{className:xe.logoutLi,children:s(M,{onClick:m,label:r("nav.logout"),variant:"text",startIcon:s(Uo,{}),className:xe.button})})]})})}),s("div",{className:xe.mainColumn,children:_($s,{children:[s(Ie,{path:"my-account",element:s(D1,{panelClassName:xe.panel,panelHeaderClassName:xe.panelHeader,canUpdateEmail:v})}),t&&s(Ie,{path:"favorites",element:_(ae,{children:[s(Oo,{type:Je.Favorites,showEmpty:!0,children:({playlist:x,error:C,isLoading:N})=>s(R1,{playlist:x,error:C,isLoading:N,onCardClick:b,onClearFavoritesClick:()=>i(!0),accessModel:e,hasSubscription:!!u})}),s(Ry,{open:a,title:r("favorites.clear_favorites_title"),body:r("favorites.clear_favorites_body"),onConfirm:async()=>{await Hu(),i(!1)},onClose:()=>i(!1)})]})}),s(Ie,{path:"payments",element:e!=="AVOD"?s(I1,{accessModel:e,activeSubscription:u,activePaymentDetail:y,transactions:g,customer:p,isLoading:h,panelClassName:xe.panel,panelHeaderClassName:xe.panelHeader,onShowAllTransactionsClick:()=>l(!0),showAllTransactions:c,canRenewSubscription:k}):s(pn,{to:"my-account"})}),s(Ie,{path:"*",element:s(pn,{to:"my-account"})})]})})]}):s("div",{className:xe.user,children:s(ie,{inline:!0})})},V1="_playlist_17big_1",q1="_main_17big_26",j1="_header_17big_30",H1="_cell_17big_47",U1="_error_17big_51",Zn={playlist:V1,main:q1,header:j1,cell:H1,error:U1},z1=({data:e,isLoading:t})=>{const n=ee(),{config:r,accessModel:o}=j(({config:h,accessModel:v})=>({config:h,accessModel:v}),X),[a,i]=f.exports.useState(""),c=Ni(r,e.feedid),l=f.exports.useMemo(()=>Pi(e,a),[e,a]),d=Boolean(c.length),{user:p,subscription:u}=W(({user:h,subscription:v})=>({user:h,subscription:v}),X);f.exports.useEffect(()=>{i("")},[e.feedid]);const g=h=>n(Oe(h,e.feedid)),y=`${e.title} - ${r.siteName}`;return _("div",{className:Zn.playlist,children:[_(at,{children:[s("title",{children:y}),s("meta",{property:"og:title",content:y}),s("meta",{name:"twitter:title",content:y})]}),_("header",{className:Zn.header,children:[s("h2",{children:e.title}),d&&s(Hs,{name:"genre",value:a,defaultLabel:"All",options:c,setValue:i})]}),s("main",{className:Zn.main,children:s(_n,{playlist:l,onCardClick:g,accessModel:o,isLoggedIn:!!p,hasSubscription:!!u,isLoading:t})})]})},J1="_epgContainer_1b7k0_1",Y1="_catchupButton_1b7k0_21",G1="_tag_1b7k0_27",Xn={epgContainer:J1,catchupButton:Y1,tag:G1},Q1="_epg_1ykrh_1",K1="_epgSpinner_1ykrh_35",Z1="_timelineControl_1ykrh_43",X1="_timelineNowButton_1ykrh_57",ew="_leftControl_1ykrh_68",tw="_rightControl_1ykrh_69",_t={epg:Q1,epgSpinner:K1,timelineControl:Z1,timelineNowButton:X1,leftControl:ew,rightControl:tw},nw="_epgChannelBox_hazxl_1",rw="_epgChannel_hazxl_1",sw="_epgChannelLogo_hazxl_27",cn={epgChannelBox:nw,epgChannel:rw,epgChannelLogo:sw},ow=({channel:e,channelItemWidth:t,sidebarWidth:n,onClick:r,isActive:o})=>{const{position:a,uuid:i,channelLogoImage:c}=e,l={top:a.top,height:a.height,width:n};return s("div",{className:cn.epgChannelBox,style:l,children:s("div",{className:A(cn.epgChannel,{[cn.active]:o}),style:{width:t},onClick:()=>r&&r(e),"data-testid":void 0,children:s(Nt,{className:cn.epgChannelLogo,image:c,alt:"Logo",width:320})})})},aw="_epgProgramBox_4ln9p_1",iw="_epgProgram_4ln9p_1",cw="_disabled_4ln9p_24",lw="_live_4ln9p_28",dw="_selected_4ln9p_31",uw="_epgProgramTitle_4ln9p_34",pw="_epgProgramText_4ln9p_37",mw="_epgLiveTag_4ln9p_50",hw="_epgProgramContent_4ln9p_77",fw="_epgProgramImage_4ln9p_121",Me={epgProgramBox:aw,epgProgram:iw,disabled:cw,live:lw,selected:dw,epgProgramTitle:uw,epgProgramText:pw,epgLiveTag:mw,epgProgramContent:hw,epgProgramImage:fw},_w=({program:e,onClick:t,isActive:n,compact:r,disabled:o,isBaseTimeFormat:a})=>{const{styles:{position:i},formatTime:c,set12HoursTimeFormat:l,isLive:d,isMinWidth:p}=ca({program:e,isBaseTimeFormat:a}),{t:u}=I("common"),{data:g}=e,{image:y,title:h,since:v,till:k}=g,b=c(v,l()).toLowerCase(),m=c(k,l()).toLowerCase(),x=!r&&p,C=!r&&p&&d;return s("div",{className:Me.epgProgramBox,style:i,onClick:()=>t&&t(e),children:_("div",{className:A(Me.epgProgram,{[Me.selected]:n,[Me.live]:d,[Me.disabled]:o}),style:{width:Me.width},"data-testid":(e.data.id,void 0),children:[x&&s("img",{className:Me.epgProgramImage,src:y,alt:"Preview"}),C&&s("div",{className:Me.epgLiveTag,children:u("live")}),_("div",{className:Me.epgProgramContent,children:[r&&d&&s("div",{className:Me.epgLiveTag,children:u("live")}),s("h3",{className:Me.epgProgramTitle,children:h}),_("span",{className:Me.epgProgramText,children:[b," - ",m]})]})]})})},gw="_timelineBox_10xo1_1",yw="_timelineTime_10xo1_5",ww="_timelineContainer_10xo1_16",bw="_timelineDividers_10xo1_23",vw="_timelineDivider_10xo1_23",Bt={timelineBox:gw,timelineTime:yw,timelineContainer:ww,timelineDividers:bw,timelineDivider:vw},Cw=({isBaseTimeFormat:e,dayWidth:t,hourWidth:n,numberOfHoursInDay:r,offsetStartHoursRange:o,isSidebar:a,sidebarWidth:i})=>{const{time:c,dividers:l,formatTime:d}=la(r,e),p=()=>l.map((g,y)=>s("div",{className:Bt.timelineDivider,style:{marginRight:n/4}},y)),u=g=>_("div",{className:Bt.timelineBox,style:{width:n},children:[s("time",{className:Bt.timelineTime,children:d(g+o).toLowerCase()}),s("div",{className:Bt.timelineDividers,children:p()})]},g);return s("div",{className:Bt.timelineContainer,style:{width:t,left:a?i:0},children:c.map((g,y)=>u(y))})},xw=Hl(),kw=(e,t,n,r,o)=>{const[a,i]=f.exports.useMemo(()=>[e.map(u=>{var g;return{uuid:u.id,logo:((g=u.channelLogoImage)==null?void 0:g.image)||"",channelLogoImage:u.channelLogoImage,backgroundImage:u.backgroundImage}}),e.flatMap(u=>u.programs.map(g=>{var y;return{channelUuid:u.id,id:g.id,title:g.title,image:((y=g.shelfImage)==null?void 0:y.image)||"",shelfImage:g.shelfImage,backgroundImage:g.backgroundImage,description:g.description||"",till:g.endTime,since:g.startTime}}))],[e]),c=f.exports.useMemo(()=>Sw(r,o),[r,o]),l=Yr().toJSON(),[d,p]=f.exports.useMemo(()=>[Yr(),da()],[l]);return ua({channels:a,epg:i,dayWidth:7200,sidebarWidth:t,itemHeight:n,isSidebar:!0,isTimeline:!0,isLine:!0,isBaseTimeFormat:xw,startDate:d,endDate:p,theme:c})},Sw=(e,t)=>({primary:{600:t||"#141523",900:t||"#141523"},grey:{300:e||"#fff"},white:e||"#fff",green:{300:e||"#fff"},loader:{teal:"",purple:"",pink:"",bg:""},scrollbar:{border:"",thumb:{bg:""}},gradient:{blue:{300:"",600:"",900:""}},text:{grey:{300:"",500:""}},timeline:{divider:{bg:""}}});function Nw({channels:e,onChannelClick:t,onProgramClick:n,channel:r,program:o,config:a}){const i=be(),{t:c}=I("common"),l=i<q.sm,d=l?70:184,p=l?d-10:d-24,u=l?80:106,{highlightColor:g,backgroundColor:y}=a.styling,{getEpgProps:h,getLayoutProps:v,onScrollToNow:k,onScrollLeft:b,onScrollRight:m}=kw(e,d,u,g,y),x=f.exports.useMemo(()=>Object.fromEntries(e.map(C=>[C.id,C.catchupHours])),[e]);return _("div",{className:_t.epg,children:[_("div",{className:_t.timelineControl,children:[s(M,{className:_t.timelineNowButton,variant:"contained",label:c("now"),color:"primary",onClick:k,size:"small"}),s(_e,{className:_t.leftControl,"aria-label":c("slide_left"),onClick:()=>b(),children:s(Fo,{})}),s(_e,{className:_t.rightControl,"aria-label":c("slide_right"),onClick:()=>m(),children:s(kr,{})})]}),s(pa,{...h(),loader:s(Pt,{className:_t.epgSpinner}),children:s(ma,{...v(),renderTimeline:C=>s(Cw,{...C}),renderChannel:({channel:C})=>s(ow,{channel:C,channelItemWidth:p,sidebarWidth:d,onClick:N=>{t(N.uuid),k()},isActive:(r==null?void 0:r.id)===C.uuid},C.uuid),renderProgram:({program:C,isBaseTimeFormat:N})=>{const S=x[C.data.channelUuid],w=ha(new Date(C.data.since),Is(new Date,S));return s(_w,{program:C,disabled:w,onClick:P=>!w&&n(P.data.id,P.data.channelUuid),isActive:(o==null?void 0:o.id)===C.data.id,compact:l,isBaseTimeFormat:N},C.data.id)}})})]})}const Pw="API-KEY",$w=e=>e.status==="fulfilled"?!0:(mn("An error occurred resolving a promise: ",e.reason),!1),Iw=oe().shape({id:R().required(),title:R().required(),startTime:R().required().test(e=>e?Gr(new Date(e)):!1),endTime:R().required().test(e=>e?Gr(new Date(e)):!1),chapterPointCustomProperties:tr().of(oe().shape({key:R().required(),value:R().test("required-but-empty","value is required",e=>typeof e=="string")}))});class Tw{generateStaticProgram({id:t,title:n,description:r}){return{id:t,title:n,description:r,startTime:fa(_a(new Date),1).toJSON(),endTime:Tn(ga(new Date),1).toJSON(),shelfImage:void 0,backgroundImage:void 0}}generateDemoPrograms(t){var i;const n=new Date,r=new Date((i=t[0])==null?void 0:i.startTime),o=new Date(Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate())),a=ya(n,o);return t.map(c=>({...c,startTime:Tn(new Date(c.startTime),a).toJSON(),endTime:Tn(new Date(c.endTime),a).toJSON()}))}async transformProgram(t){var a,i,c,l;const n=await Iw.validate(t),r=((i=(a=n.chapterPointCustomProperties)==null?void 0:a.find(d=>d.key==="image"))==null?void 0:i.value)||"",o=r?{image:r}:void 0;return{id:n.id,title:n.title,startTime:n.startTime,endTime:n.endTime,shelfImage:o,backgroundImage:o,description:((l=(c=n.chapterPointCustomProperties)==null?void 0:c.find(d=>d.key==="description"))==null?void 0:l.value)||void 0}}async parseSchedule(t,n=!1){if(!Array.isArray(t))return[];const o=(await Promise.allSettled(t.map(a=>this.transformProgram(a).catch(i=>{})))).filter($w).map(a=>a.value).filter(a=>!!a);return n?this.generateDemoPrograms(o):o}async fetchSchedule(t){if(!t.scheduleUrl)return;const n=new Headers;t.scheduleToken&&n.set(Pw,t.scheduleToken);try{const r=await fetch(t.scheduleUrl,{headers:n});return await ct(r)}catch(r){r instanceof Error&&mn(`Fetch failed for EPG schedule: '${t.scheduleUrl}'`,r)}}async getSchedule(t){const n=await this.fetchSchedule(t),r=await this.parseSchedule(n,!!t.scheduleDemo),o=t.catchupHours&&parseInt(t.catchupHours);return{id:t.mediaid,title:t.title,description:t.description,catchupHours:o||8,channelLogoImage:t.channelLogoImage,backgroundImage:t.backgroundImage,programs:r}}async getSchedules(t){return Promise.all(t.map(n=>this.getSchedule(n)))}}const Ew=new Tw,Ur=e=>{const t=new Date(e.startTime),n=new Date(e.endTime);return Ts(t)&&wa(n)},Lw=e=>{const t=new Date(e.endTime);return Ts(t)},Aw=(e,t=8)=>{const n=new Date(e.startTime),r=Is(new Date,t);return ba(n,r)},ln=e=>e.programs.find(Ur),Mw=(e,t,n=!0)=>{const{data:r=[]}=ze(["schedules",...e.map(({mediaid:u})=>u)],()=>Ew.getSchedules(e),{refetchInterval:Pu}),[o,a]=f.exports.useState(n),[i,c]=f.exports.useState(),[l,d]=f.exports.useState();f.exports.useEffect(()=>{if(!o||!n)return;const u=window.setInterval(()=>i&&d(ln(i)),5e3);return()=>clearInterval(u)},[i,o,n]),f.exports.useEffect(()=>{const u=r.find(({id:g})=>g===t)||r[0];if(!i&&u&&(c(u),d(ln(u))),i){const g=r.find(({id:h})=>h===i.id);let y=l&&(g==null?void 0:g.programs.find(({id:h})=>h===(l==null?void 0:l.id)));!y&&g&&(y=ln(g)),c(g),d(y)}},[r]);const p=f.exports.useCallback((u,g)=>{const y=r==null?void 0:r.find(v=>v.id===u);if(!y)return;const h=g?y.programs.find(v=>v.id===g):ln(y);c(y),d(h),a(!h||Ur(h))},[r]);return{channel:i,channels:r,program:l,setActiveChannel:p}},Dw=(e,t)=>{const[n,r]=f.exports.useState(!1),[o,a]=f.exports.useState(!1),[i,c]=f.exports.useState(!1);return f.exports.useEffect(()=>{const l=()=>{r(!!e&&Ur(e)),a(!!e&&Lw(e)),c(!!e&&Aw(e,t))},d=setInterval(l,5e3);return l(),()=>clearInterval(d)},[e]),{isLive:n,isVod:o,isWatchableFromBeginning:i}},Ow=({data:{feedid:e,playlist:t}})=>{var le,ue,ge;const{t:n}=I("epg"),{config:r,accessModel:o}=j(({config:U,accessModel:se})=>({config:U,accessModel:se}),X),{siteName:a}=r,i=ce(),c=ee(),l=f.exports.useMemo(()=>new URLSearchParams(i.search),[i.search]),d=l.get("play")==="1",p=l.get("channel")??void 0,u=l.get("start"),g=l.get("end"),y=l.get("beginning")==="1",h=()=>e&&c(bt(e,p)),[v]=f.exports.useState(p),{channels:k,channel:b,program:m,setActiveChannel:x}=Mw(t,v,!y),{isLive:C,isVod:N,isWatchableFromBeginning:S}=Dw(m,b==null?void 0:b.catchupHours),w=f.exports.useMemo(()=>t.find(({mediaid:U})=>(b==null?void 0:b.id)===U),[b==null?void 0:b.id,t]),{isEntitled:P}=vn(w),$=f.exports.useMemo(()=>m?{title:m.title,description:m.description||"",image:m.backgroundImage,canWatch:C||N&&S,canWatchFromBeginning:P&&C&&S}:{title:(b==null?void 0:b.title)||"",description:(b==null?void 0:b.description)||"",image:b==null?void 0:b.backgroundImage,canWatch:!0,canWatchFromBeginning:!1},[b==null?void 0:b.backgroundImage,b==null?void 0:b.description,b==null?void 0:b.title,P,C,N,S,m]),O=f.exports.useMemo(()=>{if(!b)return"";if(!m)return s(hn,{isLive:!0,children:n("common:live")});const U=new Date(m.startTime),se=new Date(m.endTime),z=va(se,U),V=yr(z);return _(ae,{children:[s(hn,{className:Xn.tag,isLive:C,children:C?n("common:live"):`${Qr(U,"p")} - ${Qr(se,"p")}`}),n("on_channel",{name:b.title})," â€¢ ",V]})},[b,C,m,n]),E=(U,se)=>{x(se,U),(document.scrollingElement||document.body).scroll({top:0,behavior:"smooth"})},T=U=>{x(U)};if(f.exports.useEffect(()=>{b&&e&&p!==b.id&&c(bt(e,b.id),{replace:!0})},[c,e,b,p]),!b||!e)return s(lt,{});const D=`${window.location.origin}${bt(e,b.id)}`,L=`${b.title} - ${a}`,B=w?s(Wr,{title:w.title,description:w.description,url:window.location.href}):null,Q=w?_(ae,{children:[s(Er,{item:w,playUrl:he(bt(e,p,!0),{start:N?m==null?void 0:m.startTime:void 0,end:N?m==null?void 0:m.endTime:void 0}),disabled:!$.canWatch}),$.canWatchFromBeginning&&s(M,{className:Xn.catchupButton,onClick:()=>c(he(bt(e||"",p,!0),{start:m==null?void 0:m.startTime,beginning:1})),label:n("start_from_beginning"),startIcon:s(so,{})})]}):null;return _(ae,{children:[_(at,{children:[s("title",{children:L}),s("link",{rel:"canonical",href:D}),s("meta",{name:"description",content:w==null?void 0:w.description}),s("meta",{property:"og:description",content:w==null?void 0:w.description}),s("meta",{property:"og:title",content:L}),s("meta",{property:"og:type",content:"video.other"}),(w==null?void 0:w.image)&&s("meta",{property:"og:image",content:(le=w.image)==null?void 0:le.replace(/^https:/,"http:")}),(w==null?void 0:w.image)&&s("meta",{property:"og:image:secure_url",content:(ue=w.image)==null?void 0:ue.replace(/^http:/,"https:")}),s("meta",{property:"og:image:width",content:w!=null&&w.image?"720":""}),s("meta",{property:"og:image:height",content:w!=null&&w.image?"406":""}),s("meta",{name:"twitter:title",content:L}),s("meta",{name:"twitter:description",content:w==null?void 0:w.description}),s("meta",{name:"twitter:image",content:w==null?void 0:w.image}),s("meta",{property:"og:video",content:D.replace(/^https:/,"http:")}),s("meta",{property:"og:video:secure_url",content:D.replace(/^http:/,"https:")}),s("meta",{property:"og:video:type",content:"text/html"}),s("meta",{property:"og:video:width",content:"1280"}),s("meta",{property:"og:video:height",content:"720"}),(ge=w==null?void 0:w.tags)==null?void 0:ge.split(",").map(U=>s("meta",{property:"og:video:tag",content:U},U)),w?s("script",{type:"application/ld+json",children:zs(w)}):null]}),s(Sr,{inlineLayout:!1,isLoading:!1,isLoggedIn:!0,hasSubscription:!0,accessModel:o,title:$.title,description:$.description,item:w,primaryMetadata:O,image:$.image,startWatchingButton:Q,shareButton:B,trailerButton:null,favoriteButton:null,player:w&&s(Rr,{open:d&&P,onClose:h,item:w,title:$.title,primaryMetadata:O,feedId:e,liveStartDateTime:u,liveEndDateTime:g,liveFromBeginning:y}),children:s("div",{className:Xn.epgContainer,children:s(Nw,{channels:k,onChannelClick:T,onProgramClick:E,channel:b,program:m,config:r})})})]})},zr=new Do;zr.registerByContentType(Ow,"live");zr.registerDefault(z1);const Fw=()=>{const t=qt().id||"",{isLoading:n,isFetching:r,error:o,data:a}=Ht(t),{t:i}=I("error");if(n)return s(lt,{});if(o||!a)return s(we,{title:i("playlist_not_found")});const c=zr.getScreen(a);return s(c,{data:a,isLoading:r})},Bw="_layout_1qoum_1",Rw="_main_1qoum_7",Ww="_footer_1qoum_11",Vw="_divider_1qoum_26",qw="_buttonContainer_1qoum_32",Rt={layout:Bw,main:Rw,footer:Ww,divider:Vw,buttonContainer:qw},jw="_header_6kx9z_1",Hw="_fixed_6kx9z_7",Uw="_container_6kx9z_17",zw="_menu_6kx9z_24",Jw="_iconButton_6kx9z_28",Yw="_brand_6kx9z_36",Gw="_nav_6kx9z_41",Qw="_search_6kx9z_54",Kw="_mobileSearch_6kx9z_58",Zw="_mobileSearchActive_6kx9z_68",Xw="_buttonContainer_6kx9z_73",eb="_userMenuButton_6kx9z_78",tb="_brandCentered_6kx9z_82",ye={header:jw,fixed:Hw,static:"_static_6kx9z_12",container:Uw,menu:zw,iconButton:Jw,brand:Yw,nav:Gw,search:Qw,mobileSearch:Kw,mobileSearchActive:Zw,buttonContainer:Xw,userMenuButton:eb,brandCentered:tb},nb="_searchBar_bqz0j_1",rb="_icon_bqz0j_6",sb="_input_bqz0j_12",ob="_clearButton_bqz0j_34",dn={searchBar:nb,icon:rb,input:sb,clearButton:ob},Jo=re("0 0 24 24",s("g",{children:s("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})),ab=re("0 0 18 18",s("g",{children:s("path",{d:"M9 1C4.58 1 1 4.58 1 9s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm4 10.87L11.87 13 9 10.13 6.13 13 5 11.87 7.87 9 5 6.13 6.13 5 9 7.87 11.87 5 13 6.13 10.13 9 13 11.87z"})})),xs=({query:e,onQueryChange:t,onClearButtonClick:n,inputRef:r})=>{const{t:o}=I("search");return _("div",{className:dn.searchBar,children:[s(Jo,{className:dn.icon}),s("input",{className:dn.input,type:"text",value:e,onChange:t,"aria-label":o("search_bar.search_label"),placeholder:o("search_bar.search_placeholder"),ref:r}),e?s(_e,{className:dn.clearButton,"aria-label":o("search_bar.clear_search_label"),onClick:n,children:s(ab,{})}):null]})},ib="_logo_179rk_1",cb={logo:ib},lb=({src:e,onLoad:t})=>{const[n,r]=f.exports.useState({height:void 0,width:void 0}),o=a=>{const{height:i,width:c}=a.currentTarget;r({height:i,width:c}),t()};return s(fr,{to:"/",children:s("img",{className:cb.logo,alt:"logo",src:e,height:n.height,width:n.width,onLoad:o,onError:t})})},db=re("0 0 24 24",_("g",{children:[s("path",{d:"M0 0h24v24H0V0z",fill:"none"}),s("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})]})),ub="_popover_1qhjo_1",pb={popover:ub},mb=({callback:e,children:t})=>{const n=f.exports.useRef();return f.exports.useEffect(()=>{const r=o=>{var a;!n.current||!(o.target instanceof Node)||n.current!==o.target&&!((a=n.current)!=null&&a.contains(o.target))&&e()};return setTimeout(()=>document.addEventListener("click",r),1),()=>document.removeEventListener("click",r)},[e]),fe.cloneElement(t,{ref:r=>{n.current=r}})},hb=({children:e,isOpen:t,onClose:n})=>s(So,{open:t,duration:250,direction:"right",children:s(mb,{callback:n,children:s("div",{className:A(pb.popover),children:e})})}),fb="_panel_1wo5t_1",_b="_menuItems_1wo5t_14",gb="_button_1wo5t_24",yb="_divider_1wo5t_28",wb="_inPopover_1wo5t_34",un={panel:fb,menuItems:_b,button:gb,divider:yb,inPopover:wb},bb="_menuButton_z2u65_1",vb="_small_z2u65_21",Cb="_startIcon_z2u65_25",xb="_active_z2u65_35",gt={menuButton:bb,small:vb,startIcon:Cb,active:xb},Ct=({label:e,to:t,onClick:n,tabIndex:r=0,active:o=!1,startIcon:a,small:i=!1})=>{const c=a?s("div",{className:gt.startIcon,children:a}):null,l=d=>A(gt.menuButton,{[gt.small]:i},{[gt.active]:d});return t?_(Ns,{"aria-label":e,className:({isActive:d})=>l(d||o),onClick:n,to:t,tabIndex:r,end:!0,children:[c,s("span",{className:gt.label,children:e})]}):_("div",{"aria-label":e,className:l(o),onClick:n,tabIndex:r,children:[c,s("span",{className:gt.label,children:e})]})},Yo=({showPaymentsItem:e,inPopover:t=!1,onClick:n})=>{const{t:r}=I("user"),o=ee(),a=f.exports.useCallback(async()=>{n&&n(),await It(),o("/",{replace:!0})},[n,o]),i=_("ul",{className:un.menuItems,children:[s("li",{children:s(Ct,{small:t,onClick:n,to:"/u/my-account",label:r("nav.account"),startIcon:s(Hr,{})})}),s("li",{children:s(Ct,{small:t,onClick:n,to:"/u/favorites",label:r("nav.favorites"),startIcon:s(Vr,{})})}),e&&s("li",{children:s(Ct,{small:t,onClick:n,to:"/u/payments",label:r("nav.payments"),startIcon:s(Ho,{})})}),s("hr",{className:A(un.divider,{[un.inPopover]:t})}),s("li",{children:s(Ct,{small:t,onClick:a,label:r("nav.logout"),startIcon:s(Uo,{})})})]});return t?s("nav",{className:un.panel,children:i}):i},kb=({children:e,headerType:t="static",onMenuButtonClick:n,logoSrc:r,searchBarProps:o,searchActive:a,onSearchButtonClick:i,searchEnabled:c,onCloseSearchButtonClick:l,onLoginButtonClick:d,onSignUpButtonClick:p,isLoggedIn:u,userMenuOpen:g,toggleUserMenu:y,canLogin:h=!1,showPaymentsMenuItem:v})=>{const{t:k}=I("menu"),[b,m]=f.exports.useState(!1),x=be(),C=A(ye.header,ye[t],{[ye.brandCentered]:x<=q.sm,[ye.mobileSearchActive]:a&&x<=q.sm}),N=x<=q.sm?a?_("div",{className:ye.mobileSearch,children:[s(xs,{...o}),s(_e,{className:ye.iconButton,"aria-label":"Close search",onClick:()=>{l&&l()},children:s(Sn,{})})]}):s(_e,{className:ye.iconButton,"aria-label":"Open search",onClick:()=>{i&&i()},children:s(Jo,{})}):s(xs,{...o}),S=()=>!h||x<=q.sm?null:u?_(fe.Fragment,{children:[s(_e,{className:A(ye.iconButton,ye.userMenuButton),"aria-label":k("open_user_menu"),onClick:()=>y(!g),children:s(Hr,{})}),s(hb,{isOpen:g,onClose:()=>y(!1),children:s(Yo,{onClick:()=>y(!1),showPaymentsItem:v,inPopover:!0})})]}):_("div",{className:ye.buttonContainer,children:[s(M,{onClick:d,label:k("sign_in")}),s(M,{variant:"contained",color:"primary",onClick:p,label:k("sign_up")})]});return s("header",{className:C,children:_("div",{className:ye.container,children:[s("div",{className:ye.menu,children:s(_e,{className:ye.iconButton,"aria-label":k("open_menu"),onClick:n,children:s(db,{})})}),r&&s("div",{className:ye.brand,children:s(lb,{src:De(r),onLoad:()=>m(!0)})}),s("nav",{className:ye.nav,"aria-label":"menu",children:b||!r?e:null}),s("div",{className:ye.search,children:c?N:null}),S()]})})},Sb="_backdrop_etahg_1",Nb="_sidebar_etahg_13",Pb="_heading_etahg_26",$b="_group_etahg_31",Ib="_open_etahg_41",Tb="_visible_etahg_49",yt={backdrop:Sb,sidebar:Nb,heading:Pb,group:$b,open:Ib,visible:Tb},Eb=({isOpen:e,onClose:t,children:n})=>{const{t:r}=I("menu");return _(f.exports.Fragment,{children:[s("div",{className:A(yt.backdrop,{[yt.visible]:e}),onClick:t}),_("div",{className:A(yt.sidebar,{[yt.open]:e}),children:[s("div",{className:yt.heading,children:s(_e,{onClick:t,"aria-label":r("close_menu"),tabIndex:e?0:-1,children:s(Sn,{})})}),s("nav",{className:yt.group,onClick:t,children:n})]})]})},Lb=()=>{const e=ce(),t=ee(),{t:n}=I("common"),{config:r,accessModel:o}=j(({config:L,accessModel:B})=>({config:L,accessModel:B}),X),{menu:a,assets:i,siteName:c,description:l,styling:d,features:p}=r,{clientId:u}=zt(),{searchPlaylist:g}=p||{},{footerText:y}=d||{},{searchQuery:h,searchActive:v,userMenuOpen:k}=Ke(({searchQuery:L,searchActive:B,userMenuOpen:Q})=>({searchQuery:L,searchActive:B,userMenuOpen:Q}),X),{updateSearchQuery:b,resetSearchQuery:m}=jo(),x=!!W(L=>L.user),C=f.exports.useRef(null),[N,S]=f.exports.useState(!1),w=i.banner;f.exports.useEffect(()=>{v&&C.current&&C.current.focus()},[v]);const P=()=>{Ke.setState({searchActive:!0,preSearchPage:e})},$=()=>{m(),Ke.setState({searchActive:!1})},O=()=>{t(K(e,"u","login"))},E=()=>{t(K(e,"u","create-account"))},T=L=>Ke.setState({userMenuOpen:L}),D=()=>u?x?s(Yo,{showPaymentsItem:o!=="AVOD"}):_("div",{className:Rt.buttonContainer,children:[s(M,{fullWidth:!0,onClick:O,label:n("sign_in")}),s(M,{variant:"contained",color:"primary",onClick:E,label:n("sign_up"),fullWidth:!0})]}):null;return _("div",{className:Rt.layout,children:[_(at,{children:[s("title",{children:c}),s("meta",{name:"description",content:l}),s("meta",{property:"og:description",content:l}),s("meta",{property:"og:title",content:c}),s("meta",{name:"twitter:title",content:c}),s("meta",{name:"twitter:description",content:l})]}),_("div",{className:Rt.main,children:[_(kb,{onMenuButtonClick:()=>S(!0),logoSrc:w,searchEnabled:!!g,searchBarProps:{query:h,onQueryChange:L=>b(L.target.value),onClearButtonClick:()=>b(""),inputRef:C},searchActive:v,onSearchButtonClick:P,onCloseSearchButtonClick:$,onLoginButtonClick:O,onSignUpButtonClick:E,isLoggedIn:x,userMenuOpen:k,toggleUserMenu:T,canLogin:!!u,showPaymentsMenuItem:o!=="AVOD",children:[s(M,{label:n("home"),to:"/",variant:"text"}),a.map(L=>s(M,{label:L.label,to:`/p/${L.contentId}`,variant:"text"},L.contentId))]}),_(Eb,{isOpen:N,onClose:()=>S(!1),children:[s(Ct,{label:n("home"),to:"/",tabIndex:N?0:-1}),a.map(L=>s(Ct,{label:L.label,to:`/p/${L.contentId}`,tabIndex:N?0:-1},L.contentId)),s("hr",{className:Rt.divider}),D()]}),s(Ca,{})]}),!!y&&s(gr,{className:Rt.footer,markdownString:y,inline:!0})]})};function Ab(){const{t:e}=I("error");return s($s,{children:_(Ie,{element:s(Lb,{}),errorElement:s(o1,{}),children:[s(Ie,{index:!0,element:s(l1,{})}),s(Ie,{path:"/p/:id",element:s(Fw,{})}),s(Ie,{path:"/m/:id/*",element:s(jp,{})}),s(Ie,{path:"/s/:id/:slug",element:s(g1,{})}),s(Ie,{path:"/q/*",element:s(_1,{})}),s(Ie,{path:"/u/*",element:s(W1,{})}),s(Ie,{path:"/o/about",element:s(c1,{})}),s(Ie,{path:"/*",element:s(we,{title:e("notfound_error_heading","Not found"),message:e("notfound_error_description","This page doesn't exist.")})})]})})}const Mb=()=>{const{t:e}=I("error"),t=ze("settings-init",s1,{enabled:!0,retry:1,refetchInterval:!1}),[n,r]=xa(),o=f.exports.useMemo(()=>My(n,t.data),[n,t.data]);f.exports.useEffect(()=>{t.data&&Dy(n,t.data,o)&&r(n,{replace:!0})},[o,n,r,t.data]);const a=ze("config-init-"+o,async()=>await t1(o),{enabled:t.isSuccess,retry:o?1:0,refetchInterval:!1});f.exports.useEffect(()=>{bm()},[]);const i=nr;return t.isLoading||a.isLoading?s(ie,{}):t.isError?s(we,{title:e("settings_invalid"),message:e("check_your_settings"),error:t.error,helpLink:"https://github.com/jwplayer/ott-web-app/blob/develop/docs/initialization-file.md"}):_(ae,{children:[!a.isError&&!a.isLoading&&s(Ab,{}),a.isError&&!i&&s(we,{title:e("config_invalid"),message:e("check_your_config"),error:a.error,helpLink:"https://github.com/jwplayer/ott-web-app/blob/develop/docs/configuration.md"}),i,s(Ay,{}),nr]})};function Db(){const[e,t]=f.exports.useState({isLoading:!0});return f.exports.useEffect(()=>{$f().then(()=>t({isLoading:!1})).catch(r=>t({isLoading:!1,error:r}))},[]),e.isLoading?s(ie,{}):e.error?s(Rs,{title:"Unable to load translations",message:"Check your language settings and try again later. If the problem persists contact technical support.",error:e.error}):s(Ia,{children:s(ka,{children:s(Mb,{})})})}ks.render(s(Db,{}),document.getElementById("root"));$a();export{s as a,Vb as c,qb as g,_ as j};
